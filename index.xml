<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>the stupidest thing...</title>
    <link>/</link>
    <description>Recent content on the stupidest thing...</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>The text in this work is licensed under CC-BY-4.0, https://creativecommons.org/licenses/by/4.0/legalcode; code licensed under the MIT license</copyright>
    <lastBuildDate>Sat, 28 Sep 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>classifying pvc states</title>
      <link>/2024/09/28/pvc-states/</link>
      <pubDate>Sat, 28 Sep 2024 00:00:00 +0000</pubDate>
      
      <guid>/2024/09/28/pvc-states/</guid>
      <description>&lt;p&gt;Following up on my &lt;a href=&#34;https://kbroman.org/blog/2024/09/24/premature-ventricular-complexes/&#34;&gt;post about my heart arrhythmia&lt;/a&gt;,
and my &lt;a href=&#34;https://kbroman.org/blog/2024/09/25/covid-is-so-weird/&#34;&gt;post about my current covid infection&lt;/a&gt; too: yesterday
I was wearing my &lt;a href=&#34;https://www.polar.com/us-en/sensors/h10-heart-rate-sensor&#34;&gt;Polar H10 chest strap&lt;/a&gt; and watching my PVCs on my
&lt;a href=&#34;https://github.com/kbroman/AndroidPolarPVC2&#34;&gt;Android app&lt;/a&gt;, and I noticed &lt;em&gt;very&lt;/em&gt; frequent PVCs. My heart seemed to be
alternating between bigeminy (every other beat a PVC) and trigeminy
(every third beat a PVC). I was also feeling particularly crappy from
the covid.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a two minute example of what my heart was doing, with PVCs marked
pink and normal beats marked blue. This has a stretch of trigeminy, a
bit of bigeminy, and then back to trigeminy.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/bi_tri_geminy_2024-09-27.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/bi_tri_geminy_2024-09-27_small.png&#34; alt=&#34;ECG data showing stretches of trigeminy and bigeminy&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Today I&amp;rsquo;m feeling better, and so I thought I&amp;rsquo;d take the ECG data from
yesterday and identify stretches of bigeminy, trigeminy, or normal
(&amp;ldquo;sinus rhythm&amp;rdquo;, with no PVCs).
I had data just from about 11:45am to 8:30pm, and I compared it
to some data from back in May, where I had data from 6am to the
following 6am.&lt;/p&gt;
&lt;p&gt;What I do is turn the heart beats into a string of characters N or P
(or O for omitted), and then look for stretches of beats that fit a
particular pattern. I used a minimum length of 18 beats, either
repeated N, or repeated NP, or repeated NNP.&lt;/p&gt;
&lt;p&gt;In the following plot, blue is normal sinus rhythm, orange is bigeminy, and green is
trigeminy. Purple is omitted data, and white is some other state
(except on 2024-09-27 in the lower right, where the patches of white at
the top and bottom are missing data). Time is moving from the lower
left to the upper right, with each row being a single hour.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/states_mult_days.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/states_mult_days_small.png&#34; alt=&#34;Four days of data on PVC state over time&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Wow, each day is really different.&lt;/p&gt;
&lt;p&gt;Yesterday (lower-right) I did have a lot of bigeminy (in orange),
alternately with trigeminy (in green). I wish I&amp;rsquo;d measured the full 24 hours.&lt;/p&gt;
&lt;p&gt;The first day here, 2024-05-08 (upper left), has a lot of normal
rhythm, but a big chunk of trigeminy. The next day, 2024-05-10 (upper
right), is almost entirely trigeminy. The third day, 2024-05-12 (lower
left), is more like the first day, though with a lot of trigeminy in
the times that were previously normal rhythm.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>covid is so weird</title>
      <link>/2024/09/25/covid-is-so-weird/</link>
      <pubDate>Wed, 25 Sep 2024 00:00:00 +0000</pubDate>
      
      <guid>/2024/09/25/covid-is-so-weird/</guid>
      <description>&lt;p&gt;Last December, I caught COVID for the first time, and I ended up
having symptoms for 14 days and continuing to test positive on at-home
rapid-tests for 18 days. I was testing daily at that point, and didn&amp;rsquo;t
exit isolation until day 21, after 3 days of negative tests. I think I
caught the infection early, and I started on Paxlovid immediately, and
sort of wonder whether the Paxlovid contributed to the infection
having lasted so long.&lt;/p&gt;
&lt;p&gt;A week ago Monday, I came home from teaching and felt I had a bit of a
headache and sore throat, and so did a COVID test, and was positive. This was
nine months after my first COVID infection, and just 10 days after
having gotten the new vaccine.&lt;/p&gt;
&lt;p&gt;I started Paxlovid immediately, but Tuesday I felt quite sick and had
a fever. But then Wednesday, I felt basically fine.&lt;/p&gt;
&lt;p&gt;And then Thursday through Saturday I felt totally fine and tested
negative each day, and so I declared victory and stopped isolating
from my family. (I continued to do my teaching online, though, just in
case.) I tested negative again on Monday and this morning (Wednesday).&lt;/p&gt;
&lt;p&gt;But then this evening I realized that I had a runny nose, so I tested
again and it was positive. So back into the basement I go.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>premature ventricular complexes</title>
      <link>/2024/09/24/premature-ventricular-complexes/</link>
      <pubDate>Tue, 24 Sep 2024 00:00:00 +0000</pubDate>
      
      <guid>/2024/09/24/premature-ventricular-complexes/</guid>
      <description>&lt;p&gt;This is a long story about a personal health issue, but it&amp;rsquo;s also
about programming and data analysis.&lt;/p&gt;
&lt;h2 id=&#34;pvcs&#34;&gt;PVCs&lt;/h2&gt;
&lt;p&gt;Early last year, a phlebotomist at the Red Cross (where I was
donating platelets), when taking my pulse, observed that my heart was
doing a bit of tango: beat-beat-pause-beat-beat-pause.&lt;/p&gt;
&lt;p&gt;I had an appointment for a physical the following week, so I asked
about it there, and the nurse confirmed the strange pulse rhythm.
The doctor ordered an ECG and a bunch of blood work (which was normal
except for having low iron, since I&amp;rsquo;d &lt;em&gt;just&lt;/em&gt; donated platelets).&lt;/p&gt;
&lt;p&gt;While a typical ECG recording is only
for a few seconds, it did catch the odd pattern, which turned
out to be &lt;a href=&#34;https://en.wikipedia.org/wiki/Premature_ventricular_contraction&#34;&gt;premature ventricular complexes
(PVCs)&lt;/a&gt;
(also known as premature ventricular &lt;em&gt;contractions&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Basically, one of the ventricles initiates an extra beat, which happens a bit
closer to the regular beat and causes a bit of a pause afterwards. And
the extra ventricle contraction happens before it&amp;rsquo;s been able to fill
with blood, so it&amp;rsquo;s seen on the ECG but not felt in the pulse.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve had no symptoms at all. Many others who have PVCs notice them
and may find them disturbing or even painful, but I&amp;rsquo;ve felt nothing.&lt;/p&gt;
&lt;h2 id=&#34;initial-diagnostics&#34;&gt;Initial diagnostics&lt;/h2&gt;
&lt;p&gt;So they ordered a 24-hour &lt;a href=&#34;https://en.wikipedia.org/wiki/Holter_monitor&#34;&gt;Holter
monitor&lt;/a&gt;, a portable ECG
to determine the frequency of these aberrant beats. The results indicated
that, of the about 100k beats over the 24 hours, nearly 20% were these
PVCs.&lt;/p&gt;
&lt;p&gt;PVCs are pretty normal. The longer you measure someone&amp;rsquo;s heart
activity, the more likely you&amp;rsquo;ll see a PVC. But typically you&amp;rsquo;ll see
about 2 PVCs in 24 hours, with the 95th percentile being around
200 (see &lt;a href=&#34;https://doi.org/10.1161/CIRCULATIONAHA.119.042434&#34;&gt;Marcus
2020&lt;/a&gt;). Seeing
more than 1000 PVCs is pretty rare, and seeing &amp;gt;10% is often viewed as a
problem that should be corrected.&lt;/p&gt;
&lt;p&gt;I didn&amp;rsquo;t get to see much of the data (though it was a pretty detailed,
28-page report), but there was a table with number of beats and PVCs by
hour, which showed a clear association with heart rate: the frequency
of PVCs is much higher when my heart rate is elevated (that is, when
I&amp;rsquo;m exercising). Here&amp;rsquo;s a graph, with each dot being one hour during
the 24-hour period. When my heart rate was below 80 bpm, the frequency of
PVCs was around 10%, while when my heart rate was above 80 bpm, the
frequency of PVCs was around 25%.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/pvc_v_hr_holter.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/pvc_v_hr_holter_small.png&#34; alt=&#34;PVC percent vs heart rate by hour&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;They had also ordered an
&lt;a href=&#34;https://en.wikipedia.org/wiki/Echocardiography&#34;&gt;echocardiogram&lt;/a&gt;,
which was scheduled a month later. The echo (ultrasound imaging of the
heart) seeks to look for general problems with the heart&amp;rsquo;s shape and
functioning: are things the right size and thickness, are the valves
working right, is it pushing out the appropriate amount of blood?
Everything looked normal, except for the frequent PVCs which interfered
somewhat with the technician&amp;rsquo;s ability to measure the &lt;a href=&#34;https://en.wikipedia.org/wiki/Ejection_fraction&#34;&gt;left ventricular
ejection fraction
(LVEF)&lt;/a&gt;, which is a
key measure of heart function.&lt;/p&gt;
&lt;h2 id=&#34;home-ecg&#34;&gt;Home ECG&lt;/h2&gt;
&lt;p&gt;Since I&amp;rsquo;ve had no symptoms, I looked for ways to be able to measure
the PVCs myself. My apple watch has an ECG function, but it is kind of
finicky.&lt;/p&gt;
&lt;p&gt;So I purchased a &lt;a href=&#34;https://store.kardia.com/products/kardiamobile6l&#34;&gt;Kardia 6-lead
ECG&lt;/a&gt;, which is
similar to the apple watch in that you have to stop everything and
measure the ECG, but it is much easier to use and gives more detail,
so the presence of PVCs are very clear.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a typical image, which shows two normal beats, a PVC, and then
another normal beat.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/kardia_pvc.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/kardia_pvc_small.png&#34; alt=&#34;Kardia 6-lead ECG trace showing two normal beats, a PVC, and then anormal beat&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Kardia measures 30 seconds at a time, and so
I spent a some time thinking about study designs to get a good
understanding of the overall percent PVCs over the course of a day
when you can see just individual 30 second windows. But I didn&amp;rsquo;t make
much progress on that question. The Kardia gives good data so you can
see what&amp;rsquo;s going on in the moment, but it&amp;rsquo;s hard to see how best to
use it to characterize the overall situation.&lt;/p&gt;
&lt;p&gt;Use of the Kardia did make clear the association between PVCs and
exercise, for me. The frequency of PVCs would generally be low when my
heart rate was low but would increase during exercise when my heart
rate was elevated.&lt;/p&gt;
&lt;h2 id=&#34;temporary-cardiologist&#34;&gt;Temporary cardiologist&lt;/h2&gt;
&lt;p&gt;A full four months after the echocardiogram, I finally got to see a
cardiologist. But it turned out to be a temporary cardiologist. (I
asked him how long he&amp;rsquo;d been in Madison, and he said he actually was
semi-retired and lived in Arizona and was just here to help work
through the queue at UW Health.) He was very patient and gave good
explanations. But that was the one and only time I was to see him.&lt;/p&gt;
&lt;p&gt;He said the key thing was to look for potential heart problems that
could be the cause of the PVCs. The echocardiogram indicated that
there was no enlargement nor problems with heart valves or function,
but he ordered two additional tests: a nuclear stress test (which
could identify blockages) and a cardiac MRI (which would give a more
precise view of heart structure and function). But even if they found
no problems, they would probably want to do something to correct the
PVCs, either through medication or by an ablation procedure (where
they thread a device up through a blood vessel from the groin into the
heart, measure the precise location where the PVCs are being initiated,
and then burn a tiny bit of tissue at that spot using microwaves).&lt;/p&gt;
&lt;h2 id=&#34;further-diagnostics&#34;&gt;Further diagnostics&lt;/h2&gt;
&lt;p&gt;The nuclear stress test was done within a couple of weeks after seeing
the cardiologist. They do a CT scan, inject you with some nuclear
tracing substance, make you run on a treadmill, and then do the
CT scan again. As I understand it, they&amp;rsquo;re looking for blood vessels
that are not getting the tracer, which would indicate a blockage. But
it all looked perfectly fine, other than the very high rate of PVCs when
exercising.&lt;/p&gt;
&lt;p&gt;The cardiac MRI was scheduled for three months later. But then I
caught COVID (my first COVID infection) and so it had to be postponed
a couple of more months. The cardiac MRI had some difficulties because
of the frequent PVCs, but indicated possible reduced function of the
left ventricle. (The echocardiogram measured the left ventricle
ejection fraction, LVEF, to be 60%. The cardiac MRI measured the LVEF
to be 47%. Normal LVEF should be around 50-75%.) The possibly reduced
heart function got me an appointment with another cardiologist right
away.&lt;/p&gt;
&lt;h2 id=&#34;new-medication&#34;&gt;New medication&lt;/h2&gt;
&lt;p&gt;The meeting with this cardiologist was brief. His first suggestion was
that I be scheduled to see an electrophysiologist. (It turns out that
there are two kinds of cardiologists: plumbers and electricians. I&amp;rsquo;d
seen two plumbers, but I really need an electrician.) But that,
of course, would mean another four month delay.&lt;/p&gt;
&lt;p&gt;The second suggestion was to change my medication.
I&amp;rsquo;ve been taking the beta blocker atenolol for a number of years, to
control blood pressure. It is also supposed to have some effect of
reducing arrhythmias, but he recommended switching to a more modern
beta blocker, metoprolol.&lt;/p&gt;
&lt;p&gt;The new medication had no side effects, but my blood pressure clearly
increased, and so they increased the dosage and then increased it
again. At that point my blood pressure was back under control, but
I saw no effect on the PVCs.&lt;/p&gt;
&lt;p&gt;I was trying to use the Kardia device to
measure possible changes, but it was tricky, since I could just see
30-second windows. Here is a plot of percent PVC vs heart rate
with the two different medications, which shows the relationship
between PVCs and heart rate, but no obvious effect of medication. Each
dot corresponds to a 30-second window.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/pvc_v_hr_meds.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/pvc_v_hr_meds_small.png&#34; alt=&#34;PVC percent vs heart rate before and after change in medication&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The doctor ordered another 24-hour Holter monitor, but it could not be
scheduled for &amp;gt;6 weeks.&lt;/p&gt;
&lt;h2 id=&#34;polar-h10&#34;&gt;Polar H10&lt;/h2&gt;
&lt;p&gt;At this point I was quite frustrated with the waiting. It had been
more than a year since the PVCs had been identified, and now I was to
wait all summer, to get the official PVC measurements
and then to finally see an electrophysiologist. In the meantime, I
wanted to find a better way to get continuous data on my PVCs.&lt;/p&gt;
&lt;p&gt;After searching for options on the web, I decided to try a &lt;a href=&#34;https://www.polar.com/us-en/sensors/h10-heart-rate-sensor&#34;&gt;Polar H10
chest-strap heart-rate
sensor&lt;/a&gt;. It
costs about $100 and is basically a single-lead ECG with bluetooth.
And Polar provides a &lt;a href=&#34;https://github.com/polarofficial/polar-ble-sdk&#34;&gt;software development kit
(SDK)&lt;/a&gt; for iPhones and
Android.&lt;/p&gt;
&lt;p&gt;There are probably many iPhone apps for the Polar H10, and I picked
basically the first one I found, &lt;a href=&#34;https://www.ecglogger.com/&#34;&gt;ECG
Logger&lt;/a&gt;, and paid $7 to enable its data
download capability, which made it very easy to save data in CSV
files, each containing a one-hour block of time.&lt;/p&gt;
&lt;p&gt;And then I immediately started on an R package,
&lt;a href=&#34;https://github.com/kbroman/detectPVC/&#34;&gt;detectPVC&lt;/a&gt;, to analyze and
graph the data. The main challenges were to identify the peaks, to
identify and omit messy intervals from the data, and then to classify
the peaks as normal beats vs PVCs. Here&amp;rsquo;s a stretch of 2 minutes of
data, with the peaks labeled with dots (blue is a normal peak and pink
is a PVC). This is a long stretch of &lt;em&gt;trigeminy&lt;/em&gt;, where every third
beat is a PVC, which is a very common pattern for me.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/trigeminy.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/trigeminy_small.png&#34; alt=&#34;2 min data from a Polar H10 with a peaks identified as either normal (blue) or PVC (pink)&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For the peak finding, I used a function in the R package
&lt;a href=&#34;https://cran.r-project.org/package=rsleep&#34;&gt;rsleep&lt;/a&gt;. (That package has
since been removed from CRAN, but it was released under the &lt;a href=&#34;https://en.wikipedia.org/wiki/MIT_License&#34;&gt;MIT
license&lt;/a&gt;, so I just grabbed
the code for the one function I was using.) To identify messy
intervals, I basically look for signal being &amp;gt; 2 in absolute value or
having excessive missing data.&lt;/p&gt;
&lt;p&gt;To classify the peaks as normal beats vs PVCs, I calculated various
statistics on each peak: relative position between previous and
following peaks (usually much closer to previous peak), the height of
the peak (tend to be higher), and how quickly it goes from local
maximum to the next local minimum (tends to be sooner). I ended up
just going with the last of these. I could do more to compare the
shape of the peaks, normal vs PVC, but this simple statistic seemed to
work sufficiently well for my purposes.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s not super comfortable to wear the chest strap constantly, but I
did try wearing it for 24 hours, and then wore it every other day for
a couple of weeks. Here&amp;rsquo;s a plot of the running average of PVC
percentage over time on nine different days. Note that the last six
days are basically 6am to the following day at 6am, while the times
for the first three days are a bit different.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/pvcs_many_days.png&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/pvcs_many_days_small.png&#34; alt=&#34;2 min data from a Polar H10 with a peaks identified as either normal (blue) or PVC (pink)&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A main feature is the observation I&amp;rsquo;d had previously: PVCs increase
when I&amp;rsquo;m exercising and go back down when I&amp;rsquo;m resting (including at
night). But there is a lot of day-to-day variation, with the overall
percent PVCs being as low as 12% or as high as 28%. Much of this is
just an indicator of how much I had been exercising, but there were
also days (for example, 2024-05-05) where there was a sustained high
rate of PVCs.&lt;/p&gt;
&lt;p&gt;I presented some of this data to the cardiologist, basically saying
&amp;ldquo;With this device I can measure the rate of PVCs, and sometimes it&amp;rsquo;s
really high. Can we try a different medication?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;He was not at all interested, and said to just wait until we got the
Holter monitor, and until I could see the electrophysiologist.&lt;/p&gt;
&lt;h2 id=&#34;android-app&#34;&gt;Android app&lt;/h2&gt;
&lt;p&gt;The cardiologist wasn&amp;rsquo;t interested, but I had become super interested.
And I really wanted to have a way to look at the PVC percentage in
real time. So I started to look at what it would take to make my own
app, or to modify someone else&amp;rsquo;s.&lt;/p&gt;
&lt;p&gt;I decided to focus on Android apps, because it seemed much more likely
that I would find open source software that I could learn from and
build on. So I got myself a Samsung Galaxy phone, got some books on
Android app development, and looked for suitable apps on GitHub.
Writing an Android app involves Java (or
&lt;a href=&#34;https://kotlinlang.org/&#34;&gt;Kotlin&lt;/a&gt;, which is sort of &amp;ldquo;Java improved&amp;rdquo;)
and XML, two of my least favorite things, but so be it.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kenevans.net&#34;&gt;Kenneth Evans&lt;/a&gt; has an Android app on GitHub,
&lt;a href=&#34;https://github.com/KennethEvans/KE.Net-ECG&#34;&gt;KE.Net ECG&lt;/a&gt;, that is
released under the MIT license and includes both a plot of the ECG
trace as well as a peak-finding algorithm and a plot of heart rate
over time. (The plots are made using the &lt;a href=&#34;https://github.com/halfhp/androidplot&#34;&gt;Android Plot
library&lt;/a&gt;.) That looked
perfect for my purposes, and so I &lt;a href=&#34;https://github.com/kbroman/AndroidPolarPVC/tree/add_pvc&#34;&gt;forked his
code&lt;/a&gt;, and with
just a day&amp;rsquo;s work I was able to add a bit of code to classify peaks as
normal or PVCs and add a read-out of PVC percentage (based on the last
100 peaks):&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/android_app.jpg&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/android_app_small.jpg&#34; alt=&#34;screen shot of modified android app&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I wanted to further modify the app to add a plot of the PVC percentage
over time, but digging into the code, it became clear that he was
using an older version of the &lt;a href=&#34;https://github.com/polarofficial/polar-ble-sdk&#34;&gt;Polar
SDK&lt;/a&gt;, and so I decided
to throw it all out and start over, but then I found that I
really didn&amp;rsquo;t understand what I was doing (or what he was doing in his
app), and so I started over, but using a bunch of his code and
following his basic design. The revised app,
&lt;a href=&#34;https://github.com/kbroman/AndroidPolarPVC2&#34;&gt;AndroidPolarPVC2&lt;/a&gt;, shows
the ECG trace with peaks annotated as normal or PVC, as well as a plot
of the PVC percentage and heart rate over time. It can also dump the
ECG data to files, in one hour blocks.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/images/android_app_rev.jpg&#34;&gt;&lt;img src=&#34;https://kbroman.org/blog/images/android_app_rev_small.jpg&#34; alt=&#34;screen shot of further improved android app&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The result is exactly what I wanted, though its not nearly as robust
as the &lt;a href=&#34;https://www.ecglogger.com/&#34;&gt;ECG Logger&lt;/a&gt; iPhone app that I had
been using. In particular, it locks up after 90 minutes. I&amp;rsquo;m not sure
why that happens, and it means I can&amp;rsquo;t use it to dump 24 hours worth
of data, as I&amp;rsquo;d been doing with the iPhone app. But for
monitoring my PVCs during the day, it works great; I just need to
re-start it every 90 minutes.&lt;/p&gt;
&lt;h2 id=&#34;pvc-ablation&#34;&gt;PVC ablation&lt;/h2&gt;
&lt;p&gt;When I finally met with the electrophysiologist, I wore the chest
strap and brought the Android phone with the app running. I also
brought a few charts to show some of the things I&amp;rsquo;d observed. But he
showed little interest. He mentioned that there had been attempts
to commercialize similar devices but without success, due to
individual differences in the nature of the PVCs: the classification
of ECG peaks as normal vs PVC would need to be redone for each
patient.&lt;/p&gt;
&lt;p&gt;Still, my &lt;a href=&#34;https://github.com/kbroman/detectPVC&#34;&gt;R
package&lt;/a&gt; and &lt;a href=&#34;https://github.com/kbroman/AndroidPolarPVC2&#34;&gt;Android
app&lt;/a&gt; work well for me and
could be useful starting points for others.&lt;/p&gt;
&lt;p&gt;Anyway, the electrophysiologist talked about possible medications to
reduce the PVCs, but recommended &lt;a href=&#34;https://en.wikipedia.org/wiki/Catheter_ablation&#34;&gt;catheter
ablation&lt;/a&gt;: they
thread a device up through a blood vessel from the groin into the
heart, and then burn a tiny bit of tissue where the PVCs are being
initiated. The &lt;a href=&#34;https://doi.org/10.3390%2Fjcm11216583&#34;&gt;success rate is
high&lt;/a&gt;, but there is also
risk of complications (for example, &lt;a href=&#34;https://doi.org/10.1186/s12872-018-0913-2&#34;&gt;Wang et al.
2018&lt;/a&gt; reported 2 deaths in
1231 patients). I decided to go ahead with it, and have an appointment
for the procedure in two weeks time.&lt;/p&gt;
&lt;h2 id=&#34;when-did-this-start&#34;&gt;When did this start?&lt;/h2&gt;
&lt;p&gt;It&amp;rsquo;s not really clear what causes PVCs. And it wasn&amp;rsquo;t really clear how
long it&amp;rsquo;s been happening with me. It does appear that the COVID-19
pandemic has led to an increase in cardiac arrhythmias including PVCs
(for example, see &lt;a href=&#34;https://doi.org/10.1016/j.tcm.2020.08.002&#34;&gt;Manolis et al.
2020&lt;/a&gt;). But when my PVCs
were first identified (in April 2023) I hadn&amp;rsquo;t yet had COVID, and I
was testing regularly. (I&amp;rsquo;ve had it twice since, despite continuing to
be very cautious to avoid exposure.)&lt;/p&gt;
&lt;p&gt;Recently I had a colonoscopy, in which they monitored my heart with a
6-lead ECG. The ECG was beeping the whole time due to the high
frequency of PVCs. (The nurse quickly turned off the alarm, because it
was annoying.) I&amp;rsquo;d had a colonoscopy at the same clinic in March,
2021, and there had been no noticeable PVCs at that time, so it seems
likely that my PVCs have started since then. But still, it&amp;rsquo;s not
clear why. Maybe it was due to a COVID infection that I never noticed.&lt;/p&gt;
&lt;p&gt;I was hoping that by being able to monitor my PVCs, I might learn more
about what&amp;rsquo;s causing them, but I really haven&amp;rsquo;t. I tried cutting
back on caffeine: I now drink exactly one cup of coffee a day, rather
than 3+, but it&amp;rsquo;s had no effect. Hopefully the ablation procedure is
successful. A month from now, I&amp;rsquo;ll put on the chest strap and do a dozen squat
jumps, and we&amp;rsquo;ll see how my heart responds.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>we are on our own, COVID-wise</title>
      <link>/2022/09/06/on-our-own/</link>
      <pubDate>Tue, 06 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>/2022/09/06/on-our-own/</guid>
      <description>&lt;p&gt;A new academic year has begun, and this year it seems that we&amp;rsquo;re on
our own, when it comes to protecting ourselves against COVID-19.
In the latest guidance from the CDC and UW-Madison, we&amp;rsquo;re told that
&amp;ldquo;individual responsibility&amp;rdquo; is sufficient to combat infectious
disease.&lt;/p&gt;
&lt;p&gt;From the &lt;a href=&#34;https://covidresponse.wisc.edu/faq/&#34;&gt;UW-Madison FAQ about
COVID&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Is it okay to ask someone I work with if they have been vaccinated?&lt;/em&gt;
No. A person&amp;rsquo;s vaccination status is private, just like any other
medical issue or condition, and employees should not be asked to
share this information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;From the &lt;a href=&#34;https://covidresponse.wisc.edu/mask-policy/&#34;&gt;UW-Madison Mask Policy&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;I&amp;rsquo;m not comfortable being around unmasked people. What can I do?&lt;/em&gt;
At this stage in the pandemic, our country is transitioning from
public health orders and mandates to encouragement in using personal
health tools.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was part of a group of other workers and community members that
wrote &lt;a href=&#34;https://bit.ly/uwcovidletter&#34;&gt;an open letter to the new UW-Madison Chancellor&lt;/a&gt;
(which &lt;a href=&#34;https://forms.gle/P7jjjqb9yjRiFoQm6&#34;&gt;you can still sign&lt;/a&gt;),
expressing concern about the continued COVID-19 health risks and
asking for a more robust response, including indoor air quality
assessments, specific and public mitigation guidelines tied to public
health metrics, mask requirements, improved testing, information on
vaccination rates and COVID testing results, and paid COVID sick leave.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://drive.google.com/file/d/1lmqhxdUUzr_mdE5n1sgTJqlvY_naqXR4/view?usp=sharing&#34;&gt;Chancellor&amp;rsquo;s
response&lt;/a&gt;
was disappointing, as we discussed in detail in a &lt;a href=&#34;https://tonemadison.com/articles/guest-column-under-mnookin-uw-madison-is-repeating-its-covid-19-mistakes/&#34;&gt;column in Tone
Madison&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s clear that the university administration is not going to do any
more to help protect student and employee health. So what can &lt;em&gt;we&lt;/em&gt; do?&lt;/p&gt;
&lt;p&gt;First, we&amp;rsquo;ve &lt;a href=&#34;https://www.wuu.info/news/covid-19-posters/&#34;&gt;printed a bunch of posters&lt;/a&gt; to encourage good behaviors
and foster a communal feeling. Designed by a local artist, &lt;a href=&#34;https://meghangriffin.com&#34;&gt;Meghan
Griffin&lt;/a&gt;, and funded by the &lt;a href=&#34;https://wuu.info&#34;&gt;Wisconsin
University Union (WUU)&lt;/a&gt;, I hope to plaster campus
with these.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.wuu.info/wp-content/uploads/2022/09/covid_poster.png&#34;&gt;&lt;img src=&#34;https://www.wuu.info/wp-content/uploads/2022/09/covid_poster_small.png&#34; alt=&#34;Vintage-style poster encouraging good public health behaviors in response to the COVID-19 pandemic&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Second, we&amp;rsquo;ve designed and created a &lt;a href=&#34;https://karlduino.org/CO2monitor&#34;&gt;low-cost CO&lt;sub&gt;2&lt;/sub&gt;
monitor&lt;/a&gt;, and we&amp;rsquo;re making a batch
of 18 of them to lend to people, so they can measure the air
quality/ventilation in their working and teaching spaces.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://karlduino.org/CO2monitor/docs/pics/co2monitor.jpg&#34;&gt;&lt;img src=&#34;https://karlduino.org/CO2monitor/docs/pics/co2monitor_sm.jpg&#34; alt=&#34;CO2 monitor tied to a wooden post with a pink cord&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With the results of that work, we should have data that we can bring
to campus, to get improvements in air ventilation, or at least more
professional assessments of air quality. Further, we will turn to
construction of air filters, such as &lt;a href=&#34;https://cleanaircrew.org/box-fan-filters/&#34;&gt;Corsi-Rosenthal
Boxes&lt;/a&gt;, which people can use
to try to improve the air quality in their working and teaching
spaces, on their own.&lt;/p&gt;
&lt;p&gt;The response from UW-Madison and the CDC has been frustrating. The
&amp;ldquo;individual responsibility&amp;rdquo; approach to infectious disease is in
complete opposition to everything I understand about public health.
But there are some things we can try to do on our own, and so there is
still some hope.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>support the UW Health nurses</title>
      <link>/2022/08/25/support-the-uw-health-nurses/</link>
      <pubDate>Thu, 25 Aug 2022 00:00:00 +0000</pubDate>
      
      <guid>/2022/08/25/support-the-uw-health-nurses/</guid>
      <description>&lt;p&gt;The UW Health nurses have been seeking recognition of their union. UW
Health claims that it cannot legally recognize their union, but
Wisconsin Attorney General Josh Kaul &lt;a href=&#34;https://www.doj.state.wi.us/sites/default/files/news-media/6.2.22_AG_Opinion_Signed.pdf&#34;&gt;issued an opinion&lt;/a&gt; that UW
Health &lt;strong&gt;can&lt;/strong&gt; voluntarily recognize their union. Yesterday, the
nurses voted to hold a 3-day strike, Sept 13-15, 2022.
(See the articles in the &lt;a href=&#34;https://madison.com/news/local/health-med-fit/uw-health-nurses-vote-to-authorize-3-day-strike-in-september-as-they-seek-to/article_505e594c-5669-5dd4-af58-7d9050fc2700.html&#34;&gt;Wisconsin State Journal&lt;/a&gt; and the
&lt;a href=&#34;https://www.jsonline.com/story/news/2022/08/24/uw-health-nurses-vote-strike-if-seiu-union-not-recognized/7869951001/&#34;&gt;Milwaukee Journal Sentinel&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Please join me in supporting the UW Health nurses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Sign up to participate in the picket line,
&lt;a href=&#34;https://tinyurl.com/nursesupportsignup&#34;&gt;https://tinyurl.com/nursesupportsignup&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Contribute to their hardship fund,
&lt;a href=&#34;https://bit.ly/funduwnurses&#34;&gt;https://bit.ly/funduwnurses&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make a public statement of support&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write a letter of support to the &lt;a href=&#34;https://www.uwhealth.org/about-us/uw-health-corporate-governance&#34;&gt;UW Health board&lt;/a&gt;,
&lt;a href=&#34;mailto:corporategovernance@uwhealth.org&#34;&gt;corporategovernance@uwhealth.org&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>wtf uw 5: &#34;student&#34; employees</title>
      <link>/2021/05/14/wtf-uw-5/</link>
      <pubDate>Fri, 14 May 2021 00:00:00 +0000</pubDate>
      
      <guid>/2021/05/14/wtf-uw-5/</guid>
      <description>&lt;p&gt;This is the fifth and final installment of my &amp;ldquo;Karl is so naive&amp;rdquo; series.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve only recently become aware of the big conflict between graduate
student mentors&#39; dual roles of advisor and employer. Now I see it
everywhere.&lt;/p&gt;
&lt;p&gt;Should they take further courses? No just focus on research.&lt;/p&gt;
&lt;p&gt;Should they help out at a software workshop or take on a teaching
assistant position or spend the summer doing an internship in
industry? No focus on our research project.&lt;/p&gt;
&lt;p&gt;Should they finish their dissertation now or continue writing for a
few months? Don&amp;rsquo;t waste time on the introductory chapter; just focus
on finishing the papers.&lt;/p&gt;
&lt;p&gt;Should they finish their dissertation over the summer and then go find
a postdoc, or should they stay for another year or two, writing a
couple of more papers? (Is the answer based on the student&amp;rsquo;s
educational or career needs, or on what&amp;rsquo;s best for the advisor&amp;rsquo;s
research project?)&lt;/p&gt;
&lt;p&gt;This conflict is maybe not a surprise, given the pressure on faculty to be more
productive, to get papers out so they can get the next grant.
But it&amp;rsquo;s so painful to see graduate students treated as
students when it&amp;rsquo;s convenient (when it comes to pay,
benefits, and work hours) but as employees by their advisors.&lt;/p&gt;
&lt;p&gt;Graduate students&#39; salaries are a painful compromise between &amp;ldquo;pay them
more so we can get better ones&amp;rdquo; and &amp;ldquo;don&amp;rsquo;t pay them so much because
it&amp;rsquo;s coming out of my grant.&amp;rdquo; At UW-Madison, graduate student salaries
are severely depressed by the decision a decade ago to charge tuition
to advisors&#39; grants. It would be a lot easier to raise annual salaries
by $6k if not for that annual $12k charge for tuition.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been on a couple of dissertation committees where the conflict
was strongly present. Imagine yourself on a committee of five
that includes a student&amp;rsquo;s two co-advisors and two others who
didn&amp;rsquo;t read the thesis.
Criticism of a student&amp;rsquo;s work is often criticism of the advisor, as
the thesis may be an implementation of the advisor&amp;rsquo;s ideas.
(Dissertation committees at UW-Madison &lt;a href=&#34;https://kb.wisc.edu/grad/page.php?id=71658&#34;&gt;can now include two &amp;ldquo;non-readers.&amp;quot;&lt;/a&gt; I don&amp;rsquo;t
understand the point of committee members who don&amp;rsquo;t read the thesis.
It seems like reading the thesis is the minimal expectation for a
committee member.)&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m particularly concerned about the potential conflicts in the
&amp;ldquo;direct admit&amp;rdquo; system for graduate admissions. Traditionally,
statistics and biostatistics departments have had an admissions
committee that admits a class of students who then take a year or two of
coursework before choosing an advisor. In contrast, in many departments in the
biological sciences, students are recruited by individual faculty
members to work on particular projects with specific funding. This
&amp;ldquo;direct admit&amp;rdquo; system has some potential advantages for students,
including a commitment from a specific advisor for a particular
project in which they have strong interest. And there are advantages
to the advisor, of recruiting a student with known skills and
commitment to your research project. But there&amp;rsquo;s a lot of opportunity
for things to go wrong, including potential for a student to feel
trapped in a particular research lab. And it elevates the conflict
between students&#39; educational needs and advisors&#39; research
productivity goals. I see increased pressure towards direct admissions
of students into research labs, as it leads to more predictable
&amp;ldquo;staffing&amp;rdquo; for research projects, but I think it&amp;rsquo;s overall better for
students to delay the choice of an advisor and research project.&lt;/p&gt;
&lt;p&gt;The story of &lt;a href=&#34;https://bit.ly/3hp1uTZ&#34;&gt;UW-Madison Engineering professor Akbar
Sayeed&lt;/a&gt; combines much of what is wrong here. The
tragedy of a student who felt trapped in a terrible situation. A
faculty member whose &lt;a href=&#34;https://bit.ly/3tMbVDi&#34;&gt;abusive behavior was overlooked for years&lt;/a&gt;, &lt;em&gt;perhaps&lt;/em&gt; because
of his success in bringing grant dollars to campus. The shockingly
&lt;a href=&#34;https://badgerherald.com/news/2019/11/13/uw-professor-akbar-sayeed-to-return-to-campus-this-spring/&#34;&gt;callous and incompetent non-punishment&lt;/a&gt;. But it also points to a reason
for optimism: successful collective action, of &lt;a href=&#34;https://actionnetwork.org/petitions/commit-to-a-graduate-student-workplace-environment-that-is-free-of-bullying-and-harassment&#34;&gt;graduate students
rising up&lt;/a&gt; to protect their colleagues from abuse.&lt;/p&gt;
&lt;p&gt;The conflicts and mistreatment of graduate student employees
is not at all unique to UW-Madison. The tuition on grants business is
maybe unusual, but the tendency to treat graduate student researchers as
exchangeable cogs in a large research machine is common, growing, and pisses me
off.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wtf uw 4: just a shitty corporation</title>
      <link>/2021/05/12/wtf-uw-4/</link>
      <pubDate>Wed, 12 May 2021 00:00:00 +0000</pubDate>
      
      <guid>/2021/05/12/wtf-uw-4/</guid>
      <description>&lt;p&gt;If you want an instant reaction from me, use the word &amp;ldquo;incentivize.&amp;rdquo;
For example, &amp;ldquo;How can we &lt;em&gt;incentivize&lt;/em&gt; faculty to improve their
courses?&amp;rdquo; There&amp;rsquo;s a strong push to insert capitalism and competition
into everything we do.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;ve ever seen &lt;a href=&#34;https://www.insidehighered.com/blogs/globalhighered/faculty-job-interviews-gone-bad&#34;&gt;faculty job interviews in action&lt;/a&gt;,
you likely agree that academics could use a bit of infusion of
professionalism or at least some training in how not to be an
asshole. But the drive to make universities more like businesses just
turns them into shitty corporations with values that have been twisted
away from what&amp;rsquo;s actually important.&lt;/p&gt;
&lt;p&gt;When devoting resources to hiring new faculty, you might expect some
global assessment of what the biggest needs and opportunities are. But
no, we &lt;a href=&#34;https://facstaff.provost.wisc.edu/cluster-hiring-initiative/&#34;&gt;hold a competition&lt;/a&gt;.
Oh, and we won&amp;rsquo;t bother to ask about or consider educational needs.
Selected proposals will mostly hire faculty into Centers and
Institutes with little participation in the university&amp;rsquo;s teaching
mission. This is all an effort to increase research funding.&lt;/p&gt;
&lt;p&gt;The corporatization of UW-Madison has been relentless and
unappetizing. A growing proportion of emails were crafted by human
resources with little apparent understanding of the intended readers.
If only &lt;a href=&#34;https://translate.google.com&#34;&gt;google translate&lt;/a&gt; would include
&amp;ldquo;corporate&amp;rdquo; among the &amp;ldquo;translate from&amp;rdquo; options. And it&amp;rsquo;s not just the
acronyms. For example, among the numerous and detailed emails about &lt;a href=&#34;https://hr.wisc.edu/covid19/furlough/#unemployment-benefits-during-furlough&#34;&gt;COVID-related
furlough&lt;/a&gt;
was the puzzling statement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For the upcoming Memorial Day holiday, employees on Campus-wide,
Intermittent Furlough who take furlough days on both the Friday
before and the Tuesday after Memorial Day will receive holiday pay.
This is a change from recent communications and allows employees
greater flexibility for holiday pay on Memorial Day.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;ve &lt;a href=&#34;https://kbroman.org/blog/2012/05/07/boring-us-to-submission/&#34;&gt;written before&lt;/a&gt;
about my suspicion that the university administration uses corporate
language as a deliberate strategy to reduce faculty involvement.
Anyone eager to participate in the &lt;a href=&#34;https://www.hrdesign.wisc.edu/&#34;&gt;human resources
redesign&lt;/a&gt;, or the &lt;a href=&#34;https://hr.wisc.edu/title-and-total-compensation-study/&#34;&gt;title and total
compensation
whatsit&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;Also this figure, which &lt;em&gt;screams&lt;/em&gt; &amp;ldquo;shitty corporation,&amp;rdquo; &lt;a href=&#34;https://twitter.com/kwbroman/status/1228467586666582027&#34;&gt;broke me&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://pbs.twimg.com/media/EQxkwKQWkAEajvT?format=jpg&amp;amp;name=900x900&#34; alt=&#34;really terrible corporate-ish figure that I just don&amp;rsquo;t have the energy to describe&#34;&gt;&lt;/p&gt;
&lt;p&gt;I am aware of the use of the term &lt;em&gt;talent&lt;/em&gt; for television and movie
actors, but I was surprised to find that the
university has an office of &lt;a href=&#34;https://hr.wisc.edu/about/talent-recruitment-and-engagement/&#34;&gt;Talent Recruitment and
Engagement&lt;/a&gt;
plus an office of &lt;a href=&#34;https://hr.wisc.edu/about/learning-and-talent-development/&#34;&gt;Learning and Talent
Development&lt;/a&gt;,
but maybe I&amp;rsquo;m just not a &lt;a href=&#34;https://www.talent.wisc.edu/fullypreparedtoengage/&#34;&gt;fully engaged
employee&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Why does this corporatization of the university matter? It&amp;rsquo;s not
just that we end up wasting time on &amp;ldquo;mission, vision, and values,&amp;rdquo;
or attempting to decode increasingly opaque emails.
Rather, it&amp;rsquo;s that the university administration
separates itself from faculty and students and focuses on market
forces and satisfying our &amp;ldquo;clients.&amp;rdquo; The market
doesn&amp;rsquo;t reward good teaching. And making
students happy may not be the right goal. Learning can be painful.&lt;/p&gt;
&lt;p&gt;I was appalled to read that the UW-Madison Chancellor, when asked about strengthening relationships with Black students, had told
students, &amp;ldquo;&lt;a href=&#34;https://theblackvoiceuw.org/2020/11/25/chancellor-blank-on-meeting-frequently-with-students-that-isnt-my-job/&#34;&gt;That isn&amp;rsquo;t my job, but that&amp;rsquo;s someone else&amp;rsquo;s
job.&lt;/a&gt;&amp;rdquo;
Given the university&amp;rsquo;s lack of diversity and the many racist
incidents on campus, we have a right to expect more direct
participation or at least a more politic response.
Show the students a bit of respect!&lt;/p&gt;
&lt;p&gt;But back to &lt;em&gt;incentivize&lt;/em&gt;.
The increasingly market-based focus of the university means that in a
discussion on how to improve our courses and curriculum, it&amp;rsquo;s almost
certain that someone will raise the question, &amp;ldquo;How can we
&lt;em&gt;incentivize&lt;/em&gt; faculty to participate in this effort?&amp;rdquo; Because of
course we can&amp;rsquo;t expect them to help their colleagues
and students without direct incentives.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wtf uw 3: faculty are an impediment</title>
      <link>/2021/05/10/wtf-uw-3/</link>
      <pubDate>Mon, 10 May 2021 00:00:00 +0000</pubDate>
      
      <guid>/2021/05/10/wtf-uw-3/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m in a position of great privilege: a tenured full professor with
solid funding, a history of success in both methodology and
collaborative research, and some well-used software packages. So it
seems wrong for me to complain about a lack of respect.&lt;/p&gt;
&lt;p&gt;When I joined the faculty at UW-Madison in 2007, I felt like the
administration had our backs and the state legislators were the only
ones to be concerned about. (Even before &lt;a href=&#34;https://en.wikipedia.org/wiki/2011_Wisconsin_Act_10&#34;&gt;Act
10&lt;/a&gt;, it was clear
that state government was not on our side.) But following the
&lt;a href=&#34;https://www.aaup.org/article/downfall-shared-governance-wisconsin#.YJiINCZOmV4&#34;&gt;attacks on tenure and shared
governance&lt;/a&gt;,
I&amp;rsquo;ve come to feel that faculty are not viewed as
the heart of the university but rather as an impediment to progress,
and really as expendable cogs in the university machine.&lt;/p&gt;
&lt;p&gt;The previous UW System President Ray Cross was straight up on this point:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Cross compared faculty to railroad brakemen, kept on the job for
years after they were no longer needed, he said. “It was for the
same reason — a job for life even when that job was no longer
necessary.” (&lt;a href=&#34;https://bit.ly/2RH1NPe&#34;&gt;&lt;em&gt;Capital Times, 2016-05-09&lt;/em&gt;&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &lt;a href=&#34;https://madison.com/wsj/news/local/education/university/uw-system-merger-approved-heres-when-the-official-transfer-takes-place/article_aa4d164b-4983-5306-ab53-b1e766bd465c.html&#34;&gt;merger of the UW colleges with UW
universities&lt;/a&gt;
was a particularly blatant case of the arrogance of UW System
administration — that they know what is best and that there is no
need to consult with faculty.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://www.wpr.org/regents-criticized-not-including-faculty-staff-students-uw-president-search-committee&#34;&gt;lack of faculty or staff on the search committee for the new UW
System
president&lt;/a&gt;
showed UW Regents&#39; lack of self-awareness of personal limitations,
lack of respect for
university faculty and staff experience and expertise, and
lack of recognition of the value of diversity on a search
committee. Is it any wonder that the committee chose &lt;a href=&#34;https://madison.com/wsj/news/local/education/university/uw-system-announces-one-finalist-in-presidential-search/article_ef413237-9d52-540c-8e7f-18e7ae2f5ca8.html&#34;&gt;a white male as
its single
candidate&lt;/a&gt;,
and one who had been the subject of &lt;a href=&#34;https://www.adn.com/alaska-news/education/2019/10/05/uaa-faculty-reaffirms-no-confidence-in-university-of-alaska-president/&#34;&gt;no-confidence votes at his
university&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;The small things can be most telling:
scheduling meetings at short notice and at some fixed time (&amp;ldquo;next
Tuesday at 2pm&amp;rdquo;) rather than polling availability, because they don&amp;rsquo;t
actually care if we attend and contribute. Or back when I was working
on the proposal for our new PhD program, I was having trouble
understanding some of the rules and asked an administrator if we could
speak by phone but was told, &amp;ldquo;No, the phones over here can&amp;rsquo;t take
incoming calls so let&amp;rsquo;s just handle this by email.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;The faculty develop the
educational goals, curriculum, and courses, and we implement
those plans, helping students to advance their
skills. But the university administration, at least the UW
System administration, instead views us like interchangeable middle
management — that their high-level view is where the action is.
Faculty are just here to carry out their vision, and if it weren&amp;rsquo;t for
tenure they would replace us with something much more efficient.&lt;/p&gt;
&lt;p&gt;(By the way, &amp;ldquo;privilege&amp;rdquo; is the word I got wrong in my 6th grade
spelling bee. I came in second, and my mom was really surprised
because my spelling was so bad how could I get 2nd place.)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wtf uw 2: the new wisconsin idea is money</title>
      <link>/2021/05/07/wtf-uw-2/</link>
      <pubDate>Fri, 07 May 2021 00:00:00 +0000</pubDate>
      
      <guid>/2021/05/07/wtf-uw-2/</guid>
      <description>&lt;p&gt;Back in 1999, when I interviewed for my first faculty job (in the
&lt;a href=&#34;https://www.jhsph.edu/departments/biostatistics/&#34;&gt;biostatistics
department&lt;/a&gt; at the
&lt;a href=&#34;https://www.jhsph.edu&#34;&gt;Johns Hopkins School of Public Health&lt;/a&gt;), I got
to meet with the Dean, &lt;a href=&#34;https://en.wikipedia.org/wiki/Alfred_Sommer&#34;&gt;Al
Sommer&lt;/a&gt;.
He talked about how collegial the faculty are at
Hopkins, and also about his &lt;a href=&#34;https://doi.org/10.1016%2Fs0140-6736%2886%2991157-8&#34;&gt;work on vitamin
A&lt;/a&gt;, which showed
that an inexpensive vitamin A supplement aimed at reducing childhood
blindness had the surprising result of also reducing mortality.&lt;/p&gt;
&lt;p&gt;I remember I asked him two questions: Why were faculty at Hopkins so
collegial (he thought it was because they didn&amp;rsquo;t have to compete with each
other for promotion), and why did he leave his important research efforts to
become a Dean (he didn&amp;rsquo;t fully leave research, and he felt like he
could have an even bigger impact by helping to enable others&#39; work).&lt;/p&gt;
&lt;p&gt;In my eight years at Hopkins, I really felt
like the focus was on the work itself and the impact it was having,
like the efforts to eradicate smallpox and polio. There was the
whole &lt;a href=&#34;https://www.jhsph.edu/news/news-releases/2001/bloomberg-name.html&#34;&gt;Bloomberg
business&lt;/a&gt;
and the &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;expensive new school
logo&lt;/a&gt;,
but even the discussion of the &amp;ldquo;anonymous&amp;rdquo; $100 million donation for a
malaria center (at least the part that wasn&amp;rsquo;t about
Bloomberg) was focused on the possibility of eradicating malaria.&lt;/p&gt;
&lt;p&gt;Early in my time at Hopkins, a number of us junior
biostatistics faculty had a mentoring meeting with &lt;a href=&#34;https://ph.ucla.edu/faculty/brookmeyer&#34;&gt;Ron
Brookmeyer&lt;/a&gt;, at which he suggested
that if you were choosing between writing a substantial methods paper
and writing a grant, he would recommend writing the paper. It
would have a bigger impact and would make it easier to get that
next grant.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s not advice that I can imagine being given here at
&lt;a href=&#34;https://www.wisc.edu&#34;&gt;UW-Madison&lt;/a&gt;. Maybe I was just naive, but I
really felt like people at Hopkins were focused on the work first and
the money to enable the work second. Here there&amp;rsquo;s a lot of talk of the
&lt;a href=&#34;https://www.wisc.edu/wisconsin-idea/&#34;&gt;Wisconsin Idea&lt;/a&gt; and &lt;a href=&#34;https://news.wisc.edu/sifting-and-winnowing-turns-125/&#34;&gt;sifting
and
winnowing&lt;/a&gt;,
but the New Wisconsin Idea seems to be &lt;em&gt;money&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://research.wisc.edu/about/leadership/&#34;&gt;Vice Chancellor for Research and Graduate Education
(VCRGE)&lt;/a&gt; gives an annual
presentation to the &lt;a href=&#34;https://secfac.wisc.edu/governance/faculty-senate/&#34;&gt;Faculty
Senate&lt;/a&gt; about
the state of campus research.
These types of presentations can be expected to focus on money (where do we rank in terms of
research expenditures in relation to other universities and what can
we do to reverse our sliding position), but I&amp;rsquo;ve been surprised that
the focus is &lt;em&gt;solely&lt;/em&gt; on money.
In 2020 (back when we could meet in person), he said that
Centers and Institutes bring in the big dollars and so to improve our
research rankings we should have more Centers and Institutes. This
year he emphasized faculty involvement on COVID-related research,
but rather than discuss the work itself (which would be of immediate
interest to all of us), he just emphasized how
they&amp;rsquo;d taken advantage of COVID-related research
opportunities to bring in X million dollars in new funding.&lt;/p&gt;
&lt;p&gt;At a discussion among faculty who were forming a new Center, the interim director
started a list of &lt;em&gt;Opportunities&lt;/em&gt; on the white board, and the first
thing on the list was &lt;em&gt;money&lt;/em&gt;. How can we use the Center to get
more money to support our own research?&lt;/p&gt;
&lt;p&gt;There was an opportunity for grants for workshops on reproducible research,
but each campus was allowed to submit just one proposal. Another group
was submitting the proposal, and I was asked about my involvement in the effort.
Because &amp;ldquo;if the proposal fails then it&amp;rsquo;s no skin off our noses by not engaging, but if it goes through then we&amp;rsquo;re probably
out of the game at least in terms of NIH funding. In that case we
could still participate though with no funding for that mandate unless
it&amp;rsquo;s built in now.&amp;rdquo; What mattered was not to have the best
possible training available, or even to help our colleagues to
write a successful proposal, but just to get some of the money.&lt;/p&gt;
&lt;p&gt;More generally, I&amp;rsquo;ve felt that with graduate education, there has been
a &lt;em&gt;much&lt;/em&gt; bigger focus on getting NIH training grants than on actually
improving the graduate curriculum itself. We don&amp;rsquo;t take time to talk
about how we might improve the existing courses (which is hard);
rather we focus on how to spin the existing curriculum into something
that sounds good in a grant proposal.&lt;/p&gt;
&lt;p&gt;Our department meetings now start with announcements of grants that
people have gotten. We don&amp;rsquo;t talk at all about papers people have
published, or talks or workshops people have given, or cool results or
software tools. Just grants.&lt;/p&gt;
&lt;p&gt;Again, maybe I have just been naive, and maybe I&amp;rsquo;ve just grown into
this awareness that scientific research is focused on money first and
results second. Johns Hopkins and UW-Madison differ in a lot of
ways, and a lot of things have changed in my 14 years in Madison, and so
sure this probably isn&amp;rsquo;t a UW-Madison-specific problem. But I feel
like academic research here has lost its way. In focusing on
research expenditures as the key measure of research productivity,
they&amp;rsquo;ve forgotten that the money is in order to &lt;em&gt;do stuff&lt;/em&gt;, and it&amp;rsquo;s the
&lt;em&gt;doing of the stuff&lt;/em&gt; that should matter, not the money.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve focused on extreme cases. People here &lt;em&gt;do&lt;/em&gt; care about the work
itself. But so many slip into the trap &amp;ldquo;good science is big science,&amp;rdquo;
and the celebration of money can be so blatant.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wtf uw 1: how can you treat people like that?</title>
      <link>/2021/05/06/wtf-uw-1/</link>
      <pubDate>Thu, 06 May 2021 00:00:00 +0000</pubDate>
      
      <guid>/2021/05/06/wtf-uw-1/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m just a statistician trying to write software, devise statistical
methods, and muck around with data, to help my scientific
collaborators. I&amp;rsquo;ve had no formal training in the politics of higher
education, or even in teaching for that matter. But ugh the shit
that&amp;rsquo;s been happening around &lt;a href=&#34;https://www.wisc.edu&#34;&gt;UW-Madison&lt;/a&gt; lately. I
need to follow the example of &lt;a href=&#34;https://en.wikipedia.org/wiki/Anatole_Beck&#34;&gt;Anatole
Beck&lt;/a&gt; and start speaking
up and speaking out.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://madison.com/search/?l=25&amp;amp;sd=desc&amp;amp;s=start_time&amp;amp;f=html&amp;amp;t=article%2Cvideo%2Cyoutube%2Ccollection&amp;amp;app=editorial&amp;amp;k=%23ct&amp;amp;q=yvonne+kim&#34;&gt;Yvonne
Kim&lt;/a&gt;
wrote two articles in the &lt;a href=&#34;https://madison.com/ct/&#34;&gt;Capital Times&lt;/a&gt; in
the last year that really pissed me off:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2020-10-24: &lt;a href=&#34;https://madison.com/ct/news/local/education/uw-math-lecturer-of-30-years-claims-abuse-of-academic-staff-hiring-policies/article_d1cded96-5967-5f3b-946e-5aefc65bf159.html&#34;&gt;UW math lecturer or 30+ years claims &amp;lsquo;abuse&amp;rsquo; of
academic staff hiring policies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2021-01-15: &lt;a href=&#34;https://madison.com/ct/news/local/education/uw-rejects-instructors-grievance-citing-systemic-harassment-in-math-department-hiring/article_cda84284-d7e0-54ed-a843-1fb64db8352d.html&#34;&gt;UW rejects instructor&amp;rsquo;s grievance citing &amp;lsquo;systemic harassment&amp;rsquo; in math department hiring&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sharad Chandarana had taught in the UW-Madison &lt;a href=&#34;https://math.wisc.edu/&#34;&gt;math
department&lt;/a&gt; since 1985. But he had not had a
permanent position. Rather, they gave him temporary appointments for
a semester or a year at a time. And the math department was careful to
offer only a few consecutive years of teaching at a time before laying
him off for a couple of semesters, because there&amp;rsquo;s a university policy
that says if you&amp;rsquo;ve been teaching for three or more years they have to
give you a proper position with benefits.&lt;/p&gt;
&lt;p&gt;2020 – 1985 = 35 years, ffs&lt;/p&gt;
&lt;p&gt;The email he got from the department on 5 March 2020 said, &amp;ldquo;As you know,
the university does not allow short term instructor hires for more
than 3 years in a row, after 3 years the position would need to be
converted into a permanent one. There are no current plans for such a
position. I am really sorry about this situation, but because of this
I cannot offer you a teaching assignment for next year.”&lt;/p&gt;
&lt;p&gt;Sharad complained, and the math department forwarded his complaint to the
Academic Staff Appeals Committee, which ultimately voted not to process his
grievance because the department &lt;em&gt;did not violate university policy&lt;/em&gt;. He
alleged violation of Academic Staff Policies and Procedures, but they
said that didn&amp;rsquo;t apply to him because he had never held a teaching
appointment for three consecutive years.&lt;/p&gt;
&lt;p&gt;The university&amp;rsquo;s treatment of Sharad over his career (from
aged 30 to 65, it seems) was just so terrible. And then to say &amp;ldquo;Well,
it was in accordance with the rules,&amp;rdquo; ugh somehow that&amp;rsquo;s even more
embarrassing.&lt;/p&gt;
&lt;p&gt;On 21 March 2021, Sharad announced that he was moving to Florida.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>debugging with docker and r-devel</title>
      <link>/2020/12/03/debugging-with-docker-and-r-devel/</link>
      <pubDate>Thu, 03 Dec 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/12/03/debugging-with-docker-and-r-devel/</guid>
      <description>&lt;p&gt;If you&amp;rsquo;ve not heard, there&amp;rsquo;s a big &lt;a href=&#34;https://ropensci.org/technotes/2020/11/19/moving-away-travis/&#34;&gt;move away from Travis to GitHub
Actions&lt;/a&gt;
for continuous testing of R packages. I&amp;rsquo;m so glad for the
&lt;a href=&#34;https://usethis.r-lib.org/reference/use_github_action.html&#34;&gt;infrastructure to
help&lt;/a&gt;, but
it&amp;rsquo;s a bit of work to figure it out.&lt;/p&gt;
&lt;p&gt;But that&amp;rsquo;s not what I&amp;rsquo;m talking about today. Today I want to talk
about using &lt;a href=&#34;https://www.docker.com/&#34;&gt;docker&lt;/a&gt; to debug an R package
that is throwing an error in the development version of R. This came
up because with the new GitHub Actions infrastructure, I can now test
my R packages on multiple OSs and with multiple versions of R, and
today &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; was shown to &lt;a href=&#34;https://github.com/kbroman/qtl/runs/1495378157?check_suite_focus=true&#34;&gt;throw an error in
R-devel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you look at the &lt;a href=&#34;https://github.com/kbroman/qtl/actions&#34;&gt;test history&lt;/a&gt;, you&amp;rsquo;ll see I was mostly screwing
around trying to get LaTeX installed and then trying to get all of the
needed LaTeX packages for a 10-year-old Sweave-based vignette.
And I got through that only to find that there was a different actual
R problem that needed to be fixed.&lt;/p&gt;
&lt;p&gt;Not wanting to install the development version of R on my machine, I
pondered cloud installations, and then thought, &amp;ldquo;Hmm, this seems like
a good application for docker. I just need to find a docker container
with R-devel, install R/qtl, and then try it out.&amp;rdquo; And well, it was
pretty simple.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Install Docker&lt;/em&gt;. See the &lt;a href=&#34;https://docs.docker.com/get-docker/&#34;&gt;official
instructions&lt;/a&gt;.
I&amp;rsquo;m working on a Ubuntu laptop, so I did:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo add-apt-repository &amp;quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable&amp;quot;
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Create a &lt;code&gt;Dockerfile&lt;/code&gt;&lt;/em&gt; which builds off &lt;a href=&#34;https://hub.docker.com/r/rocker/r-devel/&#34;&gt;rocker/r-devel&lt;/a&gt;
and installs the package to be tested. (In this rocker image, &lt;code&gt;R&lt;/code&gt;
is the current version of R and &lt;code&gt;RD&lt;/code&gt; is the devel version, so we
need to use &lt;code&gt;RD&lt;/code&gt; to install the package.)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FROM rocker/r-devel
RUN RD -e &amp;quot;install.packages(&#39;qtl&#39;)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Build the docker image&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo docker build -t rdevel-qtl .
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Fire up that image in a container&lt;/em&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo docker run -it rdevel-qtl bash
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Run R and load the package&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The above puts you into a bash shell within the container. Type
&lt;code&gt;RD&lt;/code&gt; to fire up the devel version of R, and then load your package
and mess about. I quickly saw &lt;a href=&#34;https://bit.ly/3qujHRV&#34;&gt;where I went wrong&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Fix the problem and test it&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I &lt;em&gt;should&lt;/em&gt; add a formal test of this bug, and I &lt;em&gt;should also&lt;/em&gt; look
for all other possible instances of this problem. (I blanche
to think of them.)&lt;/p&gt;
&lt;p&gt;But for now I just plunged in and fixed it, pushed the change to
GitHub, and then tested it out in my container by installing the
repaired version with the &lt;a href=&#34;https://remotes.r-lib.org&#34;&gt;remotes&lt;/a&gt;
package.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;remotes&amp;quot;)
remotes::install_github(&amp;quot;kbroman/qtl&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;There&amp;rsquo;s a lot more that one can do with Docker, but this was a pretty
quick and satisfying experience poking around in the development
version of R to fix a bug in my &lt;a href=&#34;https://doi.org/10.5334/jors.at&#34;&gt;ancient and
creaky&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;I gave a talk about docker in my &lt;a href=&#34;https://kbroman.org/AdvData/&#34;&gt;Advanced Data
Analysis&lt;/a&gt; course last spring. You can
look at the &lt;a href=&#34;https://kbroman.org/AdvData/26_containers.pdf&#34;&gt;slides&lt;/a&gt;,
including &lt;a href=&#34;https://kbroman.org/AdvData/26_containers_notes.pdf&#34;&gt;a version with notes of what I
said&lt;/a&gt;, and &lt;a href=&#34;https://us-lti.bbcollab.com/recording/0fc7d7a1d7ac472084798e61c43e4a63&#34;&gt;watch
the
lecture&lt;/a&gt;.
(It&amp;rsquo;s
&lt;a href=&#34;https://twitter.com/KenButler12/status/1334656652650405888&#34;&gt;recommended&lt;/a&gt;
that you do so on fast-forward.) The course &lt;a href=&#34;https://kbroman.org/AdvData/resources.html&#34;&gt;resources
page&lt;/a&gt; points to &lt;a href=&#34;https://kbroman.org/AdvData/resources.html#docker-containers&#34;&gt;other
resources on
docker&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>reproducible abstract</title>
      <link>/2020/02/07/reproducible-abstract/</link>
      <pubDate>Fri, 07 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/02/07/reproducible-abstract/</guid>
      <description>&lt;p&gt;A student asked me about how to include summary results in the abstract or
executive summary at the top of an R Markdown report when they don&amp;rsquo;t get
calculated until somewhere below.&lt;/p&gt;
&lt;p&gt;I feel like I&amp;rsquo;ve seen a generally accepted solution to this, but I
can&amp;rsquo;t find it. I thought maybe Keith Baggerly mentioned this in his
&lt;a href=&#34;https://github.com/SISBID/Module3/blob/master/2017_SISBID_3_12_good_reports.pdf&#34;&gt;slides about good reproducible
reports&lt;/a&gt;,
but he doesn&amp;rsquo;t seem to. I did find &lt;a href=&#34;https://community.rstudio.com/t/best-practices-for-organizing-rmarkdown-projects/914&#34;&gt;this RStudio Community
discussion&lt;/a&gt;
that is relevant, but it doesn&amp;rsquo;t have quite the solution I would want.&lt;/p&gt;
&lt;p&gt;My suggestion was to include a code chunk something like this
before the abstract:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```{r load_summary_results, echo=FALSE}
summary_file &amp;lt;- &amp;quot;_cache/summary_results.RData&amp;quot;
if(file.exists(summary_file)) {
    load(summary_file)
} else {
  resultA &amp;lt;- NA
  resultB &amp;lt;- NA
  resultC &amp;lt;- NA
}
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then use &lt;code&gt;resultA&lt;/code&gt;, &lt;code&gt;resultB&lt;/code&gt;, and &lt;code&gt;resultC&lt;/code&gt; in the abstract.&lt;/p&gt;
&lt;p&gt;At the bottom of your document, save the results to a file with
something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```{r save_summary_results, echo=FALSE}
resultA &amp;lt;- [some calculation]
resultB &amp;lt;- [some other calculation]
resultC &amp;lt;- [a third calculation]

save(resultA, resultB, resultC, file=summary_file)
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first time you compile the report, your abstract would have a
bunch of &lt;code&gt;NA&lt;/code&gt; values in it. But then if you compile the report
a second time, you&amp;rsquo;d pull in the results from the previous run.&lt;/p&gt;
&lt;p&gt;Is there a better way? Let me know &lt;a href=&#34;https://twitter.com/kwbroman&#34;&gt;on twitter&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ten year reproducibility challenge</title>
      <link>/2020/02/07/ten-year-challenge/</link>
      <pubDate>Fri, 07 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/02/07/ten-year-challenge/</guid>
      <description>&lt;p&gt;In October I agreed to participate in the
&lt;a href=&#34;https://rescience.github.io&#34;&gt;ReScience&lt;/a&gt; &lt;a href=&#34;https://rescience.github.io/ten-years&#34;&gt;Ten Years Reproducibility
Challenge&lt;/a&gt;. The idea is to
take a paper that you published at least ten years ago and try to
re-run the code. Brilliant!&lt;/p&gt;
&lt;p&gt;I looked back through my pre-2010 papers and chose &lt;a href=&#34;https://doi.org/10.1073/pnas.1231432100&#34;&gt;Lamichhane et al.
(2003)&lt;/a&gt; on the analysis of a
transposon mutagenesis experiment in &lt;em&gt;M. tuberculosis&lt;/em&gt;. I picked that
one in part because I figured the analyses were reasonably compact and
not super time consuming. But also I&amp;rsquo;m pretty proud of the work, which
is one of my few Bayesian analyses, using Markov chain Monte Carlo.
This was a collaboration with &lt;a href=&#34;https://www.hopkinsmedicine.org/profiles/results/directory/profile/6135965/gyanu-lamichhane&#34;&gt;Gyanu
Lamichhane&lt;/a&gt;
(was a grad student at Johns Hopkins, now an associate professor of
medicine at Hopkins), &lt;a href=&#34;https://tbcenter.jhu.edu/facultymember/william-r-bishai-md-phd/&#34;&gt;William
Bishai&lt;/a&gt; (Gyanu&amp;rsquo;s advisor), and
&lt;a href=&#34;https://blades.byu.edu/&#34;&gt;Natalie Blades&lt;/a&gt; (was a grad student in &lt;a href=&#34;https://www.jhsph.edu/departments/biostatistics/&#34;&gt;Johns
Hopkins biostat&lt;/a&gt;,
now an associate professor in statistics at
&lt;a href=&#34;https://statistics.byu.edu/&#34;&gt;BYU&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The R package I wrote implementing the method,
&lt;a href=&#34;https://github.com/kbroman/negenes&#34;&gt;R/negenes&lt;/a&gt;, is &lt;a href=&#34;https://cran.r-project.org/package=negenes&#34;&gt;still on
CRAN&lt;/a&gt;. I&amp;rsquo;ve not really
made any changes to it, just maintenance work so that it continues to
conform to &lt;a href=&#34;https://cran.r-project.org/web/packages/policies.html&#34;&gt;CRAN
rules&lt;/a&gt;. And I
did &lt;a href=&#34;https://github.com/kbroman/negenes/commit/7d8a35321fc3e451d790c538add65d3abfb2e9db&#34;&gt;fix one bug causing a memory
over-run&lt;/a&gt;,
which &lt;a href=&#34;https://en.wikipedia.org/wiki/Brian_D._Ripley&#34;&gt;Prof. Ripley&lt;/a&gt;
identified.)&lt;/p&gt;
&lt;p&gt;Anyway, the deadline for this challenge is near (April 1),
and so I sat down to start work on it, which was a humbling experience.
It was easy to find the code and data for the project, sitting with my
other old projects as &lt;code&gt;~/Projects/Tar/Gyanu.tgz&lt;/code&gt;. (I mentioned Gyanu
above, he was first
author on &lt;a href=&#34;https://www.pnas.org/content/pnas/100/12/7213.full.pdf&#34;&gt;the paper&lt;/a&gt;.) But
open that thing up and ugh; not quite what you would like to see.&lt;/p&gt;
&lt;p&gt;I dumped the &lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003&#34;&gt;full thing on
GitHub&lt;/a&gt;, not
changing anything other than to add
&lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003/blob/master/README.md&#34;&gt;ReadMe&lt;/a&gt;
and
&lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003/blob/master/LICENSE.md&#34;&gt;License&lt;/a&gt;
files. Yes, that&amp;rsquo;s right, the directory didn&amp;rsquo;t contain a &lt;em&gt;single&lt;/em&gt;
ReadMe file. It&amp;rsquo;s a bit of a mess.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class_problems.txt    findTA.pl*    Randomness/
Converge/             mindGaps.pl*  Rawdata/
crucial_doubleTA.txt  Nov02/        Sept02/
Data/                 Operons/      Sims/
doubleta_hit.txt      R/            TroubleShootingSubClasses.txt
exploreSeq.pl*
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I&amp;rsquo;m pleased to report that I &lt;em&gt;was&lt;/em&gt; able to reproduce my analyses.
(Well, mostly. I can&amp;rsquo;t find the code that was used to do the
simulations for &lt;a href=&#34;https://bit.ly/lamichhane2003_fig3&#34;&gt;Figure 3&lt;/a&gt;, just
the results and the code that used them to make the figure, which doesn&amp;rsquo;t
fully count.) My work reproducing the analysis in the paper is &lt;a href=&#34;https://github.com/kbroman/Paper_ReScience2020&#34;&gt;on
GitHub&lt;/a&gt;; now I just
need to write the paper. But whoa it would have been a lot easier if
I&amp;rsquo;d left myself a bit of documentation.&lt;/p&gt;
&lt;p&gt;Keep in mind that I didn&amp;rsquo;t start using proper version control until
like 2006. So we have to think back to the summer and fall of 2002,
and try to put ourselves in the state of mind of the confident and
free-wheeling &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/moustache.jpg&#34;&gt;Moustache
Karl&lt;/a&gt;.
(Yeah, that famous photo was taken on 2002-11-15, and, well, note that
&lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003/tree/master/Nov02&#34;&gt;&lt;code&gt;Nov02&lt;/code&gt;&lt;/a&gt;
subdirectory up there. Same month.)&lt;/p&gt;
&lt;p&gt;Look at the subdirectories up there. &lt;code&gt;Rawdata/&lt;/code&gt; has the raw data,
&lt;code&gt;Data/&lt;/code&gt; has the processed data, &lt;code&gt;R/&lt;/code&gt; has the code. &lt;code&gt;Converge/&lt;/code&gt;,
&lt;code&gt;Operons/&lt;/code&gt;, &lt;code&gt;Randomness/&lt;/code&gt;, and &lt;code&gt;Sims/&lt;/code&gt; are sort of side projects that
didn&amp;rsquo;t end up in the paper. Then there are some notes and some perl
scripts that would probably best be organized into other folders, but
whatever.&lt;/p&gt;
&lt;p&gt;Yeah, but how about &lt;code&gt;Sept02/&lt;/code&gt;, what is that? And &lt;code&gt;Nov02/&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;Well, if you look in
&lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003/blob/master/Sept02/&#34;&gt;&lt;code&gt;Sept02/&lt;/code&gt;&lt;/a&gt;
you&amp;rsquo;ll find that &lt;code&gt;Rawdata/&lt;/code&gt;, &lt;code&gt;Data/&lt;/code&gt;, and &lt;code&gt;R/&lt;/code&gt;, plus a copy of
&lt;code&gt;findTA.pl&lt;/code&gt;. Same for
&lt;a href=&#34;https://github.com/kbroman/Project_Lamichhane2003/blob/master/Nov02&#34;&gt;&lt;code&gt;Nov02/&lt;/code&gt;&lt;/a&gt;.
These were one of Moustache Karl&amp;rsquo;s methods of version control.&lt;/p&gt;
&lt;p&gt;Say your collaborator comes to you in September of 2002 and says, &amp;ldquo;Hey
these results are great, let&amp;rsquo;s write a paper! But first, here&amp;rsquo;s a bit
more data and could you try out this and that and the other thing?&amp;rdquo;
Well, free-wheeling 2002 Karl would make a &lt;code&gt;Sept02&lt;/code&gt; subdirectory, copy
over the data files and code, and then edit the code to suit the new
data and analysis. Then in November, your collaborator comes back and
says, &amp;ldquo;Hey, could you try one more version of that analysis? This one I think
will be the best.&amp;rdquo; So then 2002 Karl would make a &lt;code&gt;Nov02&lt;/code&gt;
subdirectory, copy over the data files and code again, and edit the
code to suit this third version of the analyses. In the paper most
of the results would be what&amp;rsquo;s in the &lt;code&gt;Nov02&lt;/code&gt; subdirectory, but a few
things (namely five of the six rows in &lt;a href=&#34;https://bit.ly/lamichhane2003_table2&#34;&gt;Table
2&lt;/a&gt;) would be taken from the
&lt;code&gt;Sept02&lt;/code&gt; subdirectory. Free-wheeling and fun and totally
reproducible, right?&lt;/p&gt;
&lt;p&gt;If I&amp;rsquo;d just written that stuff down in a ReadMe file, it would all
be totally acceptable. But yeah, no dice. Or no documentation, rather.&lt;/p&gt;
&lt;p&gt;Anyway, yesterday I looked at this mess and was like, &amp;ldquo;What am I even
supposed to reproduce?&amp;rdquo; So step 1 was to &lt;a href=&#34;https://www.pnas.org/content/pnas/100/12/7213.full.pdf&#34;&gt;read the
paper&lt;/a&gt;. Having then
identified my targets, it was not so hard to get myself back into 2002
Karl&amp;rsquo;s mind set and work out the details. And so in just a day I was
able to &lt;a href=&#34;https://kbroman.org/Paper_ReScience2020/reproduction/reproduction.html&#34;&gt;reproduce the
results&lt;/a&gt;,
except for that one figure.&lt;/p&gt;
&lt;p&gt;Further challenges that could have been avoided if I&amp;rsquo;d put just a tiny
bit more effort into the work at the time:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I should have saved the random number generator seeds.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I should have saved the key intermediate results to files, and then
loaded those results at the top of scripts that needed them. Instead,
I&amp;rsquo;d just left objects in the R environment (that is, the &lt;code&gt;.RData&lt;/code&gt;
file) and used them as needed without explaining where they had come
from. (Please don&amp;rsquo;t tell &lt;a href=&#34;https://jennybryan.org/&#34;&gt;Jenny&lt;/a&gt; about this.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I should have indicated (and loaded) the required R library in the
scripts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The code for &lt;a href=&#34;https://bit.ly/lamichhane2003_fig1&#34;&gt;Figure 1b&lt;/a&gt; in the
paper was not actually in the project directory. At first I figured
that
&lt;a href=&#34;https://www.hopkinsmedicine.org/profiles/results/directory/profile/6135965/gyanu-lamichhane&#34;&gt;Gyanu&lt;/a&gt;
must have made that figure, but then I found &lt;a href=&#34;https://github.com/kbroman/Talk_Mtb/blob/master/R/circlefig.R&#34;&gt;my code for that
figure&lt;/a&gt;
&lt;a href=&#34;https://github.com/kbroman/Talk_Mtb&#34;&gt;with the files&lt;/a&gt; for a &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/sk04_ho.pdf&#34;&gt;talk I
gave at the
time&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And once again for emphasis: I should have included at least one
ReadMe file that explained the structure of the project directory. And
I should have merged the multiple mutated copies of the analysis
scripts into single scripts that did all the things that we ended up
including in the paper.&lt;/p&gt;
&lt;p&gt;There was only one real R change that posed a problem. The output of
&lt;code&gt;table()&lt;/code&gt; used to just be a vector and now it is an object of class
&lt;code&gt;&amp;quot;table&amp;quot;&lt;/code&gt; and so a couple of scripts throw errors if I don&amp;rsquo;t toss in
an &lt;code&gt;as.numeric()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve not tried going back to the 2002 version of my
&lt;a href=&#34;https://cran.r-project.org/package=negenes&#34;&gt;negenes&lt;/a&gt; package. It&amp;rsquo;s
not on github, because &lt;a href=&#34;https://github.com/kbroman/negenes&#34;&gt;my git repository for the
package&lt;/a&gt; wasn&amp;rsquo;t created until 2011,
but it is &lt;a href=&#34;https://cran.r-project.org/src/contrib/Archive/negenes/&#34;&gt;on
CRAN&lt;/a&gt;, and we
can see from the &lt;a href=&#34;https://github.com/kbroman/negenes/blob/master/ChangeLog&#34;&gt;ChangeLog
file&lt;/a&gt; for
the package that the oldest version on CRAN is the one we had used for
the analyses in the paper.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve also not looked at much of &lt;a href=&#34;https://github.com/kbroman/Paper_ReScience2020/blob/master/original/Sept02/R/analysis.R&#34;&gt;the code itself&lt;/a&gt;. And given the state
of the project directory, I think I&amp;rsquo;m not quite ready to. I
mean, if you open up a script and you see &lt;a href=&#34;https://github.com/kbroman/Paper_ReScience2020/blob/master/original/Nov02/R/analysis.R#L5-L6&#34;&gt;this&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;temp &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;negenes&lt;/span&gt;(mydata[,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], mydata[,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;], mydata[,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;], mydata[,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;],
                n.mcmc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;50000&lt;/span&gt;, skip&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;49&lt;/span&gt;, return&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, trace&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And there&amp;rsquo;s no mention of where the &lt;code&gt;mydata&lt;/code&gt; object was created or
what it even is, really. Well let&amp;rsquo;s just leave that for another day.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>data analysis principles</title>
      <link>/2019/08/15/data-analysis-principles/</link>
      <pubDate>Thu, 15 Aug 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/08/15/data-analysis-principles/</guid>
      <description>&lt;p&gt;I was looking through some of my old notes and came across this list
of &amp;ldquo;data analysis principles&amp;rdquo;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;answer the question&lt;/li&gt;
&lt;li&gt;understand where the data came from&lt;/li&gt;
&lt;li&gt;make a graph&lt;/li&gt;
&lt;li&gt;does the result make sense?&lt;/li&gt;
&lt;li&gt;if it seems too good to be true, it probably is&lt;/li&gt;
&lt;li&gt;form a diagnostic checklist: think of ways things could go wrong and
how they might be revealed&lt;/li&gt;
&lt;li&gt;follow up on all aberrations&lt;/li&gt;
&lt;li&gt;every estimate needs an SE&lt;/li&gt;
&lt;li&gt;consider taking logs&lt;/li&gt;
&lt;li&gt;consider taking differences&lt;/li&gt;
&lt;li&gt;use common axis scales&lt;/li&gt;
&lt;li&gt;avoid normality assumptions&lt;/li&gt;
&lt;li&gt;remember Simpson&amp;rsquo;s paradox&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I also found this list of &amp;ldquo;key statistics concepts&amp;rdquo;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;separate the population and the sample, the parameter and the
estimate&lt;/li&gt;
&lt;li&gt;imagine doing it again: estimates have distributions&lt;/li&gt;
&lt;li&gt;suppose there were no effect; are the observed data unusual?&lt;/li&gt;
&lt;li&gt;scatterplots&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>reproducibility guidelines</title>
      <link>/2019/04/01/reproducibility-guidelines/</link>
      <pubDate>Mon, 01 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/04/01/reproducibility-guidelines/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m in Delft, The Netherlands, for a few days this week, at a
&lt;a href=&#34;https://o2r.info/reproducible-agile/initiative/&#34;&gt;workshop&lt;/a&gt; to develop
guidelines for reproducibility for
&lt;a href=&#34;https://agile-online.org/&#34;&gt;AGILE&lt;/a&gt; conference papers. I&amp;rsquo;m here as one of the
outside
&amp;ldquo;&lt;a href=&#34;https://o2r.info/reproducible-agile/initiative/#expert-meeting&#34;&gt;experts&lt;/a&gt;&amp;rdquo;.
(It&amp;rsquo;s always a bit disconcerting to be considered an expert.) The
&lt;a href=&#34;https://o2r.info/reproducible-agile/initiative/#initiative-members&#34;&gt;leaders of this
effort&lt;/a&gt;
wrote an interesting &lt;a href=&#34;https://doi.org/10.7717/peerj.5072&#34;&gt;PeerJ paper&lt;/a&gt;
last year, evaluating the reproducibility of previous AGILE papers.&lt;/p&gt;
&lt;p&gt;There will be a &lt;a href=&#34;https://o2r.info/reproducible-agile/initiative/#community-webinar&#34;&gt;community
webinar&lt;/a&gt;
tomorrow (2019-04-02) at &lt;a href=&#34;https://www.timeanddate.com/worldclock/meetingdetails.html?year=2019&amp;amp;month=4&amp;amp;day=2&amp;amp;hour=14&amp;amp;min=0&amp;amp;sec=0&amp;amp;p1=16&#34;&gt;16:00
CEST&lt;/a&gt;
(which is 9:00am US central daylight time), to report our initial
thoughts and get community feedback.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m particularly interested in developing these guidelines and using
what I learn to further reproduciblity of work published in the
journals &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; and
&lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt;. These journals have been doing a great
job of enforcing their policy that data be made publicly available. They&amp;rsquo;ve
also had a policy that software be made available, but there has not
been much effort to enforce that, and it&amp;rsquo;s clear that many authors need
further pressure (or &lt;em&gt;encouragement&lt;/em&gt;) before they will comply.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve done a better job with reproducibility of my recent
papers (about &lt;a href=&#34;https://github.com/kbroman/Paper_Rqtl2&#34;&gt;R/qtl2&lt;/a&gt; and
&lt;a href=&#34;https://github.com/kbroman/Paper_MPPdiag&#34;&gt;genotype diagnostics&lt;/a&gt;), but
it remains a challenge to keep things well-organized and well-documented.&lt;/p&gt;
&lt;p&gt;Regarding these reproducibility guidelines, I
think authors will benefit from very specific suggestions that can
accommodate different levels of computational &amp;ldquo;sophistication.&amp;rdquo; And I
think what will be particularly helpful will be a variety of specific
examples that authors might use as templates. I&amp;rsquo;ve been impressed with
the care that &lt;a href=&#34;https://valdarlab.unc.edu&#34;&gt;Will Valdar&lt;/a&gt;&amp;rsquo;s group has been
devoting to reproducibility. For example, the &lt;a href=&#34;https://doi.org/10.1534/g3.118.200847&#34;&gt;recent paper by Shorter
et al.&lt;/a&gt; is
accompanied by a proper &lt;a href=&#34;https://github.com/mauriziopaul/litterDiallel&#34;&gt;R Compendium&lt;/a&gt;.
Will&amp;rsquo;s student &lt;a href=&#34;https://github.com/rcorty/&#34;&gt;Roberty Corty&lt;/a&gt; has github
repositories for his recent papers on variance QTL, including
&lt;a href=&#34;https://github.com/rcorty/qtl_mapping_with_BVH_supporting_files&#34;&gt;this&lt;/a&gt;
and &lt;a href=&#34;https://github.com/rcorty/mvqtl_reanalyses_Bailey_Kumar_supporting_files&#34;&gt;that&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>omg, binder!</title>
      <link>/2019/02/18/omg_binder/</link>
      <pubDate>Mon, 18 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/18/omg_binder/</guid>
      <description>&lt;p&gt;At his &lt;a href=&#34;https://github.com/karthik/rstudio2019&#34;&gt;talk at
RStudio::conf&lt;/a&gt;, &lt;a href=&#34;http://inundata.org&#34;&gt;Karthik
Ram&lt;/a&gt; discussed
&lt;a href=&#34;https://mybinder.readthedocs.io/en/latest/index.html&#34;&gt;binder&lt;/a&gt; as a
useful solution for reproducible research (see &lt;a href=&#34;https://resources.rstudio.com/rstudio-conf-2019/a-guide-to-modern-reproducible-data-science-with-r&#34;&gt;the
video&lt;/a&gt;),
and I thought, &amp;ldquo;What is this dark magic?&amp;rdquo; You put a small
configuration file in your GitHub repository and suddenly you can open it
live in RStudio on some cloud server somewhere. Seems too good to be true.
But I trusted him, mentioned it in &lt;a href=&#34;https://bit.ly/rrcollab&#34;&gt;my talk at
AAAS yesterday&lt;/a&gt;, and talked it up to &lt;a href=&#34;http://jtleek.com&#34;&gt;Jeff
Leek&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I spent the afternoon walking around DC, and then when it started to
rain I came in and decided I&amp;rsquo;d give binder a try. I figured my &lt;a href=&#34;https://kbroman.org/FruitSnacks&#34;&gt;Fruit
Snacks project&lt;/a&gt; would make a good
example.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://mybinder.readthedocs.io/en/latest/index.html&#34;&gt;documentation for
binder&lt;/a&gt; is quite
comprehensive, but I found it rather confusing. So it took me a bit of
experimentation to figure things out. And I&amp;rsquo;m eager to try to
explain what I learned in the simplest possible terms.&lt;/p&gt;
&lt;h2 id=&#34;whats-the-point&#34;&gt;What&amp;rsquo;s the point?&lt;/h2&gt;
&lt;p&gt;First, let me make the awesomeness a bit more concrete.&lt;/p&gt;
&lt;p&gt;Say you have some code and data for a paper that you&amp;rsquo;ve just written,
and you want to share it with the world. You put it all in a GitHub
repository, and people can pull it down to their laptop to work with
it, but maybe they&amp;rsquo;ll need to install a bunch of packages, and maybe
they&amp;rsquo;ll need to do a bit of work to make sure they have just the right
versions of packages. Ugh, this is all getting a bit hard.&lt;/p&gt;
&lt;p&gt;Back up, with binder. You&amp;rsquo;ve put your code and data in a github
repository. Other people maybe want to try it out and peruse the work.
They click on the &amp;ldquo;launch binder&amp;rdquo; badge in your ReadMe file, and it
opens RStudio in their browser, with all the right packages installed
and with your code and data sitting there, ready to work with.&lt;/p&gt;
&lt;p&gt;Click this to see my example in action:
&lt;a href=&#34;https://mybinder.org/v2/gh/kbroman/FruitSnacksBinder/master?urlpath=rstudio&#34;&gt;&lt;img src=&#34;https://mybinder.org/badge_logo.svg&#34; alt=&#34;Binder&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Open the &lt;code&gt;fruit_snacks.Rmd&lt;/code&gt; file in the &lt;code&gt;R/&lt;/code&gt; directory and click the
&amp;ldquo;Knit&amp;rdquo; button, and it will run my permutation tests and open the
compiled report.&lt;/p&gt;
&lt;p&gt;And what do you need to do to make this happen? You&amp;rsquo;ll be surprised by
how simple it is, because you just need three things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tell binder you want R, using the
&lt;a href=&#34;https://mran.microsoft.com/&#34;&gt;MRAN&lt;/a&gt; snapshot of
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt; from a particular date&lt;/li&gt;
&lt;li&gt;tell binder what packages to install&lt;/li&gt;
&lt;li&gt;use the right URL, to have binder open your project in RStudio in a
browser (namely with &amp;ldquo;&lt;code&gt;?urlpath=rstudio&lt;/code&gt;&amp;rdquo; at the end)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;initial-reorganization&#34;&gt;Initial reorganization&lt;/h2&gt;
&lt;p&gt;Okay, so what did I need to do to use binder with my &lt;a href=&#34;https://kbroman.org/FruitSnacks&#34;&gt;Fruit
Snacks project&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;First, I made a copy of the &lt;a href=&#34;https://github.com/kbroman/FruitSnacks&#34;&gt;GitHub
repository&lt;/a&gt; and deleted a
bunch of stuff, because it&amp;rsquo;s a bit bloated with &lt;a href=&#34;https://github.com/kbroman/FruitSnacks/blob/master/PhotoGallery.md&#34;&gt;pictures of fruit
snacks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Specifically:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git://github.com/kbroman/FruitSnacks FruitSnacksBinder
cd FruitSnacksBinder
\rm -rf .git
\rm -r Photos
\rm PhotoGallery.md Makefile
\rm R/create_thumbnails.R R/generate_photo_gallery.R
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then I initialized it as a new git repository.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git add .
git commit -m &amp;quot;Initial commit&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I created a &lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder&#34;&gt;new repository on
GitHub&lt;/a&gt;, and push the
local repository there.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git remote add origin git@github.com:kbroman/FruitSnacksBinder
git push -u origin master
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;(Note, I always use the ssh method of connecting to GitHub. You might
want &lt;code&gt;https://github.com/&lt;/code&gt; where I&amp;rsquo;m using &lt;code&gt;git@github.com:&lt;/code&gt;.)&lt;/p&gt;
&lt;p&gt;This puts me at a nice clean state. The repository has&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ReadMe and License files&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;Data/&lt;/code&gt; directory containing a few CSVs, a couple of PDFs, and a
couple of xlsx files&lt;/li&gt;
&lt;li&gt;An &lt;code&gt;R/&lt;/code&gt; directory with an R script that defines a few functions plus
a couple of R Markdown files that contain my analyses.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The R Markdown files automatically install my
&lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt; package, if it&amp;rsquo;s not
available. This isn&amp;rsquo;t recommended behavior, and we won&amp;rsquo;t need this
with binder, so I removed the lines like&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt;(broman)) {
    &lt;span style=&#34;color:#a6e22e&#34;&gt;install.packages&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;broman&amp;#34;&lt;/span&gt;, repos&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://cran.rstudio.com&amp;#34;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and replaced them with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(broman)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;how-to-use-binder-with-r&#34;&gt;How to use binder with R&lt;/h2&gt;
&lt;p&gt;Okay, now on to the real bit. We need to do three things:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1&lt;/strong&gt;. Create a file called
&lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder/blob/master/runtime.txt&#34;&gt;&lt;code&gt;runtime.txt&lt;/code&gt;&lt;/a&gt;
that has just one line like:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;r-2019-02-14
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This tells binder that you want R, and that you want R packages
from a particular date.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2&lt;/strong&gt;. Specify the R packages that you want installed by creating a file called
&lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder/blob/master/install.R&#34;&gt;&lt;code&gt;install.R&lt;/code&gt;&lt;/a&gt;
that contains one or more &lt;code&gt;install.packages()&lt;/code&gt; calls, like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;install.packages&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;broman&amp;#34;&lt;/span&gt;,
                   &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;knitr&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rmarkdown&amp;#34;&lt;/span&gt;,
                   &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;caTools&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bitops&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rprojroot&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;3&lt;/strong&gt;. The last thing is to make a badge, or anyway the URL that will
have binder open your repository in RStudio in a browser.
The url is like this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://mybinder.org/v2/gh/kbroman/FruitSnacksBinder/master?urlpath=rstudio&#34;&gt;https://mybinder.org/v2/gh/kbroman/FruitSnacksBinder/master?urlpath=rstudio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;?urlpath=rstudio&lt;/code&gt; at the end of the URL is what makes the
RStudio aspect happen.&lt;/p&gt;
&lt;p&gt;To make a proper badge, you put a line like the following in your
&lt;code&gt;README.md&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[![Binder](https://mybinder.org/badge_logo.svg)]( put_url_here )
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The first time you launch binder, it&amp;rsquo;ll be quite slow to load as it
has to create the container and install R and RStudio and all of
the packages and everything. Subsequent times it&amp;rsquo;ll be much
faster, though not particularly fast.&lt;/p&gt;
&lt;h2 id=&#34;an-alternative&#34;&gt;An alternative&lt;/h2&gt;
&lt;p&gt;There&amp;rsquo;s an alternative to step 2 above, where you created the
&lt;code&gt;install.R&lt;/code&gt; file. Instead of making that file, you
can make a
&lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder/blob/description/DESCRIPTION&#34;&gt;&lt;code&gt;DESCRIPTION&lt;/code&gt;&lt;/a&gt;
file, sort of like an R package, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Package: FruitSnacks
Version: 0.1
Date: 2019-02-18
Description: Fruit Snacks project arranged for myBinder.org
Author: Karl W Broman &amp;lt;broman@wisc.edu&amp;gt;
Depends:
    R (&amp;gt;= 3.5.0)
Imports:
    broman,
    knitr,
    rmarkdown,
    caTools,
    bitops,
    rprojroot
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The two approaches do the same thing. I think the &lt;code&gt;install.R&lt;/code&gt; approach
seems easier, but the &lt;code&gt;DESCRIPTION&lt;/code&gt; approach maybe seems more natural for
R package developers, and would allow the repository to use this
binder business and also be a proper R package.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder&#34;&gt;master branch of my FruitSnacksBinder
repository&lt;/a&gt; uses the
&lt;code&gt;install.R&lt;/code&gt; approach.&lt;/p&gt;
&lt;p&gt;I tried out the &lt;code&gt;DESCRIPTION&lt;/code&gt; file approach in the &lt;a href=&#34;https://github.com/kbroman/FruitSnacksBinder/tree/description&#34;&gt;description
branch of that repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To use binder with a non-master branch in your repository, you edit
&lt;code&gt;master&lt;/code&gt; in the URL to the name of the branch you want to use, like this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://mybinder.org/v2/gh/kbroman/FruitSnacksBinder/description?urlpath=rstudio&#34;&gt;https://mybinder.org/v2/gh/kbroman/FruitSnacksBinder/description?urlpath=rstudio&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;wait-was-that-it&#34;&gt;Wait, was that it?&lt;/h2&gt;
&lt;p&gt;Yes, that was it.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;An &lt;code&gt;runtime.txt&lt;/code&gt; file with a line like &lt;code&gt;r-2019-02-14&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Either an &lt;code&gt;install.R&lt;/code&gt; file or a &lt;code&gt;DESCRIPTION&lt;/code&gt; file. The key thing
here is specifying what packages to install.&lt;/li&gt;
&lt;li&gt;Make a badge with the correct URL.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;limitations&#34;&gt;Limitations&lt;/h2&gt;
&lt;p&gt;There are some important limitations of binder.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It&amp;rsquo;s a pilot; it&amp;rsquo;s not likely to continue long term the way it is now
(totally free).&lt;/li&gt;
&lt;li&gt;You get just 1-2 GB RAM for your project.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;conclusions&#34;&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;Putting the code and data for a project or paper on GitHub is an
awesome thing. People can grab it and explore it and test it and
modify it for other purposes.&lt;/p&gt;
&lt;p&gt;But there are some hassles, including getting all of the packages
installed, and installing the right versions of packages.&lt;/p&gt;
&lt;p&gt;Docker containers are a clear and important solution to this problem,
but many of us still find them a bit complicated and scary.&lt;/p&gt;
&lt;p&gt;Binder can bring that docker magic to all of our github repositories,
with just three small steps.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>writing text in Minecraft with R</title>
      <link>/2019/02/11/writing_text_in_minecraft_with_r/</link>
      <pubDate>Mon, 11 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/11/writing_text_in_minecraft_with_r/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s been nearly two years since I attended the &lt;a href=&#34;https://kbroman.org/blog/2017/05/27/ropensci-unconf-2017/&#34;&gt;RopenSci UnConf
2017&lt;/a&gt; in LA
and worked with &lt;a href=&#34;https://github.com/daroczig&#34;&gt;Gergely Daróczi&lt;/a&gt;,
&lt;a href=&#34;https://github.com/geanders&#34;&gt;Brooke Anderson&lt;/a&gt;, &lt;a href=&#34;https://github.com/revodavid&#34;&gt;David
Smith&lt;/a&gt;, &lt;a href=&#34;https://github.com/inchiosa&#34;&gt;Mario
Inchiosa&lt;/a&gt;, and &lt;a href=&#34;https://github.com/akzaidi&#34;&gt;Adi
Zaidi&lt;/a&gt; to create the
&lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt; package for interacting
with &lt;a href=&#34;https://minecraft.net&#34;&gt;Minecraft&lt;/a&gt; from
&lt;a href=&#34;https://r-project.org&#34;&gt;R&lt;/a&gt;. We spent a half-day writing the package
and then a day and a half playing, with a bunch of our ideas
implemented in the &lt;a href=&#34;https://github.com/kbroman/craft&#34;&gt;craft&lt;/a&gt;
package and illustrated in the &lt;a href=&#34;https://bookdown.org&#34;&gt;bookdown&lt;/a&gt; book,
&lt;a href=&#34;https://kbroman.org/miner_book&#34;&gt;R programming with
Minecraft&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d meant to follow up with a bunch more on the stuff we&amp;rsquo;d done, and
to really finish up and polish the book. But, well, I didn&amp;rsquo;t. But I&amp;rsquo;m
going to try to do so now. I&amp;rsquo;ll start by explaining how I was able to
write text in Minecraft, like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./images/rOpenSci_sign.png&#34; alt=&#34;rOpenSci on a hill in Minecraft&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;my-goal-was-to-make-a-ggplot-scatterplot&#34;&gt;My goal was to make a ggplot scatterplot&lt;/h2&gt;
&lt;p&gt;Once we had &lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt; up and
running, the first thing I wanted to do was &lt;a href=&#34;https://kbroman.org/miner_book/rendering-an-image-in-minecraft.html&#34;&gt;render a picture out of
blocks&lt;/a&gt;.
Specifically, I wanted to create a picture of
&lt;a href=&#34;http://inundata.org&#34;&gt;Karthik&lt;/a&gt; in Minecraft. And so I
did:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./images/karthik_minecraft.png&#34; alt=&#34;Karthik in Minecraft&#34;&gt;&lt;/p&gt;
&lt;p&gt;My next goal was to make a &lt;code&gt;ggplot2::theme_gray()&lt;/code&gt;-styled scatterplot
within Minecraft. Like, I wasn&amp;rsquo;t so ambitious that I wanted to add a
&lt;code&gt;geom_minecraft()&lt;/code&gt; or a ggplot2 Minecraft plugin, but I thought it&amp;rsquo;d
be cool to make an image of a ggplot2-style graph in Minecraft and
then pretend that I&amp;rsquo;d done it properly. If I can create an image in
Minecraft, then of course I can create a scatterplot. The only tricky
part would be the axis labels: being able to write text in Minecraft.&lt;/p&gt;
&lt;p&gt;(I mean, you can probably guess that I first tried saving a graph to
an image file and then rendering that in Minecraft. But it looked
terrible because the points in the scatterplot wouldn&amp;rsquo;t be captured
well, and the text in the axis labels was especially terrible.)&lt;/p&gt;
&lt;h2 id=&#34;pixel-based-fonts&#34;&gt;Pixel-based fonts&lt;/h2&gt;
&lt;p&gt;It seemed like I just needed some old-style, pixelated fonts. You know,
like the ones used on LCD displays. It took a lot of googling, but I
finally found this &lt;a href=&#34;http://uzebox.org/wiki/index.php?title=Font_Bitmaps&#34;&gt;font
bitmaps&lt;/a&gt; page at
&lt;a href=&#34;http://uzebox.org&#34;&gt;uzebox.org&lt;/a&gt;, which has a big list of font sizes,
and then for each font size there&amp;rsquo;s a bunch of PNG images with
different fonts in that size. For example, here&amp;rsquo;s the one I&amp;rsquo;m using
for the 6x8 font:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://uzebox.org/wiki/images/a/a2/Sebasic_charset_192w.png&#34;&gt;&lt;img src=&#34;./images/Sebasic_charset_192w.png&#34; alt=&#34;6x8 font bitmap&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yeah so that&amp;rsquo;s great. I could see these images of the fonts, with the
available characters, but what I wanted was like a bitmap: for
example, for each character in a 6x8 font, I wanted 0s and 1s
indicating which bits need to be dark versus light.&lt;/p&gt;
&lt;p&gt;Ugh, I spent a couple of hours googling and puzzling over this. Why
would they provide these images and not provide a bitmap, so that you
could actually make the font? I mean, the title of &lt;a href=&#34;http://uzebox.org/wiki/index.php?title=Font_Bitmaps&#34;&gt;that
page&lt;/a&gt; was &amp;ldquo;&lt;em&gt;Font
Bitmaps&lt;/em&gt;&amp;rdquo;!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Finally&lt;/em&gt; I realized that, just like the picture of Karthik that I
had made, the PNG images I was looking at &lt;em&gt;were&lt;/em&gt; the bitmaps. I could
load them into R with the
&lt;a href=&#34;https://cran.r-project.org/package=imager&#34;&gt;imager&lt;/a&gt; package and then
grab the 0s and 1s there. The only thing I needed to do was look at
the images and type in the sets of characters that were inside the
images. For example, for the 6x8 image above, the PNG file is 192 x 24
pixels: 24 pixels tall because there are three rows of characters and
they each are 8 characters tall, and 192 pixels wide because there are
32 columns of characters and they are each 6 pixels wide.&lt;/p&gt;
&lt;p&gt;The script I used to set up the fonts is &lt;a href=&#34;https://github.com/kbroman/craft/blob/master/inst/scripts/grab_fonts.R&#34;&gt;hiding inside the craft
package&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;rendering-text&#34;&gt;Rendering text&lt;/h2&gt;
&lt;p&gt;For text I want to write in Minecraft, I first split it into
the individual characters. Then I convert each character into a
bitmap.&lt;/p&gt;
&lt;p&gt;For each size font, we basically have a matrix of available characters
and then a matrix that is the font image bitmap. I find the character
in the font, and then pull out the corresponding chunk of the font
bitmap. I then paste those bitmaps back together, to get a bitmap for
the full text.&lt;/p&gt;
&lt;p&gt;Finally, I render it in Minecraft by looping over the elements of the
bitmap matrix of 0s and 1s and adding a block wherever there&amp;rsquo;s a 1,
using &lt;a href=&#34;https://github.com/kbroman/miner/blob/master/R/setBlock.R&#34;&gt;&lt;code&gt;miner::setBlock()&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;rotating-the-text&#34;&gt;Rotating the text&lt;/h2&gt;
&lt;p&gt;The other tricky bit was figuring out which direction to draw the text. And
like, how many different directions can you draw text in 3d space?
Really, I have a terrible spatial sense. And I refuse to admit how
long it took me to work through that.&lt;/p&gt;
&lt;p&gt;Suffice it to say, there are six directions in Minecraft: north,
south, east, west, up, and down. Your text could go in any of those
directions, but then for each such direction, the top of the text
could be oriented in one of four of the other possible directions. I
wrote an internal function
&lt;a href=&#34;https://github.com/kbroman/craft/blob/master/R/write_text.R#L153-L164&#34;&gt;&lt;code&gt;craft::check_dirtop()&lt;/code&gt;&lt;/a&gt;
to check compatibility. (That&amp;rsquo;s &amp;ldquo;check dir top&amp;rdquo; not &amp;ldquo;check dirt op&amp;rdquo;, by
the way.)&lt;/p&gt;
&lt;p&gt;And that was pretty much that. It doesn&amp;rsquo;t seem like it was that hard,
but there were some important conceptual puzzles that took like 2/3 of
my time on this. In the end the code to grab the font information
is just about 80 lines, and the code to render text in Minecraft is
just about 160 lines. And it allowed me to do stuff like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./images/rqtl2_3d.png&#34; alt=&#34;&amp;ldquo;R/qtl now in 3d&amp;rdquo;, rendered within Minecraft&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update 2020-12-14&lt;/em&gt;: the miner and craft packages and the miner book have been moved from
&lt;a href=&#34;https://github.com/ropenscilabs&#34;&gt;ROpenSciLabs&lt;/a&gt; to &lt;a href=&#34;https://github.com/kbroman&#34;&gt;kbroman&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>another new laptop</title>
      <link>/2019/02/02/another_new_laptop/</link>
      <pubDate>Sat, 02 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/02/another_new_laptop/</guid>
      <description>&lt;p&gt;I&amp;rsquo;d long been a MacBook Pro user. I went through like 6 or 8 of them.
My favorites were the 17&amp;quot; ones. Heavy, but that big screen was great
for data analysis, programming, and writing papers.&lt;/p&gt;
&lt;p&gt;Mac OSX seemed designed just for me: unix minus the trouble, plus
Word. But it seems like Apple is now designing with someone totally
different in mind. I mean, my MacPro desktop is on its last legs but
hell if I&amp;rsquo;m going to buy one of their new ones which are basically
like a laptop that you sit on your desk. I want to be able to open the
thing and slide hard drives and memory and graphics cards in and out.
And these latest MacBook Pros: still limited to 16 GB RAM and smallish
SSD drives, and no real escape key because of that damned touch bar.
And only USB-C ports. The new MacBook Air at least has a proper escape
key, but again just one kind of port.&lt;/p&gt;
&lt;h2 id=&#34;last-years-new-laptop&#34;&gt;Last year&amp;rsquo;s new laptop&lt;/h2&gt;
&lt;p&gt;So a year ago, needing a new laptop, I bought a linux laptop from
&lt;a href=&#34;https://system76.com&#34;&gt;System76&lt;/a&gt;. And in what turned out to be an
over-reaction of anti-Mac fervor, I got their &lt;a href=&#34;https://system76.com/laptops/oryx&#34;&gt;Oryx
Pro&lt;/a&gt; monster, fully loaded with a
15&amp;quot; HiDPI screen with a NVIDIA GTX 1070 graphics card, 64 GB RAM, a 2
TB SSD and another 2 TB hard drive for backup and extra space. The
thing weighs 6.5 lbs (2.9 kg), but really not &lt;em&gt;that&lt;/em&gt; much heavier than
my previous MacBook; just a bit thicker.&lt;/p&gt;
&lt;p&gt;This thing has been a joy to work on. Beautiful screen, and all the RAM
and nearly the power of my desktop.
Oh and it has all of the ports. 3 USB-A, 2 USB-C, 2 mini display ports,
hdmi, ethernet, SD card.&lt;/p&gt;
&lt;p&gt;And linux has been a dream. Managing ubuntu is nothing like
managing RedHat as I did back in 1999. Everything just works (except
for the screen mirroring with this particular machine). The occasional
installation woes are actually easier than on a Mac, I think because it&amp;rsquo;s all
as intended rather being a homebrew
great-but-kind-of-hacky-outside-the-OS deal.&lt;/p&gt;
&lt;p&gt;But, two important downsides. First, the battery really sucks. The
fan&amp;rsquo;s going essentially all the time while I&amp;rsquo;m working, and the battery
lasts only an hour for me, if that. So you essentially need
to have it plugged in all of the time. Which means you can&amp;rsquo;t even use
it for the occasional meeting without lugging along the power adapter (which
weights 1.7 lbs ie 750 g) and being near an outlet.&lt;/p&gt;
&lt;p&gt;Second, the HiDPI screen is awesome, but I&amp;rsquo;ve still not figured out
how to mirror the screen when giving a presentation. I can use it to
show slides (provided I stay plugged in), but I can&amp;rsquo;t use it for
teaching where I need to be able to demonstrate something in
&lt;a href=&#34;https://rstudio.com&#34;&gt;RStudio&lt;/a&gt;. So I&amp;rsquo;ve been teaching using a
chromebook, and at times in the last year I&amp;rsquo;ve traveled with both my
laptop and a chromebook.&lt;/p&gt;
&lt;p&gt;So really, the Oryx Pro is an awesome machine and I love it but it
just doesn&amp;rsquo;t fit my traveling/teaching needs.&lt;/p&gt;
&lt;h2 id=&#34;so-yet-another-new-laptop&#34;&gt;So yet another new laptop&lt;/h2&gt;
&lt;p&gt;So I needed something new. I want power and RAM and ports, and I don&amp;rsquo;t
care about weight, but I don&amp;rsquo;t want to be completely tied to a power
outlet, and I want to be able to easily mirror to an LCD projector.&lt;/p&gt;
&lt;p&gt;I looked at the Dell XPS 13 developer edition, but no more than 16 GB
RAM and just USB-C ports. If I wanted to run linux on a Mac-like
thing I would buy a Mac and run linux on it. And I &lt;a href=&#34;https://en.wikipedia.org/wiki/Superfish#Lenovo_security_incident&#34;&gt;don&amp;rsquo;t want to touch
Lenovo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So I decided to get another System76, the &lt;a href=&#34;https://system76.com/laptops/galago&#34;&gt;Galago
Pro&lt;/a&gt;. I got the 14&amp;quot; 1920x1080
screen (avoid the HiDPI because of the screen mirroring issue and
indeed this one works fine mirroring to an LCD projector). 32 GB RAM
(I&amp;rsquo;ll miss the 64 GB but what can you do) and 2x 2 TB SSDs. And all the
ports I want: 2 USB-A, USB-C, mini display, hdmi, SD card, ethernet.&lt;/p&gt;
&lt;p&gt;(&lt;strong&gt;Note&lt;/strong&gt;: &lt;a href=&#34;https://system76.com&#34;&gt;System76&lt;/a&gt; just released the &lt;a href=&#34;https://system76.com/laptops/darter&#34;&gt;Darter
Pro&lt;/a&gt; which is similar but has a
larger battery (55 Wh rather than 35 Wh), plus also a larger 15.6&amp;quot;
screen and keyboard with number keypad. To make room for
the larger battery, it takes just one SSD drive. Overall it&amp;rsquo;s
probably an even better fit for me.)&lt;/p&gt;
&lt;p&gt;Reviews tend to mention that the battery sucks, but they&amp;rsquo;re saying the
battery sucks because it only lasts 3-4 hours rather than the battery
sucks because it only lasts 30 minutes. Yeah 10 hour batteries are
great but I&amp;rsquo;m okay with 3 hours if I can have proper ports. I just got
it yesterday, but working with it today I can tell that the battery
is sufficient for my needs.&lt;/p&gt;
&lt;p&gt;The screen is a bit smaller than I want, and it&amp;rsquo;s not so sharp as my
other, but I&amp;rsquo;m fine with the 1080p and I think it&amp;rsquo;s big and sharp
enough to code and write on.&lt;/p&gt;
&lt;p&gt;Oh, and this laptop weighs 3 lbs 6 oz (1.5 kg), and the power adapter
is just 5 oz (150 g), so jointly like 3.6 lbs vs 8.1 lbs for the Oryx
Pro and adapter. But who cares about weight, really? I&amp;rsquo;m all about RAM,
ports, SSDs, moderate battery, and easy projecting.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a picture of my Galago Pro, sitting on top of my Oryx Pro.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;./images/system76_laptops.png&#34;&gt;&lt;img src=&#34;./images/system76_laptops_small.png&#34; alt=&#34;system76laptops&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s a picture of the two power adapters.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;./images/system76_power_adapters.png&#34;&gt;&lt;img src=&#34;./images/system76_power_adapters_small.png&#34; alt=&#34;system76 laptop poweradapters&#34;&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>twitter break</title>
      <link>/2018/10/05/twitter-break/</link>
      <pubDate>Fri, 05 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>/2018/10/05/twitter-break/</guid>
      <description>


&lt;p&gt;What I’ve liked most about Twitter is that it’s helped me to feel less
isolated, as I’ve been able to connect with distant folks who share my
interests and values, particularly regarding open science and
reproducible research.&lt;/p&gt;
&lt;p&gt;But somehow, lately, Twitter had me feeling less rather than more
connected. I think maybe it’s been that conference effect: scientific
conferences are great for catching up with old friends and seeing all
of the cool things that everyone’s doing, but ultimately they often
leave me feeling like crap because everyone else seems to be doing
cool and exciting stuff while I gave a talk on the same old stuff I’ve
been working on for five years with little apparent progress.&lt;/p&gt;
&lt;p&gt;So I took a two-month break from Twitter. But I can’t say that I
really felt better for it. And going back I see I’ve missed like 100
tweets about my &lt;a href=&#34;https://doi.org/10.1080/00031305.2017.1375989&#34;&gt;paper&lt;/a&gt;
with &lt;a href=&#34;https://twitter.com/kara_woo&#34;&gt;Kara Woo&lt;/a&gt; on &lt;a href=&#34;https://doi.org/10.1080/00031305.2017.1375989&#34;&gt;data organization in
spreadsheets&lt;/a&gt;. And I
was mentioned among &lt;a href=&#34;https://news.wisc.edu/uws-most-interesting-twitter-accounts-you-need-to-follow/&#34;&gt;UW-Madison’s most interesting Twitter
accounts&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So I’m coming back to Twitter, but maybe in a more scaled-back way.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>learning a new programming language</title>
      <link>/2018/03/16/learning-a-new-programming-language/</link>
      <pubDate>Fri, 16 Mar 2018 00:00:00 +0000</pubDate>
      
      <guid>/2018/03/16/learning-a-new-programming-language/</guid>
      <description>


&lt;p&gt;I’ve long been an advocate for statisticians (and other data
scientists) to become proficient in multiple programming languages.
Fifteen years ago, I said, “Think CPR: C for speed, R for
interactive data analysis and graphics, and Perl for manipulating data
files.” I’d now substitute C++ for C, and
&lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt; or
&lt;a href=&#34;https://www.ruby-lang.org/en&#34;&gt;Ruby&lt;/a&gt; for Perl, but the general
sentiment stands: use the language that best fits the problem at hand.&lt;/p&gt;
&lt;div id=&#34;more-blather-about-languages&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;More blather about languages&lt;/h2&gt;
&lt;p&gt;Long ago, I wrote a &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/perlintro/&#34;&gt;tutorial on
Perl&lt;/a&gt;. I’d intended
to also write tutorials on C and R, but never got around to them and
just wrote resources pages (see &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/Cintro/&#34;&gt;Intro to
C&lt;/a&gt; and &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/Rintro/&#34;&gt;Intro to
R&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;My Perl code was always terrible: “read-only”, one-off scripts to
convert data files from one format to another. I much prefer Ruby, but my
Ruby coding involves a whole lot of googling. Python is more popular,
and so I’d recommend that to you. (But I really don’t like the
handling of regular expression in Python, and that’s like the main
thing I want from that sort of language, so I’m sticking with Ruby
for data file manipulation.) And these days, what with the whole
&lt;a href=&#34;https://www.tidyverse.org/&#34;&gt;tidyverse&lt;/a&gt; developments, you can probably
get by with R alone, for data file manipulation.&lt;/p&gt;
&lt;p&gt;Still, sometimes a problem requires you to bring out the big guns. For
lots of problems, my most pristine R code won’t be nearly as fast as
my sloppiest C or C++ code. So to be fully self-sufficient, I think you want
to be able to switch to a lower-level, super efficient (for
calculations, not for writing the code) language. Many would advocate
for &lt;a href=&#34;https://julialang.org&#34;&gt;Julia&lt;/a&gt; as a way to have one language that
is simultaneously easy, readable, and fast. But I still believe in
switching between languages (C++ for speed and R for interactive data
analysis and graphics, and maybe data file manipulation, though I
still prefer to switch again to Ruby).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://thebird.nl/&#34;&gt;Pjotr Prins&lt;/a&gt; had me writing &lt;a href=&#34;https://dlang.org/&#34;&gt;D&lt;/a&gt; for a while,
and he continues to advocate for it. And boy was I ever glad to switch
from C to C++ and from &lt;code&gt;.C()&lt;/code&gt; to &lt;a href=&#34;http://www.rcpp.org/&#34;&gt;Rcpp&lt;/a&gt;. html
and CSS go without saying. And we should probably add JavaScript, or
something that compiles to JavaScript. (I like
&lt;a href=&#34;http://coffeescript.org/&#34;&gt;CoffeeScript&lt;/a&gt;; in fact, CoffeeScript is
probably my favorite language, presently.)&lt;/p&gt;
&lt;p&gt;There was also SQL and MongoDB in there, for me. Data scientists need to be
comfortable with accessing formal databases.&lt;/p&gt;
&lt;p&gt;I’m now trying to learn &lt;a href=&#34;http://www.purescript.org/&#34;&gt;PureScript&lt;/a&gt;, but
I’m finding it heavy going and so am taking a detour into
&lt;a href=&#34;https://www.haskell.org/&#34;&gt;Haskell&lt;/a&gt; for a bit, to try to get the
basics of the “purely functional programming” business. But I intend to then
go back to PureScript.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-to-learn-programming-language&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How to learn programming language&lt;/h2&gt;
&lt;p&gt;Anyway, that was a bit too much of a blathery introduction to say: I
think it’s good to learn multiple programming languages, and in having
tried to do so myself, I’ve got some suggestions about how to go about
it (the learning), which might be useful.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set aside substantial and regular blocks of time.&lt;/li&gt;
&lt;li&gt;Buy a good book. Or buy all the books.&lt;/li&gt;
&lt;li&gt;Have a particular goal/application in mind.&lt;/li&gt;
&lt;li&gt;Develop a script, with notes, illustrating key language features
you’ve learned.&lt;/li&gt;
&lt;li&gt;Force yourself to use your new skills.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;set-aside-substantial-and-regular-blocks-of-time.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Set aside substantial and regular blocks of time.&lt;/h2&gt;
&lt;p&gt;Learning a new programming language takes time and regular practice.
And you really need blocks of 2-4 hours, because if you’ve not touched
the language in a week, it’ll take you 30 minutes to get yourself back
into it. (What were you doing? What had you learned? What did you want
to look at next?) You need a chunk of a couple of hours so you can get
yourself back into it and then make a bit of progress.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;buy-a-book.-or-buy-all-the-books.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Buy a book. Or buy all the books.&lt;/h2&gt;
&lt;p&gt;I recommend finding a good book and following along. Actually, I tend
to buy &lt;em&gt;all&lt;/em&gt; the books. But you want at least one, maybe two.
Which book is a matter of taste. I’m looking for something that
is aimed at someone who can already program in something. But whether
a book is the right one
for me depends mostly on the types of examples that are used. After
that is writing style
and quality of explanations.&lt;/p&gt;
&lt;p&gt;For example, regarding Ruby, many people recommend &lt;a href=&#34;https://www.amazon.com/gp/product/1937785491?ie=UTF8&amp;amp;tag=7210-20&#34;&gt;&lt;em&gt;Programming
Ruby&lt;/em&gt;&lt;/a&gt;,
but personally I found the examples and the order of topics was just
not a good fit for me. I much preferred &lt;a href=&#34;https://www.amazon.com/gp/product/0321584104?ie=UTF8&amp;amp;tag=7210-20&#34;&gt;&lt;em&gt;Eloquent
Ruby&lt;/em&gt;&lt;/a&gt;
and then &lt;a href=&#34;https://www.amazon.com/gp/product/1617291692?ie=UTF8&amp;amp;tag=7210-20&#34;&gt;&lt;em&gt;The Well-Grounded
Rubyist&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I’ll usually start by looking for something published by
&lt;a href=&#34;https://www.oreilly.com&#34;&gt;O’Reilly&lt;/a&gt;; they’re uniformly good books. But
in reality my favorite books are published by others: The best book
(for &lt;em&gt;me&lt;/em&gt;) on a given language is likely not from O’Reilly.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;have-a-particular-goalapplication-in-mind.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Have a particular goal/application in mind.&lt;/h2&gt;
&lt;p&gt;If you really want to make progress in learning a programming
language, you need to move beyond the examples and exercises in a book
and start using the language creatively to solve your own
problems. Perhaps you have a particularly wonky data file that you
want to parse and reorganize. Or maybe you want to write a web app
that serves up local bus schedules. I like to switch back-and-forth
between slowly developing an understanding of the language and its
features, and then hacking away at something more substantial and &lt;em&gt;real&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;develop-a-script-with-notes.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Develop a script, with notes.&lt;/h2&gt;
&lt;p&gt;My key piece of advice: as you’re learning, develop a bit of a script with
comments and other notes that illustrates the various language
features that you’ve learned.&lt;/p&gt;
&lt;p&gt;First, you want to document the details of setting up the various
language tools (compiler/interpreter and libraries and such) and how
to keep them up-to-date. (This stuff is tedious, painful, and
critical. So once you’ve figured it out, you’ll want a record of it so
you don’t have to go through it again.)
You can find various of my notes on this stuff in my
&lt;a href=&#34;https://github.com/kbroman/ProgrammingNotes&#34;&gt;ProgrammingNotes
repository&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;p&gt;But most importantly, you want an informal script that you can quickly skim
through or search, because you’ll forget stuff:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How do define a function in this language?&lt;/li&gt;
&lt;li&gt;What do I use to indicate comments?&lt;/li&gt;
&lt;li&gt;How do I concatenate two vectors?&lt;/li&gt;
&lt;li&gt;How do I search for an element in a vector?&lt;/li&gt;
&lt;li&gt;What was the syntax for list comprehensions again?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It’s all in that book that you bought, but it’s much easier to find
that one thing you’re looking for in
the succinct set of notes that you wrote yourself. Here are some
examples of what I’ve done: for
&lt;a href=&#34;https://github.com/kbroman/Pybroman&#34;&gt;Python&lt;/a&gt;,
&lt;a href=&#34;https://github.com/kbroman/Rubybroman&#34;&gt;Ruby&lt;/a&gt;, and
&lt;a href=&#34;https://github.com/kbroman/JSbroman&#34;&gt;JavaScript/CoffeeScript&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;force-yourself-to-use-your-new-skills.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Force yourself to use your new skills.&lt;/h2&gt;
&lt;p&gt;Finally, if you really want to adopt the new programming language as
part of your working toolkit, you’ll need to force yourself to
actually use it in real life.&lt;/p&gt;
&lt;p&gt;There’ll come a time when you’ll say, “I should do this in Ruby. Nah,
I could get it done in Perl in 15 minutes and it would take me two
hours to do this in Ruby.” But you’ve got to force yourself to use the new
language. In the short term, it’ll be easiest to switch back to the
language you’re comfortable with, but if you want to make progress in
the new language, you’ve got to put it into regular practice, and that
won’t be easy. But it’ll get easier.&lt;/p&gt;
&lt;p&gt;Ultimately, you’ll have four or five languages floating around in
your head and you’ll not remember how to define a function in any of
them. And then you’ll be really cool.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>these guys</title>
      <link>/2017/12/18/these-guys/</link>
      <pubDate>Mon, 18 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/12/18/these-guys/</guid>
      <description>


&lt;p&gt;At the
&lt;a href=&#34;https://ww2.amstat.org/meetings/jsm/2016/&#34;&gt;2016 JSM in Chicago&lt;/a&gt;,
in a
&lt;a href=&#34;https://ww2.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212769&#34;&gt;session honoring William Cleveland&lt;/a&gt;,
a speaker’s repeated use of the phrase “these guys”, when referring to
programmers, made me livid.&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;I’ve just become ACUTELY aware that we should not say “these guys” when referring to programmers or analysts in a talk. &lt;a href=&#34;https://twitter.com/hashtag/JSM2016?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#JSM2016&lt;/a&gt;&lt;/p&gt;&amp;mdash; Karl Broman (@kwbroman) &lt;a href=&#34;https://twitter.com/kwbroman/status/760881386651848708?ref_src=twsrc%5Etfw&#34;&gt;August 3, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;


&lt;p&gt;This led to considerable discussion about whether and how to respond,
and ultimately Hadley Wickham and I wrote to the speaker:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dear S____,&lt;/p&gt;
&lt;p&gt;We attended your talk at JSM last week, in the session honoring Bill Cleveland.&lt;/p&gt;
&lt;p&gt;We, and a number of other audience members, were taken aback by your repeated use of the phrase “these guys” in your talk. The use of the word “guys” is often intended as gender-neutral, and we’re certain that you didn’t intend to deliberately imply that only men can be software developers and data analysts. However, our experience as audience members was that your repeated usage came across as rather exclusionary—characterizing programmers and analysts as exclusively men. Given that that was likely not your intent, we hope you’ll take it in consideration to change your language in the future.&lt;/p&gt;
&lt;p&gt;Regards,
Karl Broman &amp;amp; Hadley Wickham&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We didn’t get a response.&lt;/p&gt;
&lt;p&gt;I think the lesson here is: don’t let these sorts of things go.
&lt;a href=&#34;https://medium.com/@kristianlum/statistics-we-have-a-problem-304638dc5de5&#34;&gt;Tip of the %$*@-ing iceberg&lt;/a&gt;.&lt;/p&gt;
&lt;div id=&#34;update&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Update&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://www.science.smith.edu/~amcnamara/&#34;&gt;Amelia McNamara&lt;/a&gt; wrote
&lt;a href=&#34;http://www.science.smith.edu/~amcnamara/blog/conferences/2017/12/19/On-Microaggressions.html&#34;&gt;an important follow up&lt;/a&gt;
which you simply &lt;em&gt;&lt;strong&gt;must&lt;/strong&gt;&lt;/em&gt; go read. She fully characterizes the
situation in a way that I didn’t.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>halloween 2017</title>
      <link>/2017/10/31/halloween-2017/</link>
      <pubDate>Tue, 31 Oct 2017 20:05:00 -0500</pubDate>
      
      <guid>/2017/10/31/halloween-2017/</guid>
      <description>


&lt;p&gt;It was easier than ever to count trick-or-treaters this year; there
were just 6 groups of kids, for a total of
18, and 12 of them came within 2 minutes (a group of 8
girls followed immediately by a group of 4 girls). Here’s a graph;
compare it to
&lt;a href=&#34;https://kbroman.org/blog/2016/10/31/halloween-2016-count/&#34;&gt;2016&lt;/a&gt; and
&lt;a href=&#34;https://kbroman.org/blog/2011/10/31/halloween-2011-count/&#34;&gt;2011&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./post/2017-10-31_halloween2017_files/figure-html/halloween_graph-1.png&#34; width=&#34;768&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>EOF within quoted string</title>
      <link>/2017/08/08/eof-within-quoted-string/</link>
      <pubDate>Tue, 08 Aug 2017 00:10:12 -0500</pubDate>
      
      <guid>/2017/08/08/eof-within-quoted-string/</guid>
      <description>


&lt;p&gt;So I was trying to parse
&lt;a href=&#34;http://www.informatics.jax.org/downloads/mgigff/MGI.20170803.gff3.gz&#34;&gt;this gff file&lt;/a&gt;
from &lt;a href=&#34;http://www.informatics.jax.org/&#34;&gt;MGI&lt;/a&gt;, with mouse gene
annotations. And, well, I’m an idiot. But in a way that is potentially
instructive.&lt;/p&gt;
&lt;p&gt;The documentation for the file is a
&lt;a href=&#34;http://www.informatics.jax.org/downloads/mgigff/MGI_GFF_Spec.docx&#34;&gt;docx file&lt;/a&gt;
(not really a recommended format for such metadata), but it seems
rather simple, really: tab delimited, with 9 columns, the ninth column
being a bunch of pasted attributes that needs to be further parsed,
but we’ll skip over that detail.&lt;/p&gt;
&lt;p&gt;I’d wanted to use &lt;code&gt;fread()&lt;/code&gt; from the
&lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki&#34;&gt;data.table package&lt;/a&gt;,
but it turns out that the file has a bunch of lines with “&lt;code&gt;###&lt;/code&gt;”
interspersed within the data, and I couldn’t see a way to skip over
those in &lt;code&gt;fread()&lt;/code&gt;, so I fell back to the usual base R function,
&lt;code&gt;read.table()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s first download and unzip the file.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# download the file
site &amp;lt;- &amp;quot;http://www.informatics.jax.org/downloads/mgigff&amp;quot;
file &amp;lt;- &amp;quot;MGI.20170803.gff3.gz&amp;quot;
url &amp;lt;- paste0(site, &amp;quot;/&amp;quot;, file)
if(!file.exists(file)) download.file(url, file)

# unzip to a temporary file
file &amp;lt;- sub(&amp;quot;.gz$&amp;quot;, &amp;quot;&amp;quot;, file)
tmpfile &amp;lt;- tempfile()
remove_tmpfile &amp;lt;- FALSE
if(!file.exists(file)) { # need to unzip
    system(paste0(&amp;quot;gunzip -c &amp;quot;, file, &amp;quot;.gz &amp;gt; &amp;quot;, tmpfile))
    remove_tmpfile &amp;lt;- TRUE
    file &amp;lt;- tmpfile
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, now to read it into R with &lt;code&gt;read.table()&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- read.table(file, sep=&amp;quot;\t&amp;quot;, header=FALSE, comment.char=&amp;quot;#&amp;quot;,
                  na.strings=&amp;quot;.&amp;quot;, stringsAsFactors=FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives a warning message:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Warning message:
In scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
  EOF within quoted string&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hmm. What does that mean? Oh, no matter, let’s move on…&lt;/p&gt;
&lt;p&gt;Wait, there are no genes on chromosomes 5, 8, 15, 18, Y, or MT. How
could that be? Something must be wrong with the file. Let’s look at
another file at that site,
&lt;a href=&#34;http://www.informatics.jax.org/downloads/mgigff/MGI.20160103.gff3.gz&#34;&gt;&lt;code&gt;MGI.20160103.gff3.gz&lt;/code&gt;&lt;/a&gt;.
That one’s missing chromosomes 8 and 13.&lt;/p&gt;
&lt;p&gt;So I ask
&lt;a href=&#34;https://www.jax.org/research-and-faculty/faculty/research-scientists/daniel-gatti&#34;&gt;Dan Gatti&lt;/a&gt;:
“Hey, those files are corrupted. Who should I talk to about them?”&lt;/p&gt;
&lt;p&gt;And he’s like, “That’d be a disaster, but they look fine to me [parsed with &lt;code&gt;read.delim()&lt;/code&gt;].”&lt;/p&gt;
&lt;p&gt;So I tried using &lt;code&gt;read.delim()&lt;/code&gt; and sure enough, no warning, genes
on all chromosomes, and about twice as many records. Oops.&lt;/p&gt;
&lt;div id=&#34;read.delim-vs-read.table&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;code&gt;read.delim()&lt;/code&gt; vs &lt;code&gt;read.table()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;So what’s the difference between &lt;code&gt;read.delim()&lt;/code&gt; and &lt;code&gt;read.table()&lt;/code&gt;?
Well, &lt;code&gt;read.delim()&lt;/code&gt; calls &lt;code&gt;read.table()&lt;/code&gt; with a particular set of
default values for the arguments:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; read.delim
function (file, header = TRUE, sep = &amp;quot;\\t&amp;quot;, quote = &amp;quot;\\&amp;quot;&amp;quot;, dec = &amp;quot;.&amp;quot;,
    fill = TRUE, comment.char = &amp;quot;&amp;quot;, ...)
read.table(file = file, header = header, sep = sep, quote = quote,
    dec = dec, fill = fill, comment.char = comment.char, ...)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The key argument here is &lt;code&gt;quote&lt;/code&gt;, in that &lt;code&gt;read.table()&lt;/code&gt; uses &lt;code&gt;quote=&#34;&#39;\&#34;&#34;&lt;/code&gt;
(that is, looking for either single- or double-quotes)
while &lt;code&gt;read.delim()&lt;/code&gt; uses &lt;code&gt;quote=&#34;\&#34;&#34;&lt;/code&gt; (just looking for double-quotes).&lt;/p&gt;
&lt;p&gt;There are no double-quotes in the file, but that ninth column includes some single-quotes, and
so my use of &lt;code&gt;read.table()&lt;/code&gt; was mucking everything up.
And presumably there was an odd number of
them, so the end-of-file (EOF) character was inside one of those
quoted strings.&lt;/p&gt;
&lt;p&gt;To read the file properly, I should have used &lt;code&gt;quote=&#34;\&#34;&#34;&lt;/code&gt;. Even
better, I could use &lt;code&gt;quote=&#34;&#34;&lt;/code&gt;, and for that matter also &lt;code&gt;fill=FALSE&lt;/code&gt;
(since every line is supposed to contain all nine columns).&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab &amp;lt;- read.table(file, sep=&amp;quot;\t&amp;quot;, header=FALSE, comment.char=&amp;quot;#&amp;quot;,
                  na.strings=&amp;quot;.&amp;quot;, stringsAsFactors=FALSE,
                  quote=&amp;quot;&amp;quot;, fill=FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;lessons&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Lessons&lt;/h2&gt;
&lt;p&gt;There are several lessons here.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I shouldn’t have ignored the “&lt;code&gt;EOF within quoted string&lt;/code&gt;”
warning.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I should have compared the number of lines I read in with the number
of lines in the input file. If I’d done so, I’d have seen that I had
just about half as many lines as I should’ve, and so I’d clearly
messed something up.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When I run into a problem like this, it’s more likely that there’s a
problem with my code than that there’s a problem with the file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;With a file of this sort, I should have used &lt;code&gt;quote=&#34;&#34;&lt;/code&gt; and
&lt;code&gt;fill=FALSE&lt;/code&gt; in my call to &lt;code&gt;read.table()&lt;/code&gt;. I’m not expecting any
quoted fields, and I’m expecting that every line will have exactly nine
columns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It’s good to have a friend like Dan.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>yay, yihui!</title>
      <link>/2017/08/03/yay-yihui/</link>
      <pubDate>Thu, 03 Aug 2017 00:01:00 -0500</pubDate>
      
      <guid>/2017/08/03/yay-yihui/</guid>
      <description>


&lt;p&gt;When I abandoned my &lt;a href=&#34;https://kbroman.wordpress.com&#34;&gt;wordpress site&lt;/a&gt;
and moved to &lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34;&gt;blogdown&lt;/a&gt;,
&lt;a href=&#34;./2017/04/30/new_blog_site/&#34;&gt;I’d said&lt;/a&gt;
that I wouldn’t bother trying to move the old posts over.&lt;/p&gt;
&lt;p&gt;But &lt;a href=&#34;https://yihui.name&#34;&gt;Yihui Xie&lt;/a&gt; just
&lt;a href=&#34;https://github.com/kbroman/blog/pull/2&#34;&gt;transferred everything&lt;/a&gt; for
me! So awesome.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>miner and craft</title>
      <link>/2017/05/31/miner-and-craft/</link>
      <pubDate>Wed, 31 May 2017 23:48:00 -0500</pubDate>
      
      <guid>/2017/05/31/miner-and-craft/</guid>
      <description>&lt;p&gt;In addition to our &lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt;
package and our &lt;a href=&#34;https://kbroman.org/miner_book&#34;&gt;in-development bookdown
book&lt;/a&gt;, the R/minecraft team from the
&lt;a href=&#34;https://ropensci.org&#34;&gt;ROpenSci&lt;/a&gt;
&lt;a href=&#34;http://unconf17.ropensci.org&#34;&gt;Unconference&lt;/a&gt; had
created a
bunch of other useful code for interacting with
&lt;a href=&#34;https://minecraft.net&#34;&gt;Minecraft&lt;/a&gt; from
&lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;, which we&amp;rsquo;re putting into a &lt;a href=&#34;https://github.com/kbroman/craft&#34;&gt;second
package&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I initially called this extra package &amp;ldquo;miner.extra&amp;rdquo;. (And I learned
some new things about the rules for what characters can be used in R
package names.) But then this evening I realized, &amp;ldquo;Hey, we could call
it &lt;a href=&#34;https://github.com/kbroman/craft&#34;&gt;craft&lt;/a&gt;.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;And I used the &lt;a href=&#34;https://github.com/ROpenSciLabs/available&#34;&gt;available&lt;/a&gt;
package, also developed at last week&amp;rsquo;s unconference, and verified that
indeed &lt;em&gt;craft&lt;/em&gt; is available. A bit of indecision about taking such a
great name for this secondary package, but after checking with
&lt;a href=&#34;https://twitter.com/daroczig&#34;&gt;Gergely&lt;/a&gt; and
&lt;a href=&#34;https://twitter.com/gbwanderson&#34;&gt;Brooke&lt;/a&gt;, went ahead with it.&lt;/p&gt;
&lt;p&gt;So I&amp;rsquo;m pleased to announce the
&lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt; and
&lt;a href=&#34;https://github.com/kbroman/craft&#34;&gt;craft&lt;/a&gt; packages for playing
with R and Minecraft.&lt;/p&gt;
&lt;p&gt;(I was of course tempted towards mineR and cRaft, but I didn&amp;rsquo;t want to
&lt;a href=&#34;https://twitter.com/hadleywickham/status/859469052154138625&#34;&gt;disappoint Hadley&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;(&lt;a href=&#34;https://github.com/kbroman/craft&#34;&gt;craft&lt;/a&gt; currently just
contains code that I wrote, &amp;lsquo;cause I was the only one who left dangling
scripts that weren&amp;rsquo;t incorporated into a proper vignette.
Functions from the others will follow.)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update 2020-12-14&lt;/em&gt;: the miner and craft packages have been moved from
&lt;a href=&#34;https://github.com/ropenscilabs&#34;&gt;ROpenSciLabs&lt;/a&gt; to &lt;a href=&#34;https://github.com/kbroman&#34;&gt;kbroman&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>omg, bookdown!</title>
      <link>/2017/05/31/omg-bookdown/</link>
      <pubDate>Wed, 31 May 2017 23:16:00 -0500</pubDate>
      
      <guid>/2017/05/31/omg-bookdown/</guid>
      <description>&lt;p&gt;So I heard &lt;a href=&#34;https://yihui.name&#34;&gt;Yihui Xie&lt;/a&gt; talk about
&lt;a href=&#34;https://bookdown.org&#34;&gt;bookdown&lt;/a&gt;, and I read, with considerable
excitement, his &lt;a href=&#34;https://bookdown.org/yihui/bookdown/&#34;&gt;bookdown book&lt;/a&gt;.
(There&amp;rsquo;s a &lt;a href=&#34;https://www.amazon.com/gp/product/113870010X?ie=UTF8&amp;amp;tag=7210-20&#34;&gt;blurb from me at
Amazon&lt;/a&gt;
saying nice things about it, after all). But I must admit that I read
the book on my iPad, with my feet up. And so my understanding, while
reasonably complete, was somewhat theoretical.&lt;/p&gt;
&lt;p&gt;I mean, from &lt;a href=&#34;https://kbroman.org/blog/2014/08/12/if-i-could-do-it-over-again-id-self-publish/&#34;&gt;my own book writing
experience&lt;/a&gt;,
I felt like, &amp;ldquo;Hell if &lt;em&gt;I&amp;rsquo;m&lt;/em&gt; going to be writing another book.&amp;rdquo; And
while I can see that it could be useful to reformat my &lt;a href=&#34;https://kbroman.org/tutorials&#34;&gt;various
tutorials&lt;/a&gt; as bookdown books, I
wasn&amp;rsquo;t in a hurry to do that.&lt;/p&gt;
&lt;p&gt;But the R/minecraft team from the &lt;a href=&#34;https://ropensci.org&#34;&gt;ROpenSci&lt;/a&gt;
&lt;a href=&#34;https://unconf17.ropensci.org&#34;&gt;Unconference&lt;/a&gt; had such a great time
last week, and we developed such cool stuff, that we thought it would
be good, in addition to polishing our
&lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt; package, to compile our
varied set of vignettes into a bookdown book.&lt;/p&gt;
&lt;p&gt;And so today I did. (You can see the working draft at
&lt;a href=&#34;https://kbroman.org/miner_book&#34;&gt;https://kbroman.org/miner_book&lt;/a&gt;.) And boy it was easy.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Made a &lt;a href=&#34;https://github.com/kbroman/miner_book&#34;&gt;github repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Created a &lt;code&gt;index.Rmd&lt;/code&gt; file and a &lt;code&gt;_bookdown.yml&lt;/code&gt; file.&lt;/li&gt;
&lt;li&gt;Copied over all of our extra &lt;code&gt;.Rmd&lt;/code&gt; files from &lt;code&gt;miner/extra_vignettes&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Replaced the YAML in those &lt;code&gt;.Rmd&lt;/code&gt; files with &amp;ldquo;&lt;code&gt;# [chapter title]&lt;/code&gt;&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Copied over our screen shots&lt;/li&gt;
&lt;li&gt;Added references in &lt;code&gt;book.bib&lt;/code&gt; (and &lt;code&gt;packages.bib&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Screwed around making a cover&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Oh, plus &lt;code&gt;README&lt;/code&gt; and &lt;code&gt;LICENSE&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;Okay, so I admit there was one glitch. I opened the thing in RStudio
and said&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;Now I just click the Build Book button. Wait, where is that? I just
see the cutest-button-ever knit button. And clicking that doesn&amp;rsquo;t
work properly.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;More time than I care to admit passes, with me doing all kinds of
crazy shit.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;Oh, he said the Build Book button on the &lt;em&gt;Build&lt;/em&gt; tab. I see it now.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And done.&lt;/p&gt;
&lt;p&gt;(Note that I also used his suggestion to have &lt;code&gt;output_dir: &amp;quot;docs&amp;quot;&lt;/code&gt; and
then use GitHub Pages to host the book-in-progress, which was also
easy.)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update 2020-12-14&lt;/em&gt;: the miner package and book have been moved from
&lt;a href=&#34;https://github.com/ropenscilabs&#34;&gt;ROpenSciLabs&lt;/a&gt; to &lt;a href=&#34;https://github.com/kbroman&#34;&gt;kbroman&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>deeply nested functions</title>
      <link>/2017/05/30/deeply-nested-functions/</link>
      <pubDate>Tue, 30 May 2017 10:41:00 -0500</pubDate>
      
      <guid>/2017/05/30/deeply-nested-functions/</guid>
      <description>&lt;p&gt;If, in teaching folks about the
&lt;a href=&#34;https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html&#34;&gt;magrittr&lt;/a&gt;
pipe operator, &lt;code&gt;%&amp;gt;%&lt;/code&gt;, you&amp;rsquo;re looking for an in-the-wild example of
deeply nested functions, our
&lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt; package (for connecting
&lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt; to &lt;a href=&#34;https://minecraft.net&#34;&gt;Minecraft&lt;/a&gt;,
developed at the &lt;a href=&#34;https://ropensci.org&#34;&gt;ROpenSci&lt;/a&gt; &lt;a href=&#34;http://unconf17.ropensci.org&#34;&gt;2017
Unconference&lt;/a&gt;) has &lt;a href=&#34;https://github.com/kbroman/miner/blob/master/R/chat.R#L33-L41&#34;&gt;a good
one&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-{r,&#34; data-lang=&#34;{r,&#34;&gt;setNames(data.frame(
    do.call(rbind,
            sapply(
                X = sub(&amp;quot;,&amp;quot;, &amp;quot;|&amp;quot;, strsplit(string, &#39;|&#39;, fixed = TRUE)[[1]], fixed=TRUE),
                FUN = strsplit,
                split = &#39;|&#39;, fixed=TRUE,
                USE.NAMES = FALSE)),
    stringsAsFactors=FALSE),
    colnames)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This turns a character string like &lt;code&gt;&amp;quot;121,hello everyone|4734,R mc_plot()&amp;quot;&lt;/code&gt;
into a data frame like&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-{r&#34; data-lang=&#34;{r&#34;&gt;string &amp;lt;- &amp;quot;121,hello everyone|4734,R mc_plot()&amp;quot;
colnames &amp;lt;- c(&amp;quot;player&amp;quot;, &amp;quot;message&amp;quot;)

&amp;lt;&amp;lt;nested_func&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That&amp;rsquo;s six functions deep:
&lt;code&gt;strsplit %&amp;gt;% sub %&amp;gt;% sapply %&amp;gt;% do.call %&amp;gt;% data.frame %&amp;gt;% setNames&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ROpenSci Unconf 2017</title>
      <link>/2017/05/27/ropensci-unconf-2017/</link>
      <pubDate>Sat, 27 May 2017 12:30:00 -0500</pubDate>
      
      <guid>/2017/05/27/ropensci-unconf-2017/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m back from the &lt;a href=&#34;https://ropensci.org&#34;&gt;ROpenSci&lt;/a&gt;
&lt;a href=&#34;http://unconf17.ropensci.org&#34;&gt;Unconference&lt;/a&gt; in LA. A fabulous two
days of R programming and, ur, playing
&lt;a href=&#34;https://minecraft.net&#34;&gt;Minecraft&lt;/a&gt;. As one does.&lt;/p&gt;
&lt;p&gt;This was ROpenSci&amp;rsquo;s 4th unconference; the first I could attend. There
were like 70 participants, nearly double what they had last year. The
scheme is that people break up into groups and work on different
projects that might be useful to the ROpenSci community. There was
discussion about potential projects &lt;a href=&#34;https://github.com/ropensci/unconf17/issues&#34;&gt;in advance on
GitHub&lt;/a&gt;, and then the
first morning we voted on what we were interested in doing via
stickers:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[&lt;strong&gt;deleted tweet removed&lt;/strong&gt;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I found the list of topics a bit forbidding. Important stuff, but a
lot of them seemed technically difficult, and I didn&amp;rsquo;t really see how
I could best contribute. And, jumping to the punch line, the &lt;a href=&#34;https://ropenscilabs.github.io/runconf17-projects/&#34;&gt;outcomes
of the 2 days&#39; work&lt;/a&gt; are pretty awesome, for example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A R package, &lt;a href=&#34;https://github.com/ropenscilabs/available&#34;&gt;available&lt;/a&gt;,
to help name R packages. (Have others used it? Can it be viewed as
offensive?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A book on &lt;a href=&#34;https://github.com/ropenscilabs/r-security-practices&#34;&gt;best security practices for R package
developers&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A &lt;a href=&#34;https://github.com/ropenscilabs/gramr&#34;&gt;grammar checker&lt;/a&gt; for R
Markdown documents, &amp;ldquo;Write good and do good stuff.&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ropenscilabs/testrmd&#34;&gt;testrmd&lt;/a&gt;, a package for
including tests in R Markdown documents.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Awesome stuff, and that&amp;rsquo;s &lt;a href=&#34;https://ropenscilabs.github.io/runconf17-projects/&#34;&gt;4 of
20&lt;/a&gt;. But you know,
I don&amp;rsquo;t think I&amp;rsquo;m particularly good at any of those things. And for
that reason, I was super excited when &lt;a href=&#34;https://github.com/daroczig&#34;&gt;Gergely
Daróczi&lt;/a&gt; posted the idea that we make an
R package through which we can interact with the game Minecraft.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve played a lot of Minecraft with my kids. And there&amp;rsquo;s a big
community of folks writing &amp;ldquo;mods&amp;rdquo; for the game, but to do that, you
need to write Java. And, well, I really don&amp;rsquo;t like Java. So I was
excited, a few years ago, to see the book &lt;a href=&#34;https://www.amazon.com/gp/product/1593276702?ie=UTF8&amp;amp;tag=7210-20&#34;&gt;Learning to program with
Minecraft&lt;/a&gt;,
which uses a &lt;a href=&#34;https://github.com/py3minepi/py3minepi&#34;&gt;python module&lt;/a&gt;
that allows you to interact with the game.&lt;/p&gt;
&lt;p&gt;The book is a very nice and thorough introduction to
programming, using Minecraft as all of the examples and exercises.
Really, it&amp;rsquo;s the best book on programming for kids that I&amp;rsquo;ve seen,
&lt;em&gt;because&lt;/em&gt; it is so full of challenging but do-able and above all
&lt;em&gt;interesting&lt;/em&gt; exercises. Good exercises are really the key to learning
programming, and Minecraft provides a lot of really great
and varied challenges.&lt;/p&gt;
&lt;p&gt;Our team of six (me, &lt;a href=&#34;https://github.com/daroczig&#34;&gt;Gergely Daróczi&lt;/a&gt;,
&lt;a href=&#34;https://github.com/geanders&#34;&gt;Brooke Anderson&lt;/a&gt;, &lt;a href=&#34;https://github.com/revodavid&#34;&gt;David
Smith&lt;/a&gt;, &lt;a href=&#34;https://github.com/inchiosa&#34;&gt;Mario
Inchiosa&lt;/a&gt;, and &lt;a href=&#34;https://github.com/akzaidi&#34;&gt;Adi
Zaidi&lt;/a&gt;) set out to replicate the features
of the python module as an R package. There are basically just eight
functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;set a particular type of block somewhere&lt;/li&gt;
&lt;li&gt;figure out what type of block is at some spot&lt;/li&gt;
&lt;li&gt;figure out where a player is&lt;/li&gt;
&lt;li&gt;move a player somewhere&lt;/li&gt;
&lt;li&gt;figure out where a player is pointing&lt;/li&gt;
&lt;li&gt;check whether anyone has hit something with a sword&lt;/li&gt;
&lt;li&gt;post a message to chat&lt;/li&gt;
&lt;li&gt;read the chat messages&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We had our basic working package,
&lt;a href=&#34;https://github.com/kbroman/miner&#34;&gt;miner&lt;/a&gt;, by lunchtime on the
first day and spent the next day and a half playing with it and
Minecraft.&lt;/p&gt;
&lt;p&gt;Just eight basic functions, but we did a ton of awesome things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A robot number-guessing game&lt;/li&gt;
&lt;li&gt;Automatic creation of mazes that players can walk through (or be moved
through automatically)&lt;/li&gt;
&lt;li&gt;Replicate a photograph, or the R logo, within Minecraft using
different types of blocks&lt;/li&gt;
&lt;li&gt;Give a player Elsa (from the movie Frozen) powers, like walking on
water and having it turn to ice, or creating random-sized columns of
ice by hitting things&lt;/li&gt;
&lt;li&gt;Write letters on the side of a mountain&lt;/li&gt;
&lt;li&gt;Draw a full ggplot2-like scatterplot in the sky&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Check out &lt;a href=&#34;https://github.com/kbroman/miner/blob/master/README.md&#34;&gt;the ReadMe file for our
package&lt;/a&gt;
to see a bunch of pictures and gifs.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll write about some of these things in the (hopefully near) future,
because I learned some cool stuff, and it was was really fun.&lt;/p&gt;
&lt;p&gt;Just after lunch on day 2, I realized that we could use the chat
feature in Minecraft to &lt;em&gt;execute R code from within Minecraft&lt;/em&gt;, using
&lt;code&gt;parse&lt;/code&gt; and &lt;code&gt;eval&lt;/code&gt;. And it totally worked. So I could generate my
ggplot2-style scatterplot entirely within Minecraft. (The key
advantage of this, other than just being cool, is not having to keep
switching back and forth between R and Minecraft.)&lt;/p&gt;
&lt;p&gt;Watch me type a bit of R and get my scatterplot going:&lt;/p&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/zggCAYAfjXE&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;What next? We&amp;rsquo;re thinking we&amp;rsquo;ll compile the many vignettes we
developed into a &lt;a href=&#34;https://bookdown.org/yihui/bookdown/&#34;&gt;bookdown
book&lt;/a&gt;. Stay tuned.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>miniCRAN</title>
      <link>/2017/05/23/minicran/</link>
      <pubDate>Tue, 23 May 2017 23:42:00 -0500</pubDate>
      
      <guid>/2017/05/23/minicran/</guid>
      <description>


&lt;p&gt;Next month, I’m teaching a workshop on &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; and
&lt;a href=&#34;https://kbroman.org/qtl2&#34;&gt;R/qtl2&lt;/a&gt; at the
&lt;a href=&#34;http://www.complextrait.org/ctc2017&#34;&gt;joint Complex Trait Community and Rat Genomics Community meeting
(CTC-RG2017)&lt;/a&gt; meeting in Memphis.&lt;/p&gt;
&lt;p&gt;I was chatting with &lt;a href=&#34;http://www.senresearch.org/&#34;&gt;Śaunak Sen&lt;/a&gt;
about preparations: the main problem is installation of R/qtl2, which
is split into multiple R packages, and I’ve not yet placed them on
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;. And they’re a bit of a pain to
install from GitHub (people need the proper development tools, and
compilation of the C++ code is painfully slow).&lt;/p&gt;
&lt;p&gt;Should we have participants work on a server?
Should we set up &lt;a href=&#34;https://rstudio.com&#34;&gt;RStudio&lt;/a&gt; in
&lt;a href=&#34;https://www.docker.com/&#34;&gt;Docker&lt;/a&gt; containers on &lt;a href=&#34;https://www.digitalocean.com&#34;&gt;Digital
Ocean&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;Śaunak said, “What we need is a mini-CRAN.” A google search
brought us to the package
&lt;a href=&#34;https://cran.r-project.org/package=miniCRAN&#34;&gt;miniCRAN&lt;/a&gt;
from &lt;a href=&#34;https://blog.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;,
which looks to be the perfect solution.&lt;/p&gt;
&lt;p&gt;As it turns out, to make your own
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt; you “just” need to put all of the
requisite packages (source plus windows and mac binaries) into a
specific directory structure, with each directory having special
files (&lt;code&gt;PACKAGE&lt;/code&gt;, &lt;code&gt;PACKAGE.gz&lt;/code&gt;, and &lt;code&gt;PACKAGE.rds&lt;/code&gt;) that describe the
contents.&lt;/p&gt;
&lt;p&gt;The main trick is ensuring that you have all of the required
dependencies, and that’s where
&lt;a href=&#34;https://cran.r-project.org/package=miniCRAN&#34;&gt;miniCRAN&lt;/a&gt; is especially
helpful.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://cran.r-project.org/package=miniCRAN&#34;&gt;miniCRAN&lt;/a&gt; has several
useful vignettes, plus a nice &lt;a href=&#34;https://blog.revolutionanalytics.com/2014/10/introducing-minicran.html&#34;&gt;blog
post&lt;/a&gt;
that explains the goal and basic use.&lt;/p&gt;
&lt;p&gt;After installing miniCRAN, the first thing was to define the set of
packages that my &lt;a href=&#34;https://kbroman.org/qtl2&#34;&gt;R/qtl2&lt;/a&gt; packages depend on,
and then use &lt;code&gt;miniCRAN::pkgDep&lt;/code&gt; to find all of the packages that those
depend on.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(miniCRAN)
repo &amp;lt;- &amp;quot;https://cran.rstudio.com&amp;quot;
pkgs &amp;lt;- c(&amp;quot;Rcpp&amp;quot;, &amp;quot;RcppEigen&amp;quot;, &amp;quot;yaml&amp;quot;, &amp;quot;jsonlite&amp;quot;, &amp;quot;data.table&amp;quot;,
          &amp;quot;knitr&amp;quot;, &amp;quot;rmarkdown&amp;quot;, &amp;quot;qtl&amp;quot;, &amp;quot;qtlcharts&amp;quot;)
pkgList &amp;lt;- pkgDep(pkgs, repos=repo, type=&amp;quot;source&amp;quot;, suggests=FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here &lt;code&gt;pkgs&lt;/code&gt; is a vector containing the main packages that we’ll need
(other than the R/qtl2 packages), and &lt;code&gt;pkgList&lt;/code&gt; is a longer vector
that includes all packages that &lt;em&gt;they&lt;/em&gt; depend on.&lt;/p&gt;
&lt;p&gt;We then use &lt;code&gt;miniCRAN::makeRepo&lt;/code&gt; to download all of those packages and
place them in the required directory structure, with the main
directory being &lt;code&gt;qtl2cran&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;makeRepo(pkgList, path=&amp;quot;qtl2cran&amp;quot;, repos=repo,
         type=c(&amp;quot;source&amp;quot;, &amp;quot;win.binary&amp;quot;, &amp;quot;mac.binary.el-capitan&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The only issue here is that the version of miniCRAN on CRAN doesn’t
handle &lt;code&gt;mac.binary.el-capitan&lt;/code&gt; properly, nor does the &lt;a href=&#34;https://github.com/revolutionAnalytics/miniCRAN&#34;&gt;version on
GitHub&lt;/a&gt;. But there’s
a &lt;a href=&#34;https://github.com/RevolutionAnalytics/miniCRAN/pull/84&#34;&gt;pull
request&lt;/a&gt; from
&lt;a href=&#34;https://github.com/vnijs&#34;&gt;Vincent Nijs&lt;/a&gt; that fixes that, so I used
&lt;code&gt;devtools::install_github(&#34;vnijs/miniCRAN&#34;)&lt;/code&gt; to use his version.&lt;/p&gt;
&lt;p&gt;I then needed to add my &lt;a href=&#34;https://kbroman.org/qtl2&#34;&gt;R/qtl2&lt;/a&gt; packages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;source &lt;code&gt;.tar.gz&lt;/code&gt; files in &lt;code&gt;qtl2cran/src/contrib&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows &lt;code&gt;.zip&lt;/code&gt; files in &lt;code&gt;qtl2cran/bin/windows/contrib/3.4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Mac &lt;code&gt;.tgz&lt;/code&gt; files in &lt;code&gt;qtl2cran/bin/macosx/el-capitan/contrib/3.4&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’m working on a Mac (with OS X Sierra) so I could create the Mac
binaries by installing the packages, going to the package directory,
and using for example&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tar czvf qtl2geno_0.5-21.tgz qtl2geno&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the windows binaries, I untarred the source files on my &lt;a href=&#34;https://twitter.com/kwbroman/status/540250068360916994&#34;&gt;windows
laptop&lt;/a&gt; and
used, for example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;R CMD INSTALL --build qtl2geno&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This makes the &lt;code&gt;qtl2geno_0.5-21.zip&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;The last step is to create those &lt;code&gt;PACKAGE*&lt;/code&gt; files. A bit of poking
around in the &lt;a href=&#34;https://github.com/RevolutionAnalytics/miniCRAN&#34;&gt;miniCRAN
source&lt;/a&gt; pointed me to
&lt;code&gt;tools::write_PACKAGES()&lt;/code&gt;, and so I used:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tools)
write_PACKAGES(&amp;quot;qtl2cran/src/contrib&amp;quot;, type=&amp;quot;source&amp;quot;)
write_PACKAGES(&amp;quot;qtl2cran/bin/windows/contrib/3.4&amp;quot;, type=&amp;quot;win.binary&amp;quot;)
write_PACKAGES(&amp;quot;qtl2cran/bin/macosx/el-capitan/contrib/3.4&amp;quot;,
               type=&amp;quot;mac.binary&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I then put them on my website at UW-Madison plus at
&lt;a href=&#34;https://rqtl.org&#34;&gt;rqtl.org&lt;/a&gt;, so now people can install
&lt;a href=&#34;https://kbroman.org&#34;&gt;R/qtl2&lt;/a&gt; using either&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(paste0(&amp;quot;qtl2&amp;quot;, c(&amp;quot;geno&amp;quot;, &amp;quot;scan&amp;quot;, &amp;quot;plot&amp;quot;, &amp;quot;convert&amp;quot;)),
                 repos=&amp;quot;https://rqtl.org/qtl2cran&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;install.packages(paste0(&amp;quot;qtl2&amp;quot;, c(&amp;quot;geno&amp;quot;, &amp;quot;scan&amp;quot;, &amp;quot;plot&amp;quot;, &amp;quot;convert&amp;quot;)),
                 repos=&amp;quot;https://www.biostat.wisc.edu/~kbroman/qtl2cran&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We just need to make sure that everyone has R version 3.4.0. And the
Mac users will need a relatively recent version of Mac OS X (El Capitan
or Sierra).&lt;/p&gt;
&lt;p&gt;Long term, I need to get my packages on the proper
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;, but I really don’t want to have to
deal with that in the next three weeks, and so I’m glad for
&lt;a href=&#34;https://cran.r-project.org/package=miniCRAN&#34;&gt;miniCRAN&lt;/a&gt;, as it helped
me towards this short-term solution.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>reading/writing biggish data, revisited</title>
      <link>/2017/05/11/reading/writing-biggish-data-revisited/</link>
      <pubDate>Thu, 11 May 2017 23:50:00 -0500</pubDate>
      
      <guid>/2017/05/11/reading/writing-biggish-data-revisited/</guid>
      <description>


&lt;p&gt;&lt;a href=&#34;https://twitter.com/mattdowle?lang=en&#34;&gt;Matt Dowle&lt;/a&gt; encouraged me to
follow up on my &lt;a href=&#34;./2017/04/30/sqlite-feather-and-fst/&#34;&gt;post about sqlite, feather, and
fst&lt;/a&gt;. One thing to emphasize is
that &lt;code&gt;saveRDS&lt;/code&gt;, by default, uses compression. If you use
&lt;code&gt;compress=FALSE&lt;/code&gt; you can skip that and it goes &lt;em&gt;much&lt;/em&gt; faster. See, for
example, &lt;a href=&#34;https://blog.h2o.ai/2016/04/fast-csv-writing-for-r/&#34;&gt;his post on “Fast csv writing for
R”&lt;/a&gt;. Also see his
&lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki/talks/BARUG_201704_ParallelFread.pdf&#34;&gt;slides from a recent presentation on parallel
fread&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I’ll first generate the same data that I was using before. And note,
as &lt;a href=&#34;https://twitter.com/shabbychef&#34;&gt;@shabbychef&lt;/a&gt; &lt;a href=&#34;https://twitter.com/shabbychef/status/858892435820130304&#34;&gt;mentioned on
twitter&lt;/a&gt;, my
iid simulations mean that compression isn’t likely to be useful, &lt;a href=&#34;./2017/04/30/sqlite-feather-and-fst/&#34;&gt;as
we saw in my previous
post&lt;/a&gt;.
So don’t assume that these results apply generally; compression is
useful much of the time.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n_ind &amp;lt;- 500
n_snps &amp;lt;- 1e5
ind_names &amp;lt;- paste0(&amp;quot;ind&amp;quot;, 1:n_ind)
snp_names &amp;lt;- paste0(&amp;quot;snp&amp;quot;, 1:n_snps)
sigX &amp;lt;- matrix(rnorm(n_ind*n_snps), nrow=n_ind)
sigY &amp;lt;- matrix(rnorm(n_ind*n_snps), nrow=n_ind)
dimnames(sigX) &amp;lt;- list(ind_names, paste0(snp_names, &amp;quot;.X&amp;quot;))
dimnames(sigY) &amp;lt;- list(ind_names, paste0(snp_names, &amp;quot;.Y&amp;quot;))
db &amp;lt;- cbind(data.frame(id=ind_names, stringsAsFactors=FALSE),
            sigX, sigY)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, let’s look at the time to write an RDS file, when compressed and
when not. I’m again going to cache my results and just tell you
what happened.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rds_file &amp;lt;- &amp;quot;db.rds&amp;quot;
saveRDS(db, rds_file, compress=FALSE)
rds_comp_file &amp;lt;- &amp;quot;db_comp.rds&amp;quot;
saveRDS(db, rds_comp_file)
db_copy1 &amp;lt;- readRDS(rds_file)
db_copy2 &amp;lt;- readRDS(rds_comp_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Writing the data to an RDS file took
5.5 sec when uncompressed and
51.4 sec when compressed.
Reading them back in took 2.4
sec for the uncompressed file and
11.0 sec for the compressed
file. The uncompressed RDS file was 805 MB, while the
compressed one was 769 MB.&lt;/p&gt;
&lt;p&gt;So, &lt;em&gt;holy crap&lt;/em&gt; reading and writing the RDS files is fast when you use
&lt;code&gt;compress=FALSE&lt;/code&gt;. Don’t tell your system administrator I said this,
but if you’re working on a server with loads of disk space, for sure
go with &lt;code&gt;compress=FALSE&lt;/code&gt; with your RDS files. On your laptop where
uncompressed RDS files might get in the way of your music and movie
libraries, you might want to use the compression.&lt;/p&gt;
&lt;div id=&#34;how-about-csv&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How about CSV?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; suggested that I
might just use a plain CSV file, since &lt;code&gt;data.table::fread&lt;/code&gt; and
&lt;code&gt;data.table::fwrite&lt;/code&gt; are so fast. How fast?&lt;/p&gt;
&lt;p&gt;To make use of the multi-threaded version of
&lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki&#34;&gt;data.table&lt;/a&gt;’s &lt;code&gt;fread&lt;/code&gt;,
I need version 1.10.5 which is &lt;a href=&#34;https://github.com/rdatatable/data.table&#34;&gt;on
GitHub&lt;/a&gt;. The version on
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;
(&lt;a href=&#34;https://cran.r-project.org/package=data.table&#34;&gt;1.10.4&lt;/a&gt;) has
multi-threaded &lt;code&gt;fwrite&lt;/code&gt; but only single-threaded &lt;code&gt;fread&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But the GitHub version needs to be compiled with OpenMP, and after a
lot of screwing around to do that, I ended up getting segfaults from
&lt;code&gt;fwrite&lt;/code&gt;, so I just dumped this plan.&lt;/p&gt;
&lt;p&gt;So we’ll look at multi-threaded &lt;code&gt;fwrite&lt;/code&gt; but only single-threaded
&lt;code&gt;fread&lt;/code&gt;. But we can all look forward to the multi-threaded &lt;code&gt;fread&lt;/code&gt; in
the near future.&lt;/p&gt;
&lt;p&gt;For &lt;code&gt;fwrite&lt;/code&gt;, the number of threads is controlled by the argument
&lt;code&gt;nThread&lt;/code&gt;. The default is to call &lt;code&gt;data.table::getDTthreads()&lt;/code&gt; which
detects the maximum number of cores. On my Mac desktop at work, that’s
24. I’m going to hard-code it in.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;csv_file &amp;lt;- &amp;quot;db.csv&amp;quot;
library(data.table)
fwrite(db, csv_file, quote=FALSE)
db_copy3 &amp;lt;- data.table::fread(csv_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took 41.6 sec to write and
55.0 sec to read, and the file size is
1818 MB.&lt;/p&gt;
&lt;p&gt;How about if I set &lt;code&gt;nThread=1&lt;/code&gt; with &lt;code&gt;fwrite&lt;/code&gt;?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fwrite(db, csv_file, quote=FALSE, nThread=1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Single-threaded, &lt;code&gt;fwrite&lt;/code&gt; took 69.1 sec.&lt;/p&gt;
&lt;p&gt;But the data set is 500 rows by 200k columns. How about if I used the transpose?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;t_db &amp;lt;- cbind(data.frame(snp=rep(snp_names, 2),
                         signal=rep(c(&amp;quot;X&amp;quot;, &amp;quot;Y&amp;quot;), each=n_snps),
                         stringsAsFactors=FALSE),
              rbind(t(sigX), t(sigY)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now to write and read this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;csv_t_file &amp;lt;- &amp;quot;db_t.csv&amp;quot;
fwrite(t_db, csv_t_file, quote=FALSE, nThread=24)
t_db_copy &amp;lt;- fread(csv_t_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took 8.3 sec to write and
26.6 sec to read, and the file size is
1818 MB.&lt;/p&gt;
&lt;p&gt;And how about if I do &lt;code&gt;fwrite&lt;/code&gt; single-threaded?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fwrite(t_db, csv_t_file, quote=FALSE, nThread=1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Single-threaded, the transposed data took
30.2 sec to write.&lt;/p&gt;
&lt;p&gt;(I’m not even going to try &lt;code&gt;read.csv&lt;/code&gt; and &lt;code&gt;write.csv&lt;/code&gt;.
I’ll leave that to the reader.)&lt;/p&gt;
&lt;p&gt;Here’s a summary of the times:&lt;/p&gt;
&lt;style type=&#34;text/css&#34;&gt;.table { width: 100%; }&lt;/style&gt;
&lt;!-- html table generated in R 4.0.3 by xtable 1.8-4 package --&gt;
&lt;!-- Mon Dec 14 12:56:34 2020 --&gt;
&lt;table border=&#34;0&#34; width=&#34;100%&#34;&gt;
&lt;tr&gt;
&lt;th&gt;
function
&lt;/th&gt;
&lt;th&gt;
method
&lt;/th&gt;
&lt;th&gt;
data size
&lt;/th&gt;
&lt;th&gt;
time (s)
&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
saveRDS
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
not compressed
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
5.5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
saveRDS
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
compressed
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
51.4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fwrite
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
24 threads
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
41.6
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fwrite
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
1 thread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
69.1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fwrite
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
24 threads
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
200k × 500
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
8.3
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fwrite
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
1 thread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
200k × 500
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
30.2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
readRDS
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
not compressed
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
2.4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
readRDS
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
compressed
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
200k × 500
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
11.0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
1 thread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
500 × 200k
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
55.0
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;
fread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
1 thread
&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;
200k × 500
&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;
26.6
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;For sure, &lt;code&gt;fread&lt;/code&gt; and &lt;code&gt;fwrite&lt;/code&gt; are impressive. And I’d never have
thought you could get advantage from parallel reads and writes.&lt;/p&gt;
&lt;p&gt;I’m going to stick with RDS (making use of &lt;code&gt;compress=FALSE&lt;/code&gt; when
I don’t care much about disk space) when I want to read/write whole
files from R. And I’ll go with SQLite, feather, or fst when I want
super fast access to a single row or column. But I also do a lot of reading
and writing of CSV files, and I’ve enjoyed &lt;code&gt;data.table::fread&lt;/code&gt;
and will now be using &lt;code&gt;data.table::fwrite&lt;/code&gt;, too.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>updating d3panels and R/qtlcharts for D3 version 4</title>
      <link>/2017/05/11/updating-d3panels-and-r/qtlcharts-for-d3-version-4/</link>
      <pubDate>Thu, 11 May 2017 16:22:00 -0500</pubDate>
      
      <guid>/2017/05/11/updating-d3panels-and-r/qtlcharts-for-d3-version-4/</guid>
      <description>


&lt;p&gt;I just spent some time updating my
&lt;a href=&#34;https://kbroman.org/d3panels&#34;&gt;d3panels&lt;/a&gt; library and
&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt; package for
&lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; &lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md&#34;&gt;version
4&lt;/a&gt;. It took just about a
day, and the majority of the time was spent puzzling over
&lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md#forces-d3-force&#34;&gt;d3-force&lt;/a&gt;
and
&lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md#brushes-d3-brush&#34;&gt;d3-brush&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;(Note that I just barely know what I’m doing, by which I mean I &lt;em&gt;don’t&lt;/em&gt;
know what I’m doing. I’m able to get things to work, but I don’t
always know why.)&lt;/p&gt;
&lt;p&gt;I was very glad that I’d written a bunch of tests, because I could use
those to figure out what was working and what was not working, and
whether my changes were effective. &lt;em&gt;Tests, test, tests.&lt;/em&gt; There’s
nothing better than tests for this sort of refactoring business.&lt;/p&gt;
&lt;p&gt;I like the changes in D3 version 4, but trying to figure them out
feels a bit like being back in 2012, when I was first trying to
understand D3: I’ve not found many tutorials that explain how to use
the new version, so I mostly focused on reading the &lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md&#34;&gt;API
documentation&lt;/a&gt;, which
isn’t easy for me to understand, or to walk through the code for some
of [Michael Bostock]’s &lt;a href=&#34;https://bl.ocks.org/mbostock&#34;&gt;examples&lt;/a&gt;. There
are loads of books and tutorials on D3, but they’re almost all still
talking about D3 version 3. (This will change shortly. For example,
the 2nd edition of &lt;a href=&#34;https://alignedleft.com/&#34;&gt;Scott Murray&lt;/a&gt;’s
excellent &lt;a href=&#34;https://shop.oreilly.com/product/0636920037316.do&#34;&gt;Interactive Data Visualization for the
Web&lt;/a&gt; is at the
printer, and covers D3 version 4.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/ireneros&#34;&gt;Irene Ros&lt;/a&gt;’s &lt;a href=&#34;https://iros.github.io/d3-v4-whats-new/#1&#34;&gt;slides on what’s new in D3
V4&lt;/a&gt; were super helpful.
(Also I just saw &lt;a href=&#34;https://www.puzzlr.org/sample-page/&#34;&gt;Tom Roth&lt;/a&gt;’s
nice &lt;a href=&#34;https://www.puzzlr.org/force-graphs-with-d3/&#34;&gt;tutorial on
d3-force&lt;/a&gt;, linked on the
&lt;a href=&#34;https://github.com/d3/d3/wiki/Tutorials&#34;&gt;D3 tutorials page&lt;/a&gt;; duh.)&lt;/p&gt;
&lt;p&gt;My D3 code isn’t particularly fancy. (And note that I’m still writing
in &lt;a href=&#34;https://coffeescript.org&#34;&gt;CoffeeScript&lt;/a&gt;; I toyed with the idea of
switching to &lt;a href=&#34;https://www.ecma-international.org/ecma-262/6.0/&#34;&gt;ES6&lt;/a&gt;,
particularly because we can now use &lt;code&gt;(d) =&amp;gt; d.x&lt;/code&gt;.
But I love CoffeeScript and don’t want to lose list comprehensions,
and actually my favorite thing is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;some_option = chartOpts?.some_option ? the_default&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I do fight with the indentation at times, but I’ve grown accustomed to
it.&lt;/p&gt;
&lt;p&gt;Anyway, back to the point of this: what did I have to change to get
&lt;a href=&#34;https://kbroman.org/d3panels&#34;&gt;d3panels&lt;/a&gt; and
&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt; to work with D3 version
4?&lt;/p&gt;
&lt;div id=&#34;simple-replacements&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Simple replacements&lt;/h2&gt;
&lt;p&gt;The bulk of the changes were simple replacements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d3.scale.linear()&lt;/code&gt; → &lt;code&gt;d3.scaleLinear()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d3.svg.line()&lt;/code&gt; → &lt;code&gt;d3.line()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d3.scale.category20().range()&lt;/code&gt; → &lt;code&gt;d3.schemeCategory20&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d3.random.normal(10,3)&lt;/code&gt; → &lt;code&gt;d3.randomNormal(10,3)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Slightly more tricky:
&lt;code&gt;d3.scale.ordinal().rangeBands([0,w],0,0)&lt;/code&gt; became
&lt;code&gt;d3.scaleBand().range([0,w])&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Also, I had written (well, borrowed from somewhere) methods
&lt;code&gt;.moveToFront()&lt;/code&gt; and &lt;code&gt;.moveToBack()&lt;/code&gt;, which I can omit as D3 version 4
has &lt;code&gt;.raise()&lt;/code&gt; and &lt;code&gt;.lower()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So really, the majority of the changes were made by for &lt;code&gt;d3.&lt;/code&gt;,
making some tiny edit, and then seeing if my tests were working.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;d3-force&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md#forces-d3-force&#34;&gt;d3-force&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;My D3 code is rather primitive. I’m basically just drawing and then
adding some &lt;code&gt;.on(&#34;mouseover&#34;, something)&lt;/code&gt; or &lt;code&gt;.on(&#34;click&#34;, something_else)&lt;/code&gt; for interactivity.&lt;/p&gt;
&lt;p&gt;But force-directed graphics are pretty awesome, particularly for
&lt;a href=&#34;https://www.cbs.dtu.dk/~eklund/beeswarm/&#34;&gt;beeswarm&lt;/a&gt;-type plots, so I
did make use of &lt;code&gt;d3.layout.force&lt;/code&gt; in two places.&lt;/p&gt;
&lt;p&gt;But I didn’t really know what I was doing before, and that made the
change to &lt;code&gt;d3.forceSimulation&lt;/code&gt; a bit more puzzling. My &lt;a href=&#34;https://github.com/kbroman/d3panels/blob/1.1.4/src/dotchart.coffee#L181-L246&#34;&gt;code
implementing a beeswarm-type dot
chart&lt;/a&gt;
is really ugly and so not worth looking at or discussing. The &lt;a href=&#34;https://github.com/kbroman/d3panels/blob/master/src/dotchart.coffee#L181-L201&#34;&gt;new
version&lt;/a&gt;
is just 21 lines (vs 65 lines before), and way easier to read.&lt;/p&gt;
&lt;p&gt;For
&lt;a href=&#34;https://kbroman.org/d3panels/assets/test/dotchart/&#34;&gt;&lt;code&gt;d3panels.dotchart&lt;/code&gt;&lt;/a&gt;,
the main bit looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;d3.range(scaledPoints.length).map( (i) -&amp;gt;
    scaledPoints[i].fy = scaledPoints[i].y)

force = d3.forceSimulation(scaledPoints)
      .force(&amp;quot;x&amp;quot;, d3.forceX((d) -&amp;gt; d.x))
      .force(&amp;quot;collide&amp;quot;, d3.forceCollide(pointsize*1.1))
      .on(&amp;quot;tick&amp;quot;, ticked)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have a data set &lt;code&gt;scaledPoints&lt;/code&gt; which is an array of objects with &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; values for
point locations. I add &lt;code&gt;.fy&lt;/code&gt; to each element of the array, to prevent the
&lt;code&gt;y&lt;/code&gt; values from being changed. (This is a beeswarm-type chart
where the x-axis is a category, and I want those values to be
dynamically adjusted using &lt;em&gt;the force&lt;/em&gt;, but the y-axis is the
quantitative value, and I don’t want those values to change.)&lt;/p&gt;
&lt;p&gt;Next I use &lt;code&gt;d3.forceSimulation&lt;/code&gt;, pass in my data, and then add a force
that makes the points want to go towards their x value another another
force that makes them not collide with each other.&lt;/p&gt;
&lt;p&gt;Finally, I have the &lt;code&gt;ticked&lt;/code&gt; function that does the updating of the
point locations.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ticked = () -&amp;gt;
    points.attr(&amp;quot;cx&amp;quot;, (d) -&amp;gt; d.x)
          .attr(&amp;quot;cy&amp;quot;, (d) -&amp;gt; d.y)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And that’s that. There’s a bit more code since I want the option of
having the opposite orientation, with the categories on the y-axis and
the quantitative values on the x-axis, but really it’s just those 9
lines of code plus a couple of blank lines.&lt;/p&gt;
&lt;p&gt;It was hard work figuring them out, but only because I was spending
too much time hacking away without understanding, rather than trying
to come to some understanding before doing any hacking.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;d3-brush&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;a href=&#34;https://github.com/d3/d3/blob/master/API.md#brushes-d3-brush&#34;&gt;d3-brush&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The last major thing I had to figure out was d3-brush. I’ve not
implemented any actual brushing in either
&lt;a href=&#34;https://kbroman.org/d3panels&#34;&gt;d3panels&lt;/a&gt; or
&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt;, but I did use
&lt;code&gt;d3.svg.brush&lt;/code&gt; in one my tests of
&lt;a href=&#34;https://kbroman.org/d3panels/assets/test/scatterplot/&#34;&gt;&lt;code&gt;d3panels.scatterplot&lt;/code&gt;&lt;/a&gt;,
to show that it could be done.&lt;/p&gt;
&lt;p&gt;In my &lt;a href=&#34;https://github.com/kbroman/d3panels/blob/1.1.4/test/scatterplot/test_scatterplot.coffee#L66-L99&#34;&gt;original brush
code&lt;/a&gt;,
which was applied for a matrix of three scatterplots, I was creating a
separate brush for each of the three scatterplots. And with the old
&lt;code&gt;d3.svg.brush()&lt;/code&gt;, you’d pass x- and y-axis scales with &lt;code&gt;.x()&lt;/code&gt; and
&lt;code&gt;.y()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You don’t pass scales to the new &lt;code&gt;d3.brush()&lt;/code&gt;. Instead, you use
&lt;code&gt;d3.event.selection&lt;/code&gt; to grab the current selection in screen
coordinates and then have to convert them back to plot coordinates
with your scales’ inverses.&lt;/p&gt;
&lt;p&gt;But I revised my code to what I thought should be working, and which
was actually working for the first of the three scatterplots, but I
got cryptic errors if I tried to brush the other two scatterplots.
And so finally, in the &lt;a href=&#34;https://github.com/kbroman/d3panels/blob/master/test/scatterplot/test_scatterplot.coffee#L66-L102&#34;&gt;revised
code&lt;/a&gt;,
I decided to use a single brush that was applied across the three
scatterplots. (It seems that you &lt;a href=&#34;https://bl.ocks.org/ludwigschubert/0236fa8594c4b02711b2606a8f95f605&#34;&gt;can implement multiple
brushes&lt;/a&gt;,
but it’s complicated.) The single-brush solution is perfectly fine for
my test case, and actually it’s maybe easier to understand.&lt;/p&gt;
&lt;p&gt;So the conversion from &lt;code&gt;d3.svg.brush&lt;/code&gt; to &lt;code&gt;d3.brush&lt;/code&gt; was really pretty
easy. I needed to abandon the multiple brushes, and then the
back-calculation from screen coordinates to plot coordinates is
slightly tedious but not a big deal.&lt;/p&gt;
&lt;p&gt;So that was the last thing, and I now have both &lt;a href=&#34;https://kbroman.org/d3panels&#34;&gt;d3panels&lt;/a&gt; and
&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt; working for
&lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; version 4.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;whats-the-point&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;What’s the point?&lt;/h2&gt;
&lt;p&gt;The point of all this is that I have ideas for further plots I want to
make in &lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt;, such as a tool
for exploring pleiotropy (that is, whether two traits are affected by
a common genetic locus, or instead are each controlled by separate but
closely linked loci). For that thing, I wanted a double-slider, and it
seemed best to implement it using D3 version 4, &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/d3doubleslider/&#34;&gt;which I
did&lt;/a&gt;. But I
want to use my slider with &lt;a href=&#34;https://kbroman.org/d3panels&#34;&gt;d3panels&lt;/a&gt;, and
really I want to incorporate it into
&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt;, so it was clear that I
needed to spend some time refactoring.&lt;/p&gt;
&lt;p&gt;And actually, I was surprised at how easy it was. (I thought it would
be considerably more than a day’s work.)
And I feel like I now kind of understand d3-force and d3-brush, so the
effort involved was definitely worthwhile.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>crayon colors, simplified</title>
      <link>/2017/05/02/crayon-colors-simplified/</link>
      <pubDate>Tue, 02 May 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/05/02/crayon-colors-simplified/</guid>
      <description>


&lt;p&gt;Back in 2014, I’d grabbed the &lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors&#34;&gt;Crayola crayon colors from
Wikipedia&lt;/a&gt;
and made them available as part of my &lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt;
package.&lt;/p&gt;
&lt;p&gt;(I &lt;a href=&#34;https://kbroman.org/blog/2014/05/07/crayon-colors-in-r/&#34;&gt;wrote about it on previously&lt;/a&gt;,
and then
&lt;a href=&#34;https://kbroman.org/blog/2014/05/08/two-more-points-about-crayon-colors/&#34;&gt;again&lt;/a&gt;
and
&lt;a href=&#34;https://kbroman.org/blog/2014/05/09/further-points-on-crayon-colors/&#34;&gt;again&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;But using my package to get the crayon colors can be rather tedious.&lt;/p&gt;
&lt;p&gt;It’s easy to view the available colors.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(broman)
plot_crayons()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;./post/2017-05-02-crayon-colors-simplified_files/figure-html/plot_crayons-1.png&#34; width=&#34;700&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But grabbing a color, say “Purple Mountain’s Majesty”, requires rather
verbose code.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;brocolors(&amp;quot;crayons&amp;quot;)[&amp;quot;Purple Mountain&amp;#39;s Majesty&amp;quot;]
## Purple Mountain&amp;#39;s Majesty 
##                 &amp;quot;#9d81ba&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This morning, it was just too much for me. So I wrote a simpler
function &lt;code&gt;crayons()&lt;/code&gt;, which accepts partial matches, using &lt;code&gt;grep&lt;/code&gt;.
So you can write things like:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;crayons(&amp;quot;purple m&amp;quot;)
## Purple Mountain&amp;#39;s Majesty 
##                 &amp;quot;#9d81ba&amp;quot;
crayons(&amp;quot;tickle&amp;quot;)
## Tickle Me Pink 
##      &amp;quot;#fc89ac&amp;quot;
crayons(c(&amp;quot;purple m&amp;quot;, &amp;quot;tickle&amp;quot;))
## Purple Mountain&amp;#39;s Majesty            Tickle Me Pink 
##                 &amp;quot;#9d81ba&amp;quot;                 &amp;quot;#fc89ac&amp;quot;
crayons(&amp;quot;purple m&amp;quot;, &amp;quot;tickle&amp;quot;)
## Purple Mountain&amp;#39;s Majesty            Tickle Me Pink 
##                 &amp;quot;#9d81ba&amp;quot;                 &amp;quot;#fc89ac&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Why didn’t I think of this before?&lt;/p&gt;
&lt;p&gt;The new version of the package is not yet on
&lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;, but you can install it from
&lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;GitHub&lt;/a&gt; using
&lt;a href=&#34;https://github.com/hadley/devtools&#34;&gt;devtools&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;devtools::install_github(&amp;quot;kbroman/broman&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or you can ignore the rest of the package and just &lt;a href=&#34;https://github.com/kbroman/broman/blob/master/R/brocolors.R&#34;&gt;grab the
code&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>caching blogdown</title>
      <link>/2017/05/01/caching-blogdown/</link>
      <pubDate>Mon, 01 May 2017 00:10:00 -0500</pubDate>
      
      <guid>/2017/05/01/caching-blogdown/</guid>
      <description>


&lt;p&gt;&lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;blogdown&lt;/a&gt; is cool, but it seems
that it builds every &lt;code&gt;.Rmd&lt;/code&gt; file every time you run &lt;code&gt;build_site()&lt;/code&gt;, so
if your site includes an analysis that takes a while…well, every
time you build the site it’s going to take a while.&lt;/p&gt;
&lt;p&gt;I had the mistaken impression that blogdown would look at the
timestamps on the &lt;code&gt;.Rmd&lt;/code&gt; and &lt;code&gt;.html&lt;/code&gt; and only build the &lt;code&gt;.html&lt;/code&gt; if the
&lt;code&gt;.Rmd&lt;/code&gt; file is newer, but that’s not true.&lt;/p&gt;
&lt;p&gt;My &lt;a href=&#34;https://kbroman.org/blog/2017/04/30/sqlite-feather-and-fst/&#34;&gt;post about sqlite, feather, and fst&lt;/a&gt;
is rather slow, because I’m writing and reading rather big files and
measuring access times. So it was looking like building my
&lt;a href=&#34;https://kbroman.org/blog&#34;&gt;new blog&lt;/a&gt; would be really painful, forever
more.&lt;/p&gt;
&lt;p&gt;Thus, I spent a bunch of time reworking the post to cache the times
rather than running things every time the &lt;code&gt;.Rmd&lt;/code&gt; file was built.
&lt;a href=&#34;https://github.com/kbroman/blog/blob/source/content/post/2017-04-30-sqlite-feather-and-fst.Rmd&#34;&gt;It’s not pretty&lt;/a&gt;,
and my method is &lt;em&gt;not&lt;/em&gt; generally recommended, but it seems to work.&lt;/p&gt;
&lt;p&gt;I expect &lt;a href=&#34;https://yihui.name&#34;&gt;Yihui&lt;/a&gt; has a better solution to this.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sqlite, feather, and fst</title>
      <link>/2017/04/30/sqlite-feather-and-fst/</link>
      <pubDate>Sun, 30 Apr 2017 14:07:00 -0500</pubDate>
      
      <guid>/2017/04/30/sqlite-feather-and-fst/</guid>
      <description>


&lt;p&gt;I don’t think I’m unusual among statisticians in having avoided
working directly with databases for much of my career. The data for my
projects have been reasonably small. (In fact, basically all of the
data for my 20 years of projects are on my laptop’s drive.) Flat files
(such as CSV files) were sufficient.&lt;/p&gt;
&lt;p&gt;But I’ve finally entered the modern era of biggish data. (Why do they
call it &lt;em&gt;big&lt;/em&gt; data? That doesn’t leave us much room for gradations of
size. In the 90’s, statisticians talked about &lt;a href=&#34;https://www.nap.edu/read/5505/chapter/1&#34;&gt;&lt;em&gt;massive&lt;/em&gt;
data&lt;/a&gt;.) And particularly for
visualization of large-scale data, I don’t want to load everything in
advance, and I want rapid access to slices of data.&lt;/p&gt;
&lt;p&gt;So I’ve been playing with &lt;a href=&#34;https://www.sqlite.org/&#34;&gt;SQLite&lt;/a&gt; and
&lt;a href=&#34;https://www.mongodb.com/&#34;&gt;MongoDB&lt;/a&gt;, and more recently
&lt;a href=&#34;https://github.com/wesm/feather&#34;&gt;feather&lt;/a&gt; and
&lt;a href=&#34;http://www.fstpackage.org&#34;&gt;fst&lt;/a&gt;. And I thought I’d show a few
examples. I’m interested mostly in quick access, from
&lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;, to small portions of a large file.&lt;/p&gt;
&lt;div id=&#34;data-rds&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;data, rds&lt;/h3&gt;
&lt;p&gt;Let me start by simulating some data. I’m mostly thinking about the
case of 500 100k-SNP arrays. So the data are pairs of intensity
measures for the two alleles at each of 100k SNPs in 500 samples. And
typically I want to grab the 500 pairs of intensities for a given SNP.
I’m going to just simulate IID noise, because for these illustrations
I don’t really care about the contents so much as the storage size and
I/O speed.&lt;/p&gt;
&lt;p&gt;(&lt;em&gt;Note: this stuff takes a long time to run, so the
&lt;a href=&#34;https://github.com/kbroman/blog/blob/source/content/post/2017-04-30-sqlite-feather-and-fst.Rmd&#34;&gt;actual code behind the scenes&lt;/a&gt;
is more complicated, with me having cached the timings and
skipped the actual runs.&lt;/em&gt;)&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;n_ind &amp;lt;- 500
n_snps &amp;lt;- 1e5
ind_names &amp;lt;- paste0(&amp;quot;ind&amp;quot;, 1:n_ind)
snp_names &amp;lt;- paste0(&amp;quot;snp&amp;quot;, 1:n_snps)
sigX &amp;lt;- matrix(rnorm(n_ind*n_snps), nrow=n_ind)
sigY &amp;lt;- matrix(rnorm(n_ind*n_snps), nrow=n_ind)
dimnames(sigX) &amp;lt;- list(ind_names, paste0(snp_names, &amp;quot;.X&amp;quot;))
dimnames(sigY) &amp;lt;- list(ind_names, paste0(snp_names, &amp;quot;.Y&amp;quot;))
db &amp;lt;- cbind(data.frame(id=ind_names, stringsAsFactors=FALSE),
            sigX, sigY)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;My typical approach with data like this is to save it in an RDS file and
just read the whole thing into memory if I want to work with it. But
it’s rather slow to write and read such a big data set.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rds_file &amp;lt;- &amp;quot;db.rds&amp;quot;
saveRDS(db, rds_file)
db_copy &amp;lt;- readRDS(rds_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It was like 49 sec to write the RDS
file, and 7.0 sec to read it. The file
itself is 769 MB.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;sqlite&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;sqlite&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.mongodb.com&#34;&gt;Mongo&lt;/a&gt; is cool, and I think ultimately it
will be useful to me, but &lt;a href=&#34;https://www.sqlite.org/&#34;&gt;SQLite&lt;/a&gt; has the
advantage of being a single file that you can hand to others. And
installation is easy: you just need
&lt;a href=&#34;https://cran.rstudio.com/package=RSQLite/&#34;&gt;&lt;code&gt;install.packages(&#34;RSQLite&#34;)&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;SQLite won’t take more than &lt;a href=&#34;https://sqlite.org/limits.html&#34;&gt;2000
columns&lt;/a&gt; (or maybe 32,767 if you
change a compile-time parameter), so we need to take the transpose of
our data frame.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;t_db &amp;lt;- cbind(data.frame(snp=rep(snp_names, 2),
                         signal=rep(c(&amp;quot;X&amp;quot;, &amp;quot;Y&amp;quot;), each=n_snps),
                         stringsAsFactors=FALSE),
              rbind(t(sigX), t(sigY)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s rearrange it so that the two rows for a given SNP are next to
each other.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;db_rows &amp;lt;- as.numeric(matrix(1:nrow(t_db), byrow=TRUE, nrow=2))
t_db &amp;lt;- t_db[db_rows,]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To write to a SQLite file, we use &lt;code&gt;dbConnect&lt;/code&gt; to create a database
connection, and then &lt;code&gt;dbWriteTable&lt;/code&gt;. We can use &lt;code&gt;dbDisconnect&lt;/code&gt; to
disconnect afterwards, if we’re done.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(RSQLite)
sqlite_file &amp;lt;- &amp;quot;t_db.sqlite&amp;quot;
sqldb &amp;lt;- dbConnect(SQLite(), dbname=sqlite_file)
dbWriteTable(sqldb, &amp;quot;snps&amp;quot;, t_db, row.names=FALSE, overwrite=TRUE,
             append=FALSE, field.types=NULL)
dbDisconnect(sqldb)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The writing took 35 sec, and the
resulting file is 923 MB.&lt;/p&gt;
&lt;p&gt;A key advantage of SQLite is to be able to quickly access a portion of
the data, for example to grab the two rows for a particular SNP. You’d
need to know the SNP names, first, which you can get by grabbing that
column (or &lt;em&gt;field&lt;/em&gt;) with &lt;code&gt;dbGetQuery&lt;/code&gt;. A data frame is returned, so we
select the first column.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sqldb &amp;lt;- dbConnect(SQLite(), dbname=sqlite_file)
snp_names &amp;lt;- dbGetQuery(sqldb, &amp;#39;select snp from snps&amp;#39;)[,1]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can call &lt;code&gt;dbGetQuery&lt;/code&gt; again to get the two rows of data for a given SNP.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_snp &amp;lt;- sample(snp_names, 1)
query &amp;lt;- paste0(&amp;#39;select * from snps where snp == &amp;quot;&amp;#39;, random_snp, &amp;#39;&amp;quot;&amp;#39;)
system.time(z &amp;lt;- dbGetQuery(sqldb, query))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    user  system elapsed 
##   0.353   0.485   0.838&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Such queries are faster if we first add an index on the SNP names.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dbGetQuery(sqldb, &amp;quot;CREATE INDEX snp ON snps(snp)&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The file is basically the same size,
926 MB, and queries
are now all but instantaneous.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_snp &amp;lt;- sample(snp_names, 1)
query &amp;lt;- paste0(&amp;#39;select * from snps where snp == &amp;quot;&amp;#39;, random_snp, &amp;#39;&amp;quot;&amp;#39;)
system.time(z &amp;lt;- dbGetQuery(sqldb, query))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    user  system elapsed 
##   0.004   0.000   0.004&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;feather&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;feather&lt;/h3&gt;
&lt;p&gt;I’d understood &lt;a href=&#34;https://github.com/wesm/feather&#34;&gt;feather&lt;/a&gt; to be a
quick way of transferring data between python and R; &lt;a href=&#34;https://simecek.github.io/&#34;&gt;Petr
Simacek&lt;/a&gt; convinced me of its more-broad
uses, such as to take the place of a single-table database.&lt;/p&gt;
&lt;p&gt;Writing a feather file is surprisingly fast, and reading it back in is
even faster.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(feather)
feather_file &amp;lt;- &amp;quot;t_db.feather&amp;quot;
write_feather(t_db, feather_file)
t_db_clone &amp;lt;- read_feather(feather_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took about 3 sec to write, and
1.0 sec to read, and the file is
about 803 MB.&lt;/p&gt;
&lt;p&gt;But queries of particular columns or rows are fast, too. So you can
basically use feather like a database.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;db_f &amp;lt;- feather(feather_file)
snp_names &amp;lt;- unlist(db_f[,&amp;quot;snp&amp;quot;])
random_snp &amp;lt;- sample(snp_names, 1)
system.time(z &amp;lt;- db_f[snp_names==random_snp,])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    user  system elapsed 
##   0.381   0.353   0.735&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this particular case, it’s actually quite a bit faster to work with
feather the other way around; that is, in the original format of 500
arrays x 100k SNPs.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;feather_file_2 &amp;lt;- &amp;quot;db.feather&amp;quot;
write_feather(db, feather_file_2)
db_clone &amp;lt;- read_feather(feather_file_2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took about 3 sec to write, and
1.8 sec to read, and the file is
about 815 MB.&lt;/p&gt;
&lt;p&gt;Accessing particular rows is just as easy. First a bit of code to grab
the SNP names by grabbing the column names,
getting rid of the &lt;code&gt;&#34;.X&#34;&lt;/code&gt; or &lt;code&gt;&#34;.Y&#34;&lt;/code&gt; bits at the end, and then taking
the first half.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;db_f_2 &amp;lt;- feather(feather_file_2)
snp_names &amp;lt;- sub(&amp;quot;\\.[XY]$&amp;quot;, &amp;quot;&amp;quot;, colnames(db_f_2))
snp_names &amp;lt;- snp_names[1:(length(snp_names)/2)]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, we grab the data for a random SNP by pasting &lt;code&gt;&#34;.X&#34;&lt;/code&gt; and &lt;code&gt;&#34;.Y&#34;&lt;/code&gt;
back onto the SNP name.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_snp &amp;lt;- sample(snp_names, 1)
system.time(z &amp;lt;- db_f_2[,c(&amp;quot;id&amp;quot;, paste0(random_snp, c(&amp;quot;.X&amp;quot;, &amp;quot;.Y&amp;quot;)))])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    user  system elapsed 
##   0.045   0.000   0.045&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you can also use &lt;a href=&#34;https://github.com/tidyverse/dplyr&#34;&gt;dplyr&lt;/a&gt;
with &lt;a href=&#34;https://github.com/wesm/feather&#34;&gt;feather&lt;/a&gt; as if you’ve got an
in-memory data frame.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;fst&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;fst&lt;/h3&gt;
&lt;p&gt;After &lt;a href=&#34;https://twitter.com/kwbroman/status/855112575373148162&#34;&gt;tweeting about feather&lt;/a&gt;,
&lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; suggested that I
look at the &lt;a href=&#34;http://www.fstpackage.org/&#34;&gt;fst package&lt;/a&gt;. It’s not quite
as slick to take data slices, but it’s potentially faster and you can write a
compressed file to save disk space.&lt;/p&gt;
&lt;p&gt;Like SQLite, it’s best not to have &lt;em&gt;too&lt;/em&gt; many columns, so we’ll work
with the transposed version of the data frame, with SNPs as rows.
Writing and reading are fast.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(fst)
fst_file &amp;lt;- &amp;quot;db.fst&amp;quot;
write.fst(t_db, fst_file)
t_db_clone &amp;lt;- read.fst(fst_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took 3.0 sec to write,
1.1 sec to read, and the file is about
803 MB.&lt;/p&gt;
&lt;p&gt;Writing a compressed file is quite a bit slower. Here at 80%
compression.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;fstcomp_file &amp;lt;- &amp;quot;db_comp.fst&amp;quot;
write.fst(t_db, fstcomp_file, 80)
t_db_clone &amp;lt;- read.fst(fstcomp_file)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That took 6.7 sec to write,
2.7 sec to read, and the file is about
781 MB.&lt;/p&gt;
&lt;p&gt;Doing queries on an &lt;a href=&#34;http://www.fstpackage.org&#34;&gt;fst&lt;/a&gt; file is not quite
as slick as for &lt;a href=&#34;https://github.com/wesm/feather&#34;&gt;feather&lt;/a&gt;, but it’s
fast. The &lt;code&gt;read.fst&lt;/code&gt; function has a &lt;code&gt;columns&lt;/code&gt; argument to grab
particular columns, and &lt;code&gt;from&lt;/code&gt; and &lt;code&gt;to&lt;/code&gt; arguments to grab a slice of
rows.&lt;/p&gt;
&lt;p&gt;We’ll first grab the &lt;code&gt;snp&lt;/code&gt; column to get the SNP names. And let’s just
work with the compressed version of the file. Since &lt;code&gt;read.fst&lt;/code&gt; will
return a one-column data frame, we grab the first column to make it a
vector.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;snp_names &amp;lt;- read.fst(fstcomp_file, &amp;quot;snp&amp;quot;)[,1]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can choose a random SNP, find the corresponding rows, and
then use &lt;code&gt;from&lt;/code&gt; and &lt;code&gt;to&lt;/code&gt; to grab those two rows. You can see it’s
useful to have the the pairs of rows for each SNP be contiguous.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_snp &amp;lt;- sample(snp_names, 1)
wh_rows &amp;lt;- which(random_snp == snp_names)
system.time(z &amp;lt;- read.fst(fstcomp_file, from=wh_rows[1], to=wh_rows[2]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##    user  system elapsed 
##   0.078   0.011   0.089&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;timings&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;timings&lt;/h3&gt;
&lt;p&gt;Let’s use the &lt;a href=&#34;https://cran.r-project.org/package=microbenchmark&#34;&gt;microbenchmark&lt;/a&gt;
package to compare timings for grabbing a random SNP. First a bit of set-up.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_snp &amp;lt;- sample(snp_names, 1)
library(microbenchmark)
sqlite_file &amp;lt;- &amp;quot;t_db.sqlite&amp;quot;
sqldb &amp;lt;- dbConnect(SQLite(), dbname=sqlite_file)
query &amp;lt;- paste0(&amp;#39;select * from snps where snp == &amp;quot;&amp;#39;, random_snp, &amp;#39;&amp;quot;&amp;#39;)
db_f &amp;lt;- feather(feather_file)
db_f_2 &amp;lt;- feather(feather_file_2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now the timings.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;microbenchmark(sqlite=dbGetQuery(sqldb, query),
               feather=db_f[snp_names==random_snp,],
               feather_t=db_f_2[,c(&amp;quot;id&amp;quot;, paste0(random_snp, c(&amp;quot;.X&amp;quot;,&amp;quot;.Y&amp;quot;)))],
               fst={wh_rows &amp;lt;- which(random_snp == snp_names)
                    read.fst(fst_file, from=wh_rows[1], to=wh_rows[2])},
               fstcomp={wh_rows &amp;lt;- which(random_snp == snp_names)
                    read.fst(fstcomp_file, from=wh_rows[1], to=wh_rows[2])},
               times=100)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Unit: milliseconds
##       expr min  lq mean median  uq  max neval   cld
##     sqlite   3   4    4      4   4    4   100 a    
##    feather 618 641  717    660 766 1215   100     e
##  feather_t  43  47   48     48  49   54   100  b   
##        fst  61  63   80     64  65  341   100   c  
##    fstcomp  91  95  117     95  97  691   100    d&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here’s a summary of all of the results:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::kable(results, digits=c(1,1,0,1),
             col.names=c(&amp;quot;write time (s)&amp;quot;, &amp;quot;read time (s)&amp;quot;,
                         &amp;quot;file size (MB)&amp;quot;, &amp;quot;access time (ms)&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;write time (s)&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;read time (s)&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;file size (MB)&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;access time (ms)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;rds&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;49.3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;7.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;769&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;sqlite&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;34.7&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;NA&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;923&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;feather&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;803&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;716.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;feather (tr)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.3&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.8&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;815&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;48.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;fst&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1.1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;803&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;79.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;fst (compr)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;6.7&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2.7&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;781&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;116.7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I don’t think we can draw general conclusions about the relative speed
and file size of the three approaches from these results. And I think
they’re all really useful and interesting.&lt;/p&gt;
&lt;p&gt;But in this particular case, the file compression didn’t really help
with &lt;a href=&#34;http://www.fstpackage.org&#34;&gt;fst&lt;/a&gt; and slowed things down.
When accessing the data,
&lt;a href=&#34;https://github.com/wesm/feather&#34;&gt;feather&lt;/a&gt; was considerably faster
than &lt;a href=&#34;http://www.fstpackage.org&#34;&gt;fst&lt;/a&gt; when the data were organized
with the SNPs as columns, but was considerably slower when the data
were in the opposite orientation. &lt;a href=&#34;https://www.sqlite.org/&#34;&gt;SQLite&lt;/a&gt;
has much faster access times, but with a larger file size that takes
longer to write.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>old posts</title>
      <link>/2017/04/30/old-posts/</link>
      <pubDate>Sun, 30 Apr 2017 10:50:00 -0500</pubDate>
      
      <guid>/2017/04/30/old-posts/</guid>
      <description>


&lt;p&gt;In moving away from my
&lt;a href=&#34;https://kbroman.org/blog/&#34;&gt;old wordpress site&lt;/a&gt;, I thought I’d
look back at some of my old posts there. Here are the most frequently
visited ones.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/10/07/better-looking-latexbeamer-slides/&#34;&gt;Better-looking LaTeX/Beamer slides&lt;/a&gt;,
2013-10-07&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2015/06/22/mongodb-with-d3-js/&#34;&gt;MongoDB with D3.js&lt;/a&gt;,
2015-06-22&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/05/07/crayon-colors-in-r/&#34;&gt;Crayon colors in R&lt;/a&gt;,
2014-05-07&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/02/apply-vs-for/&#34;&gt;&lt;code&gt;apply&lt;/code&gt; vs &lt;code&gt;for&lt;/code&gt;&lt;/a&gt;,
2013-04-02&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/02/thoughts-on-statistical-consulting/&#34;&gt;Thoughts on statistical consulting&lt;/a&gt;,
2013-04-02&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/09/03/notifications-from-r/&#34;&gt;Notifications from R&lt;/a&gt;,
2014-09-03&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/05/25/a-course-in-statistical-programming/&#34;&gt;A course in statistical programming&lt;/a&gt;,
2012-05-25&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/03/21/row-names-in-data-frames-beware-of-1nrow/&#34;&gt;Row names in data frames: beware of &lt;code&gt;1:nrow&lt;/code&gt;&lt;/a&gt;,
2012-03-21&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/02/08/interactive-graphics-with-d3-js/&#34;&gt;Interactive graphics with d3.js&lt;/a&gt;,
2013-02-08&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2016/04/08/i-am-a-data-scientist/&#34;&gt;I am a data scientist&lt;/a&gt;,
2016-04-08&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are a bunch of other things that I’ve written and quite like.
Here’s a long list:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2011/08/17/the-stupidest-r-code-ever/&#34;&gt;The stupidest R code ever&lt;/a&gt;,
2011-04-17&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/04/25/microarrays-suck/&#34;&gt;Microarrays suck&lt;/a&gt;,
2012-04-25&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/10/11/curved-arrows-in-r/&#34;&gt;Curved arrows in R&lt;/a&gt;,
2012-10-11&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;The Hopkins SPH
logo&lt;/a&gt;,
parts &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;1 (2012-11-16)&lt;/a&gt;,
&lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2/&#34;&gt;2 (2012-11-21)&lt;/a&gt;,
and
&lt;a href=&#34;https://kbroman.org/blog/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/&#34;&gt;3 (2013-03-06)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/03/10/towards-making-my-own-papers-reproducible/&#34;&gt;Towards making my own papers reproducible&lt;/a&gt;,
2013-03-10&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/29/methods-before-results/&#34;&gt;Methods before results&lt;/a&gt;,
2013-04-29&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/08/knuth-journal-referees-should-assist-authors/&#34;&gt;Knuth: Journal referees should assist authors&lt;/a&gt;,
2013-04-08&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/05/data-science-is-statistics/&#34;&gt;Data science is statistics&lt;/a&gt;,
2013-04-05&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/05/17/chutes-ladders-how-long-is-this-going-to-take/&#34;&gt;Chutes &amp;amp; ladders: How long is this going to take?&lt;/a&gt;
2013-05-17&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/05/13/stack-exchange-why-i-dropped-out/&#34;&gt;Stack exchange: why I dropped out&lt;/a&gt;,
2013-05-13&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/09/25/hiring-computational-biologists/&#34;&gt;Hiring computational biologists&lt;/a&gt;,
2013-09-25&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/09/11/department-websites/&#34;&gt;Department websites&lt;/a&gt;,
2013-09-11&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/10/02/complaints-about-the-nih-grant-review-process/&#34;&gt;Complaints about the NIH grant review process&lt;/a&gt;,
2013-10-02&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/05/01/reform-academic-statistics/&#34;&gt;Reform academic statistics&lt;/a&gt;,
2014-05-01&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/08/12/if-i-could-do-it-over-again-id-self-publish/&#34;&gt;If I could do it over again, I’d self-publish&lt;/a&gt;,
2014-08-12&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/10/29/improved-graphs-of-car-crash-stats/&#34;&gt;Improved graphs of car crash stats&lt;/a&gt;,
2014-10-29&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/10/30/interactive-plot-of-car-crash-stats/&#34;&gt;Interactive plot of car crash stats&lt;/a&gt;,
2014-10-30&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/11/03/car-crash-stats-revisited-my-measurement-errors/&#34;&gt;Car crash stats revisited: My measurement errors&lt;/a&gt;,
2014-11-03&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2015/08/05/god-awful-conference-web-sites/&#34;&gt;God-awful conference websites&lt;/a&gt;,
2015-08-05&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2015/09/09/reproducibility-is-hard/&#34;&gt;Reproducibility is hard&lt;/a&gt;,
2015-09-09&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I have also written a few advice-type posts on
various academic matters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2011/09/29/seminars-bad-and-good/&#34;&gt;Seminars, bad and good&lt;/a&gt;,
2011-09-29&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2011/10/21/grant-writing/&#34;&gt;Tips on grant writing&lt;/a&gt;,
2011-10-21&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/05/23/what-should-i-do-badly/&#34;&gt;What should I do badly?&lt;/a&gt;,
2012-05-23&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/12/05/things-to-avoid-as-a-new-faculty-member/&#34;&gt;Things to avoid as a new faculty member&lt;/a&gt;
2013-12-05&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here are a few more programming things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/04/03/beware-of-grep-with-a-list/&#34;&gt;Beware of &lt;code&gt;grep&lt;/code&gt; with a list&lt;/a&gt;,
2013-04-03&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/08/20/and-with-the-apply-functions/&#34;&gt;&lt;code&gt;[&lt;/code&gt; and &lt;code&gt;[[&lt;/code&gt; with the &lt;code&gt;apply()&lt;/code&gt; functions&lt;/a&gt;,
2013-08-20&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/04/29/with-the-apply-functions-revisited/&#34;&gt;&lt;code&gt;[&lt;/code&gt; with the &lt;code&gt;apply()&lt;/code&gt; functions, revisited&lt;/a&gt;
2014-04-29&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/08/06/read-the-source-code/&#34;&gt;Read the source code&lt;/a&gt;,
2013-08-06&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2014/02/12/emacs-key-bindings-in-ms-word/&#34;&gt;Emacs key bindings in MS Word&lt;/a&gt;,
2014-02-12&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>→ kbroman.org/blog</title>
      <link>/2017/04/30/new_blog_site/</link>
      <pubDate>Sun, 30 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/04/30/new_blog_site/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m starting a new blog site at &lt;a href=&#34;https://kbroman.org/blog&#34;&gt;kbroman.org/blog&lt;/a&gt;. I&amp;rsquo;m abandoning the &lt;a href=&#34;https://kbroman.wordpress.com&#34;&gt;WordPress site&lt;/a&gt; as it is; I don&amp;rsquo;t want to fuss with trying to move things.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>new blog</title>
      <link>/2017/04/29/new-blog/</link>
      <pubDate>Sat, 29 Apr 2017 08:37:00 -0500</pubDate>
      
      <guid>/2017/04/29/new-blog/</guid>
      <description>


&lt;p&gt;This is the new site for my blog; source at &lt;a href=&#34;https://github.com/kbroman/blog&#34;&gt;github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I’m going to leave my &lt;a href=&#34;https://kbroman.wordpress.com/&#34;&gt;old wordpress
site&lt;/a&gt; as it is and not try to figure
out how to move things over.&lt;/p&gt;
&lt;p&gt;I’m not been writing much recently, in part because Wordpress is such
a drag to work with. The present site uses
&lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;blogdown&lt;/a&gt;, which is a &lt;em&gt;joy&lt;/em&gt;. See the
&lt;a href=&#34;https://bookdown.org/yihui/blogdown&#34;&gt;bookdown-based documentation&lt;/a&gt;
(currently a bit thin)
plus &lt;a href=&#34;https://proquestionasker.github.io/blog/Making_Site/&#34;&gt;Amber Thomas’s
tutorial&lt;/a&gt; and
the examples at &lt;a href=&#34;https://github.com/rbind&#34;&gt;github.com/rbind&lt;/a&gt;.
Also see my &lt;a href=&#34;https://github.com/kbroman/ProgrammingNotes/blob/master/blogdown.md&#34;&gt;notes on how I constructed this site&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>about</title>
      <link>/about/</link>
      <pubDate>Sat, 29 Apr 2017 08:36:00 -0500</pubDate>
      
      <guid>/about/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://kbroman.org&#34;&gt;Karl Broman&lt;/a&gt; is Professor in the
&lt;a href=&#34;https://www.biostat.wisc.edu&#34;&gt;Department of Biostatistics and Medical Informatics&lt;/a&gt;
at the &lt;a href=&#34;https://www.wisc.edu&#34;&gt;University of Wisconsin–Madison&lt;/a&gt;;
research in statistical genetics; developer of
&lt;a href=&#34;http://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; (for &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kbroman.org&#34;&gt;Website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kbroman&#34;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a rel=&#34;me&#34; href=&#34;https://fosstodon.org/@kbroman&#34;&gt;Mastodon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://kbroman.wordpress.com&#34;&gt;Old wordpress site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The source for this site is at &lt;a href=&#34;https://github.com/kbroman/blog&#34;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>I thought maybe I was being paranoid</title>
      <link>/2017/01/30/i-thought-maybe-i-was-being-paranoid/</link>
      <pubDate>Mon, 30 Jan 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/01/30/i-thought-maybe-i-was-being-paranoid/</guid>
      <description>&lt;p&gt;An odd thing happened to me on twitter today.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/uwsystem&#34;&gt;UW System&lt;/a&gt; had &lt;a href=&#34;https://twitter.com/UWSystem/status/826167903145775104&#34;&gt;tweeted a statement&lt;/a&gt; from system president &lt;a href=&#34;https://twitter.com/raywcross&#34;&gt;Ray Cross&lt;/a&gt; concerning Trump&amp;rsquo;s &lt;a href=&#34;https://www.nytimes.com/2017/01/27/us/politics/trump-syrian-refugees.html&#34;&gt;executive order&lt;/a&gt; banning refugees and immigrants from 7 countries. Cross&amp;rsquo;s statement is close to the most empty, useless possible such statement.&lt;/p&gt;
&lt;p&gt;So I &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;tweeted back&lt;/a&gt;, asking him to revise his statement and actually take a stand against Trump&amp;rsquo;s executive order.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2017/01/disappearedtweet.png&#34; alt=&#34;disappearedtweet&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that I mentioned not just &lt;a href=&#34;https://twitter.com/raywcross&#34;&gt;@RayWCross&lt;/a&gt; and &lt;a href=&#34;https://twitter.com/uwsystem&#34;&gt;@UWSystem&lt;/a&gt;, but also &lt;a href=&#34;https://twitter.com/potus&#34;&gt;@POTUS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Twenty minutes later, the tweet had gotten a couple of ❤️&#39;s, and then one RT, but for some reason the tweet itself had disappeared from my twitter feed (in the app I use, &lt;a href=&#34;https://tapbots.com/tweetbot/&#34;&gt;Tweetbot&lt;/a&gt;). I looked at &lt;a href=&#34;https://twitter.com/kwbroman&#34;&gt;my twitter account&lt;/a&gt; in a web browser, and sure enough the tweet wasn&amp;rsquo;t there.&lt;/p&gt;
&lt;p&gt;Puzzled, and knowing I hadn&amp;rsquo;t deleted the tweet, I poked around and was able to find, somehow, the URL for the original tweet, and I could see &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;the tweet&lt;/a&gt; in a browser. So it hadn&amp;rsquo;t been &lt;em&gt;deleted&lt;/em&gt;, it had just been removed from my feed.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/kerri_gilbert&#34;&gt;@Kerri_Gilbert&lt;/a&gt; then &lt;a href=&#34;https://twitter.com/Kerri_Gilbert/status/826181462567297025&#34;&gt;wrote&lt;/a&gt; that she could see it in her feed but not if she went to my timeline. So I wasn&amp;rsquo;t completely crazy.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/CFlensburg/&#34;&gt;@CFlensburg&lt;/a&gt; later &lt;a href=&#34;https://twitter.com/CFlensburg/status/826231062460129280&#34;&gt;wrote&lt;/a&gt; that he could see the tweet, but &lt;a href=&#34;https://twitter.com/CFlensburg/status/826232029549178880&#34;&gt;he&amp;rsquo;s in Australia&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now my hypothesis was: someone who looks after &lt;a href=&#34;https://twitter.com/potus&#34;&gt;@potus&lt;/a&gt; had somehow suppressed my tweet. Or was I being paranoid?&lt;/p&gt;
&lt;p&gt;A quick google search (for &amp;ldquo;tweet disappeared from feed&amp;rdquo;) revealed a &lt;a href=&#34;https://www.washingtonpost.com&#34;&gt;Washington Post&lt;/a&gt; article from 2015-10-30, &amp;ldquo;&lt;a href=&#34;https://www.washingtonpost.com/news/the-intersect/wp/2015/10/30/a-guide-to-why-some-activists-believe-their-tweets-are-being-censored-in-the-u-s/&#34;&gt;Tweets are disappearing on Twitter. Why?&lt;/a&gt;&amp;rdquo; This seems to explain what happened: my tweet was suppressed by some kind of &amp;ldquo;abuse filter.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;The article is an interesting read. It describes the experience of &lt;a href=&#34;http://members.efn.org/~paulmd/&#34;&gt;Paul Dietrich&lt;/a&gt; (&lt;a href=&#34;https://twitter.com/paulmd199&#34;&gt;@Paulmd199&lt;/a&gt;), who wrote an analysis of his situation: &amp;ldquo;&lt;a href=&#34;http://members.efn.org/~paulmd/OwnWork/AdventuresinCensorship.pdf&#34;&gt;Adventures in Twitter Censorship.&lt;/a&gt;&amp;rdquo; Also an interesting read.&lt;/p&gt;
&lt;p&gt;And note that the tweet suppression is location-specific. It&amp;rsquo;s okay for &lt;a href=&#34;https://twitter.com/CFlensburg/&#34;&gt;Australians&lt;/a&gt; to read &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;the tweet&lt;/a&gt;, but Americans need to be protected from it.&lt;/p&gt;
&lt;h4 id=&#34;but-why-this-tweet&#34;&gt;But why this tweet?&lt;/h4&gt;
&lt;p&gt;This &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;tweet of mine&lt;/a&gt; was really a pretty bland tweet. I mean, I was directly criticizing my &lt;a href=&#34;http://www.med.wisc.edu/about/administration/robert-golden-md/38&#34;&gt;boss&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://chancellor.wisc.edu/about/&#34;&gt;boss&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://twitter.com/raywcross&#34;&gt;boss&lt;/a&gt;, and we &lt;a href=&#34;http://host.madison.com/wsj/news/local/education/university/regents-committee-passes-new-uw-madison-tenure-policy-with-changes/article_8249f119-05e7-5459-b4d8-25eab3e3882c.html&#34;&gt;just barely have tenure at Wisconsin&lt;/a&gt; anymore, so I certainly wasn&amp;rsquo;t going to be abusive. I&amp;rsquo;m not sure why I actually mentioned &lt;a href=&#34;https://twitter.com/potus&#34;&gt;@potus&lt;/a&gt;, but I figured, &amp;ldquo;What the hell.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;But what sort of abuse detection algorithm would decide that &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;this tweet&lt;/a&gt; was abusive? If there&amp;rsquo;s an abuse filter that would suppress &lt;a href=&#34;https://twitter.com/kwbroman/status/826174494096109568&#34;&gt;this tweet&lt;/a&gt; but not all of the actual abuse rampant on twitter&amp;hellip;well that&amp;rsquo;s bullshit.&lt;/p&gt;
&lt;p&gt;Maybe it was that I wrote &amp;ldquo;Sad.&amp;rdquo; (I thought that was funny. And hardly abusive.)&lt;/p&gt;
&lt;p&gt;I favor the theory that it wasn&amp;rsquo;t an algorithm but rather a person: that someone is assigned to read all mentions of &lt;a href=&#34;https://twitter.com/potus&#34;&gt;@potus&lt;/a&gt; and if they deem something inappropriate, they flip a switch and the tweet gets suppressed.&lt;/p&gt;
&lt;p&gt;So maybe I &lt;em&gt;am&lt;/em&gt; paranoid.&lt;/p&gt;
&lt;p&gt;(I forgot to mention: &lt;a href=&#34;https://twitter.com/nickfleisher&#34;&gt;@NickFleisher&lt;/a&gt; had the best response to &lt;a href=&#34;https://twitter.com/UWSystem/status/826167903145775104&#34;&gt;Ray Cross&amp;rsquo;s lame statement&lt;/a&gt;: &amp;ldquo;&lt;a href=&#34;https://twitter.com/nickfleisher/status/826184115456143360&#34;&gt;Revise and resubmit&lt;/a&gt;.&amp;quot;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Halloween 2016 count</title>
      <link>/2016/10/31/halloween-2016-count/</link>
      <pubDate>Mon, 31 Oct 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/10/31/halloween-2016-count/</guid>
      <description>&lt;p&gt;Here&amp;rsquo;s a graph of the numbers of trick-or-treat-ers we saw this evening, by time. 10 of the 25 kids arrived in one big group. (Compare this to our &lt;a href=&#34;https://kbroman.org/blog/2011/10/31/halloween-2011-count/&#34;&gt;2011 experience&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2016/10/halloween20161.png&#34; alt=&#34;Halloween 2016 count&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My JSM 2016 itinerary</title>
      <link>/2016/07/27/my-jsm-2016-itinerary/</link>
      <pubDate>Wed, 27 Jul 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/07/27/my-jsm-2016-itinerary/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/&#34;&gt;Joint Statistical Meetings&lt;/a&gt; are in Chicago next week. I thought I&amp;rsquo;d write down the set of sessions that I plan to attend. Please let me know if you have further suggestions.&lt;/p&gt;
&lt;p&gt;First things first: &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/spotlightchicago.cfm&#34;&gt;snacks&lt;/a&gt;. Search &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/index.cfm&#34;&gt;the program&lt;/a&gt; for &amp;ldquo;spotlight&amp;rdquo; or &amp;ldquo;while supplies last&amp;rdquo; for the free snacks being offered. Or go to the &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/spotlightchicago.cfm&#34;&gt;page with the full list&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;sunday&#34;&gt;Sunday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;2:00 - 3:50&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212387&#34;&gt;Open source statistical software for data science&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Skipper Seabold on &lt;em&gt;Software Engineering&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jake VanderPlas on &lt;em&gt;Python&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Doug Bates on &lt;em&gt;Julia&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dirk Eddelbuettel on &lt;em&gt;Rcpp&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Michael Kane on &lt;em&gt;Grammars &amp;amp; structures in R, Python, and Julia&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;4:00-5:50&lt;/em&gt;) Hard choice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212571&#34;&gt;Sequencing association studies and rare-variant analysis for complex traits&lt;/a&gt; with Gonçalo Abecasis, Xihong Lin, Seunggeun Lee, Iuliana Ionita-Laza&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212579&#34;&gt;Extraordinary impact of statistics&lt;/a&gt;, with David Siegmund, Heike Hofmann, and Sally Morton&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212531&#34;&gt;Precision medicine&lt;/a&gt; with Kim-Anh Do, Hongzhe Li, and Li Hsu (and with Bhramar Mukherjee as discussant)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212366&#34;&gt;Media and statistics&lt;/a&gt; with Howard Wainer, Barry Nussbaum, Julie Rehmeyer, and Don Berry (and Andrew Gelman as discussant)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212554&#34;&gt;Information visualization&lt;/a&gt; with Jorge Poco, Anushka Anand, Zan Armstrong, Zhicheng Liu, and Gordon Kindlmann (organized by Yihui Xie)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;6:00 - 8:00&lt;/em&gt;) Opening Mixer &amp;amp; &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=213079&#34;&gt;Invited posters&lt;/a&gt; (featuring Garrentt Grolemund, Tian Zheng, Liz Sweeney, David Robinson, Hilary Parker, Alyssa Frazee, and Jeff Leek)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;monday&#34;&gt;Monday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;8:30-10:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212543&#34;&gt;Applied data visualization&lt;/a&gt; (organized by Hilary Parker)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hadley Wickham on &lt;em&gt;Linked brushing in R&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Andreas Gros on &lt;em&gt;Data vis at Facebook&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lynn Cherny on &lt;em&gt;Cocktail party horror stories about data vis for clients&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Andrei Scheinkman on &lt;em&gt;Data vis at 538&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jeff Leek on &lt;em&gt;Teaching data vis to 100k data scientists&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also of interest: &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212462&#34;&gt;Introductory Overview on Causal Inference by Judea Pearl&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;10:30 - 12:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212335&#34;&gt;Statistics in genomics and genetics&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;John Storey on &lt;em&gt;latent variable methods&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rafael Irizarry on &lt;em&gt;overcoming bias and batch effects in RNA-seq data&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kathryn Roeder on &lt;em&gt;testing high-dim differential matrices&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Michael Newton on &lt;em&gt;Graph-restricted mixture models&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;4:45-6:15&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212656&#34;&gt;ASA President&amp;rsquo;s invited address&lt;/a&gt;: Joe Palca (NPR) on &lt;em&gt;Science and news: A marriage of convenience&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tuesday&#34;&gt;Tuesday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;8:30 - 10:20&lt;/em&gt;) Hard choice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212431&#34;&gt;Statistical genetics for large-scale genomic data&lt;/a&gt; with Mary Sara McPeek, Timothy Thornton, Michael Epstein, and Michael Wu&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212463&#34;&gt;Intro Overview on Data science&lt;/a&gt; with Philip Yu and Michael Jordon&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212804&#34;&gt;Microbiome data analysis&lt;/a&gt; with Xiang Zhan, Pixu Shi, Georg Gerber, Hyunwook Koh, and Richard Bonneau&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;10:30-12:20&lt;/em&gt;) Hard choice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212466&#34;&gt;Data journalism and statistical expertise&lt;/a&gt; with Regina Nuzzo, Alberto Cairo, Mark Hansen, Carl Bialik, and Katherine Hobson&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212444&#34;&gt;Data in and outside the undergrad classroom&lt;/a&gt; with Ani Adhikari, Mark Daniel Ward, Robert Gould, and Colin Rundel (organized by Mine Cetinkaya-Rundel)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;2:05-3:50&lt;/em&gt;) Hard choice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212483&#34;&gt;Single-cell RNA-seq&lt;/a&gt; with Raphael Gottardo, John Marioni, Rahul Satija, and Stephanie Hicks (organized by Rafael Irizarry)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212415&#34;&gt;The 3d Genome&lt;/a&gt; with Mark Segal, Zhaohui Qin, Zheng Xu, and Deepak Nag Ayyala (organized by Shili Lin)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212551&#34;&gt;Interactive visualizations&lt;/a&gt; with Vincent Nijs, Ryan Hafen, Joseph Cheng, John Muschelli, Carson Sievert, and Yihui Xie (organized by Ramnath Vaidyanathan&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212715&#34;&gt;Integrative data analyses&lt;/a&gt; with Sunduz Keles, Yuan Jiang, Yongdai Kim, and Jun Xie&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;8:00-9:30&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212655&#34;&gt;ASA President&amp;rsquo;s Address&lt;/a&gt;: Jessica Utts on &lt;em&gt;Appreciating statistics&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;wednesday&#34;&gt;Wednesday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;8:30 - 10:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212538&#34;&gt;Reproducibility in statistics and data science&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jenny Bryan&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;me&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Karthik Ram&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mine Cetinkaya-Rundel&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Yihui Xie (discussant)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;10:35 - 12:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212769&#34;&gt;2016 Statistical computing and graphics award honors William S. Cleveland&lt;/a&gt; with Nicholas Fisher, Dianne Cook, Luke-Jon Tierney, Steve Scott, and Jim Harner&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;2:05 - 3:50&lt;/em&gt;) Hard choice:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212439&#34;&gt;Batch effects in genomics data&lt;/a&gt; with Claire Ruberman, Jingshu Wang, Jennifer Listgarten, Davide Risso, and Florian Buettner&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212489&#34;&gt;Genomics and epigenomics data&lt;/a&gt; with Ker-Chau Li, Yuping Zhang, Hongkai Ji, Guo-Cheng Yuan, and Hao Wu&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212826&#34;&gt;When the plot is not the end: computing and reasoning on data visualizations&lt;/a&gt; with Barrett Schloerke, Haley Jeppson, Gabriel Becker, and Hector Corrada Bravo&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;4:45-6:15&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212657&#34;&gt;Fisher Lecture&lt;/a&gt;: Alice Whittemore on Personalizing disease prevention&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;thursday&#34;&gt;Thursday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;8:35 - 10:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212487&#34;&gt;Julia for modern statistical computing&lt;/a&gt; with Josh Day, John Myles White, Stefan Karpinski, and Jiahao Chen (and Doug Bates as discussant)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(&lt;em&gt;10:35-12:20&lt;/em&gt;) &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2016/onlineprogram/ActivityDetails.cfm?SessionID=212302&#34;&gt;Showcasing statistics and public policy&lt;/a&gt; with Andrew Gelman, Peter Imrey, and J. R. Lockwood (and David Banks as discussant)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Chris Walker at Faculty Senate</title>
      <link>/2016/04/15/chris-walker-at-faculty-senate/</link>
      <pubDate>Fri, 15 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/04/15/chris-walker-at-faculty-senate/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.dance.wisc.edu/dance/people/faculty/chris-walker&#34;&gt;Chris Walker&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://mediaspace.wisc.edu/media/Professor+Chris+Walker/1_5k9npnxs&#34;&gt;powerful speech&lt;/a&gt; at the Faculty Senate on 4 Apr 2016 (see &amp;ldquo;&lt;a href=&#34;https://kbroman.org/blog/2016/04/04/hateful-shit-at-uw-madison/&#34;&gt;Hateful shit at UW-Madison&lt;/a&gt;&amp;quot;) was &lt;a href=&#34;https://mediaspace.wisc.edu/media/Professor+Chris+Walker/1_5k9npnxs&#34;&gt;recorded&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://mediaspace.wisc.edu/media/Professor+Chris+Walker/1_5k9npnxs&#34;&gt;You &lt;em&gt;must&lt;/em&gt; listen to it!&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>I am a data scientist</title>
      <link>/2016/04/08/i-am-a-data-scientist/</link>
      <pubDate>Fri, 08 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/04/08/i-am-a-data-scientist/</guid>
      <description>&lt;p&gt;Three years ago this week, I wrote a blog post, &amp;ldquo;&lt;a href=&#34;https://kbroman.org/blog/2013/04/05/data-science-is-statistics/&#34;&gt;Data science is statistics&lt;/a&gt;&amp;rdquo;. I was fiercely against the term at that time, as I felt that we already had a &lt;em&gt;data science&lt;/em&gt;, and it was called &lt;em&gt;Statistics&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;It was a short post, so I might as well quote the whole thing:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When physicists do mathematics, they don&amp;rsquo;t say they&amp;rsquo;re doing &amp;ldquo;number science&amp;rdquo;. They&amp;rsquo;re doing math.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re analyzing data, you&amp;rsquo;re doing statistics. You can call it data science or informatics or analytics or whatever, but it&amp;rsquo;s still statistics.&lt;/p&gt;
&lt;p&gt;If you say that one kind of data analysis is statistics and another kind is not, you&amp;rsquo;re not allowing innovation. We need to define the field broadly.&lt;/p&gt;
&lt;p&gt;You may not like what some statisticians do. You may feel they don&amp;rsquo;t share your values. They may embarrass you. But that shouldn&amp;rsquo;t lead us to abandon the term &amp;ldquo;statistics&amp;rdquo;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I still sort of feel that way, but I must admit that &lt;em&gt;my&lt;/em&gt; definition of &amp;ldquo;statistics&amp;rdquo; is rather different than most others&#39; definition. In my view, a good statistician will consider &lt;em&gt;all&lt;/em&gt; aspects of the data analysis process:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the broader context of a scientific question&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;study design&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;data handling, organization, and integration&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;data cleaning&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;data visualization&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;exploratory data analysis&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;formal inference methods&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;clear communication of results&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;development of useful and trustworthy software tools&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;actually answering real questions&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;m sure I missed some things there, but my main point is that most academic statisticians focus solely on developing &amp;ldquo;sophisticated&amp;rdquo; methods for formal inference, and while I agree that that is an important piece, in my experience as an applied statistician, the other aspects are often of vastly greater importance. In many cases, we don&amp;rsquo;t need to develop sophisticated new methods, and most of my effort is devoted to the other aspects, and these are generally treated as being unworthy of consideration by academic statisticians.&lt;/p&gt;
&lt;p&gt;As I wrote in a later post, &amp;ldquo;&lt;a href=&#34;https://kbroman.org/blog/2014/05/01/reform-academic-statistics/&#34;&gt;Reform academic statistics&lt;/a&gt;&amp;rdquo;, we as a field appear satisfied with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Papers that report new methods with no usable software&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Applications that focus on toy problems&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Talks that skip the details of the scientific context of a problem&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data visualizations that are both ugly and ineffective&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Discussions of &lt;em&gt;Data Science&lt;/em&gt; generally recognize the full range of activities that are required for the analysis of data, and place greater value on such things as data visualization and software tools which are &lt;em&gt;obviously&lt;/em&gt; important but not viewed so by many statisticians.&lt;/p&gt;
&lt;p&gt;And so I&amp;rsquo;ve come to &lt;em&gt;embrace&lt;/em&gt; the term Data Science.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Data Science&lt;/em&gt; is also a much more straightforward and understandable label for what I do. I don&amp;rsquo;t think we should &lt;em&gt;need&lt;/em&gt; a new term, and I think we should argue against misunderstandings of Statistics rather than slink off to a new &amp;ldquo;brand&amp;rdquo;. But in general, when I talk about Data Science, I feel I can better trust that folks will understand that I am talking about the broad set of activities required in good data analysis.&lt;/p&gt;
&lt;p&gt;If people ask me what I do, I&amp;rsquo;ll continue to say that I&amp;rsquo;m a Statistician, even though I do tend to stumble over the word. But I am also a &lt;em&gt;Data Scientist&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;One last thing: I&amp;rsquo;ve also come to realize that computer science folks working in computational biology are really just like me. They have expertise in a somewhat different set of tools, but then that&amp;rsquo;s true for pretty much every statistician, too: they&amp;rsquo;re much like me but they have expertise in a somewhat different set of tools. And it&amp;rsquo;s nice to be able to say that &lt;em&gt;we&amp;rsquo;re all data scientists&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;It should be recognized, too, that academic computer science suffers from many of the same problems that academic statistics has suffered: an overemphasis on novelty, sophistication, and toy applications, and an under-appreciation for solving real problems, for data visualization, and for useful software tools.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Action items in response to hateful shit</title>
      <link>/2016/04/05/action-items-in-response-to-hateful-shit/</link>
      <pubDate>Tue, 05 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/04/05/action-items-in-response-to-hateful-shit/</guid>
      <description>&lt;p&gt;UW-Madison faculty got an email update from Vice Provost and Chief Diversity Officer Patrick Sims regarding the things we can do in response to the hate and bias incidents on campus.&lt;/p&gt;
&lt;p&gt;Here are the things he had mentioned yesterday at the Faculty Senate meeting:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Address hate/bias incidents in your curriculum to ameliorate unacceptable occurrences in our campus community.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Look at &amp;ldquo;bullying&amp;rdquo; language as a way to address possible hate/bias incidents in the classroom.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Commit to engaging in ongoing cultural competency training. &lt;a href=&#34;https://www.library.wisc.edu/lcice/&#34;&gt;Learning Communities for Institutional Change &amp;amp; Excellence (LCICE)&lt;/a&gt; as an infrastructure already provides these services campus-wide.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Commit to experiencing the &lt;a href=&#34;https://www.library.wisc.edu/lcice/&#34;&gt;leadership institute&lt;/a&gt; and become a facilitator, carving out 10-15% of your time towards these efforts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Support the request for additional staff.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Visit &lt;a href=&#34;https://campusclimate.wisc.edu&#34;&gt;the Campus Climate website&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An attached letter from the Hate &amp;amp; Bias incident team added:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Your school/college/department can host a bystander intervention workshop on hate and bias. This workshop will provide tools for UW-Madison community members on when and how to intervene. If you would like to host a workshop, please contact &lt;a href=&#34;mailto:Joshua.johnson@wisc.edu&#34;&gt;Joshua Moon Johnson&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Many incidents go unreported for a variety of reasons. We encourage students and campus community members to &lt;a href=&#34;https://www.students.wisc.edu/reporthate&#34;&gt;report incidents of hate and bias&lt;/a&gt; to ensure that campus can best support the victim and work to prevent future incidents. We encourage you to post &lt;a href=&#34;https://www.students.wisc.edu/reporthate&#34;&gt;the link to report&lt;/a&gt; on your school/college/department websites.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Oftentimes students do not report incidents because they are unaware of the reporting process. To increase awareness of the reporting process, we encourage you to share brochures and posters with information on how and why it is important to report. These will be distributed across campus in the next few weeks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Students who are victims of hate and bias incidents may need immediate support. Please be sure to refer/provide students with appropriate resources such as mental health/counseling services through University Health Services (UHS). The &lt;a href=&#34;https://msc.wisc.edu&#34;&gt;Multicultural Student Center&lt;/a&gt; also has drop-in hours with UHS counselors as well as support and discussions groups for students of color.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Many students who are victims of hate and bias incidents identify with an underrepresented racial group, gender identity or sexual orientation, or religious group. We encourage you to specifically reach out to marginalized student groups to raise awareness of the bystander intervention workshop and reporting process.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I got a reasonably positive response to &lt;a href=&#34;https://kbroman.org/blog/2016/04/04/hateful-shit-at-uw-madison/&#34;&gt;my email to my faculty colleagues&lt;/a&gt; suggesting that we all commit to cultural competency training. But the training from the &lt;a href=&#34;https://www.library.wisc.edu/lcice/&#34;&gt;LCICE&lt;/a&gt; mentioned above looks to be semester-long, Tuesdays 4:30-7:30pm. I think I&amp;rsquo;ll have a difficult time convincing my colleagues of that. We need something in between nothing and 45 hours.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hateful shit at UW-Madison</title>
      <link>/2016/04/04/hateful-shit-at-uw-madison/</link>
      <pubDate>Mon, 04 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/04/04/hateful-shit-at-uw-madison/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m a privileged white male university professor. As privileged as they come, really. My father was a professor of chemistry; my mother also has an advanced degree in chemistry. The jobs I&amp;rsquo;ve held have been more about personal fulfillment than money: dancer, dance teacher, secretary for intellectual property lawyers, research and teaching assistant, professor. People assume I know what I&amp;rsquo;m talking about, even if I&amp;rsquo;m in shorts and a t-shirt.&lt;/p&gt;
&lt;p&gt;All that&amp;rsquo;s just to say that, when it comes to the ongoing hateful acts that have been happening at the University of Wisconsin-Madison, I&amp;rsquo;m really the last one that you should be listening to. You should instead listen to UW students, such as the &lt;a href=&#34;http://www.unitedcouncilofuw.org/&#34;&gt;United Council of UW Students&lt;/a&gt;, who have submitted &lt;a href=&#34;http://www.unitedcouncilofuw.org/the-student-voice/2016/2/24/blackout-uw-system-administration-press-release-1212016&#34;&gt;a list of 5 reasonable demands&lt;/a&gt;, or Vice Provost and Chief Diversity Officer &lt;a href=&#34;https://provost.wisc.edu/climate.htm&#34;&gt;Patrick Sims&lt;/a&gt;, who made an &lt;a href=&#34;https://www.youtube.com/watch?v=zMBQUzwnCL0&amp;amp;feature=youtu.be&#34;&gt;important 8-min video&lt;/a&gt; in response to a recent hateful incident that you should now go away and watch (really, stop reading what I have to say and spend 8 minutes watching that video), or &lt;a href=&#34;https://www.dance.wisc.edu/dance/people/faculty/chris-walker&#34;&gt;Chris Walker&lt;/a&gt;, Asst Prof in the dance department, who spoke movingly today at the UW-Madison Faculty Senate meeting about the shit that faculty and students of color have to put up with on campus.&lt;/p&gt;
&lt;p&gt;Lot&amp;rsquo;s of crap has been happening in Wisconsin lately. My focus has been on what Scott Walker and company have been doing to the state and to the University of Wisconsin, most recently by making huge cuts to state support to the UW System and by weakening tenure and shared governance.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s all been an embarrassment, and depressing, but in comparison to the hateful racist shit that&amp;rsquo;s been happening on campus, and Vice Provost Sims reported that there have been &amp;gt;30 &lt;em&gt;reported&lt;/em&gt; hate or bias incidents on campus this year, tenure and funding just don&amp;rsquo;t seem that important.&lt;/p&gt;
&lt;p&gt;Chris Walker&amp;rsquo;s speech at the Faculty Senate today really hammered this home. As a black man on campus, he&amp;rsquo;s experienced a lot of shit: worse shit then we&amp;rsquo;re seeing in the papers. And if we don&amp;rsquo;t fix this, our students can&amp;rsquo;t be successful. We &lt;em&gt;must&lt;/em&gt; fix this.&lt;/p&gt;
&lt;p&gt;What can a biostatistics professor do? I&amp;rsquo;m open to suggestions.&lt;/p&gt;
&lt;p&gt;But for now, I&amp;rsquo;ll follow Patrick Sims&amp;rsquo;s suggestion and start with one of the &lt;a href=&#34;http://www.unitedcouncilofuw.org/the-student-voice/2016/2/24/blackout-uw-system-administration-press-release-1212016&#34;&gt;United Council of UW Students&#39; demands&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We demand that the University of Wisconsin System creates and enforces comprehensive racial awareness and inclusion curriculum and trainings throughout all 26 UW Institution departments, mandatory for all students, faculty, staff, campus &amp;amp; system administration, and regents. This curriculum and training must be vetted, maintained, and overseen by a board comprised of students, staff, and faculty of color.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;ve written an email to the faculty in &lt;a href=&#34;https://www.biostat.wisc.edu&#34;&gt;my department&lt;/a&gt;, asking that we, as a department, &lt;em&gt;volunteer&lt;/em&gt; to participate in such racial awareness training:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2016/04/email_to_dept1.png&#34; alt=&#34;email_to_dept&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Correction&lt;/strong&gt;: There&amp;rsquo;s an error in my email; Chris Walker is Associate Professor, and has been for a couple of years.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: Chris Walker&amp;rsquo;s speech at the 4 Apr 2016 Faculty Senate meeting was &lt;a href=&#34;https://mediaspace.wisc.edu/media/Professor+Chris+Walker/1_5k9npnxs&#34;&gt;recorded&lt;/a&gt;! Must listen.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Write unit tests!</title>
      <link>/2015/12/07/write-unit-tests/</link>
      <pubDate>Mon, 07 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/12/07/write-unit-tests/</guid>
      <description>&lt;p&gt;Since 2000, I&amp;rsquo;ve been working on &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt;, an R package for mapping the genetic loci (called quantitative trait loci, QTL) that contribute to variation in quantitative traits in experimental crosses. The &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/rqtl.pdf&#34;&gt;Bioinformatics paper about it&lt;/a&gt; is my most cited; also see my 2014 JORS paper, &amp;ldquo;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/rqtl_14yrs.pdf&#34;&gt;Fourteen years of R/qtl: Just barely sustainable&lt;/a&gt;.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a bit of a miracle that R/qtl works and gives the right answers, as it includes essentially no formal tests. The only regular tests are that the examples in the help files don&amp;rsquo;t produce any errors that halt the code.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve recently been working on &lt;a href=&#34;https://kbroman.org/qtl2&#34;&gt;R/qtl2&lt;/a&gt;, a reimplementation of R/qtl to better handle high-dimensional data and more complex crosses, such as &lt;a href=&#34;https://doi.org/10.1534/genetics.111.132597&#34;&gt;Diversity Outbred mice&lt;/a&gt;. In doing so, I&amp;rsquo;m trying to make use of the software engineering principles that I&amp;rsquo;ve learned over the last 15 years, which pretty much correspond to the ideas in &amp;ldquo;&lt;a href=&#34;https://doi.org/10.1371/journal.pbio.1001745&#34;&gt;Best Practices for Scientific Computing&lt;/a&gt;&amp;rdquo; (&lt;a href=&#34;http://third-bit.com/&#34;&gt;Greg Wilson&lt;/a&gt; et al., PLOS Biology 12(1): e1001745, &lt;a href=&#34;https://doi.org/10.1371/journal.pbio.1001745&#34;&gt;doi:10.1371/journal.pbio.1001745&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m still working on &amp;ldquo;Make names consistent, distinctive, and meaningful&amp;rdquo;, but I&amp;rsquo;m doing pretty well on writing shorter functions with less repeated code, and &lt;em&gt;particularly importantly&lt;/em&gt; I&amp;rsquo;m writing extensive unit tests.&lt;/p&gt;
&lt;p&gt;The basic idea is to break up your code into small functions that ideally do just one thing. (These are the &amp;ldquo;units&amp;rdquo;.) And then write tests that explicitly check whether those functions are giving the correct answers. That is, don&amp;rsquo;t just test that the code &lt;em&gt;runs&lt;/em&gt;; you want to know that your code is &lt;em&gt;giving the right answers&lt;/em&gt;!&lt;/p&gt;
&lt;p&gt;Last week, I was working on implementing a basic genome scan function. I included the option of doing weighted least squares with known weights, because it&amp;rsquo;s easy enough to do, and R/qtl had done that. (I&amp;rsquo;ve never actually &lt;em&gt;used&lt;/em&gt; that feature, but it&amp;rsquo;s been there.) And my results were matching those that R/qtl provided. Well, mostly: in the case of multiple phenotypes, with some phenotypes having missing values, and when doing a weighted analysis, the results from R/qtl and R/qtl2 were quite different.&lt;/p&gt;
&lt;p&gt;I expect you may be questioning the logic of testing code by comparing it to software that has not been formally tested. I was thinking the same thing. And so I wrote some tests that compared results to those using &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;&amp;rsquo;s &lt;code&gt;lm()&lt;/code&gt; function. And (surprise) the results from &lt;code&gt;lm()&lt;/code&gt; matched R/qtl2 but not R/qtl. So it was R/qtl that was the problem.&lt;/p&gt;
&lt;p&gt;So that had me debugging the &lt;a href=&#34;https://github.com/kbroman/qtl/blob/master/R/scanone.R&#34;&gt;&lt;code&gt;scanone&lt;/code&gt; function in R/qtl&lt;/a&gt;, the R code for which is &lt;strong&gt;831&lt;/strong&gt; lines long and was written according to the principle, &amp;ldquo;I&amp;rsquo;ll just add this one thing and then clean things up later,&amp;rdquo; with &amp;ldquo;later&amp;rdquo; really meaning &amp;ldquo;never&amp;rdquo;, and &amp;ldquo;this one thing&amp;rdquo; really meaning &amp;ldquo;all the things.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I did, after resorting to a bunch of print/cat statements, &lt;a href=&#34;https://github.com/kbroman/qtl/commit/254a1c728&#34;&gt;find the bug&lt;/a&gt;. In subsetting the data to remove individuals with missing values, I&amp;rsquo;d forgotten to subset the weights. Back in 2012, I&amp;rsquo;d &lt;a href=&#34;https://github.com/kbroman/qtl/commit/a07c575&#34;&gt;fixed a related bug&lt;/a&gt;, but apparently it was only a partial fix. In thinking about the bug again while writing this post, and in looking back at the 2012 bug fix, I realized that I probably had the same bug in &lt;a href=&#34;https://github.com/kbroman/qtl/blob/master/R/scantwo.R&#34;&gt;&lt;code&gt;scantwo&lt;/code&gt;&lt;/a&gt; (which is &lt;strong&gt;1443&lt;/strong&gt; lines long). Sure enough, and so now there&amp;rsquo;s &lt;a href=&#34;https://github.com/kbroman/qtl/commit/c71b3dfce9&#34;&gt;yet another bug fix&lt;/a&gt;, though not yet on &lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://thebird.nl/&#34;&gt;Pjotr Prins&lt;/a&gt; was the first to encourage me towards software testing. &lt;a href=&#34;http://had.co.nz/&#34;&gt;Hadley Wickham&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/hadley/testthat&#34;&gt;testthat&lt;/a&gt; package makes it easy to do in R packages. In his &lt;a href=&#34;https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf&#34;&gt;paper about testthat&lt;/a&gt;, Hadley wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It&amp;rsquo;s not that we don&amp;rsquo;t test our code, it&amp;rsquo;s that we don&amp;rsquo;t store our tests so they can be re-run automatically.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is my favorite comment on testing; it totally applies to (old) me.&lt;/p&gt;
&lt;p&gt;The bottom line:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Write unit tests.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you find a bug, first write a test for it and then fix the bug.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you find a bug, look for other possible instances of that bug, and fix them too.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To learn more about testing in R packages, see the &lt;a href=&#34;https://r-pkgs.org/tests.html&#34;&gt;Testing&lt;/a&gt; chapter in Hadley&amp;rsquo;s &lt;a href=&#34;amazon.com/exec/obidos/ASIN/1491910593/7210-20&#34;&gt;R packages book&lt;/a&gt;. Also see the &lt;a href=&#34;https://kbroman.org/Tools4RR/assets/lectures/09_testdebug_withnotes.pdf&#34;&gt;slides for my lecture on testing and debugging&lt;/a&gt; in my &lt;a href=&#34;https://kbroman.org/Tools4RR/&#34;&gt;Tools for Reproducible Research&lt;/a&gt; course.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fitting linear mixed models for QTL mapping</title>
      <link>/2015/11/24/fitting-linear-mixed-models-for-qtl-mapping/</link>
      <pubDate>Tue, 24 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/11/24/fitting-linear-mixed-models-for-qtl-mapping/</guid>
      <description>&lt;p&gt;Linear mixed models (LMMs) have become widely used for dealing with population structure in human GWAS, and they&amp;rsquo;re becoming increasing important for QTL mapping in model organisms, particularly for the analysis of advanced intercross lines (AIL), which often exhibit variation in the relationships among individuals.&lt;/p&gt;
&lt;p&gt;In my efforts on &lt;a href=&#34;https://kbroman.org/qtl2&#34;&gt;R/qtl2&lt;/a&gt;, a reimplementation &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; to better handle high-dimensional data and more complex cross designs, it was clear that I&amp;rsquo;d need to figure out LMMs. But while &lt;a href=&#34;https://www.jstatsoft.org/article/view/v067i01&#34;&gt;papers explaining the fit of LMMs&lt;/a&gt; seem quite explicit and clear, I&amp;rsquo;d never quite turned the corner to actually seeing how I&amp;rsquo;d implement it. In both reading papers and studying code (e.g., &lt;a href=&#34;https://github.com/lme4/lme4/&#34;&gt;lme4&lt;/a&gt;), I&amp;rsquo;d be going along fine and then get completely lost part-way through.&lt;/p&gt;
&lt;p&gt;But I now finally understand LMMs, or at least a particular, simple LMM, and I&amp;rsquo;ve been able to write an implementation: the R package &lt;a href=&#34;https://kbroman.org/lmmlite&#34;&gt;lmmlite&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It seemed worthwhile to write down some of the details.&lt;/p&gt;
&lt;p&gt;The model I want to fit is &lt;em&gt;y = X b + e&lt;/em&gt;, where var(&lt;em&gt;e&lt;/em&gt;) = &lt;em&gt;sK + tI&lt;/em&gt;, where &lt;em&gt;K&lt;/em&gt; is a known kinship matrix and &lt;em&gt;I&lt;/em&gt; is the identity matrix. Think of &lt;em&gt;y&lt;/em&gt; as a vector of phenotypes and &lt;em&gt;X&lt;/em&gt; as a matrix of covariates. Let &lt;em&gt;v = s+t&lt;/em&gt; be the residual variance, and let &lt;em&gt;h = s/(s+t) = s/v&lt;/em&gt; be the heritability.&lt;/p&gt;
&lt;p&gt;First, a shout to &lt;a href=&#34;https://github.com/lomereiter&#34;&gt;Artem Tarasov&lt;/a&gt;, who wrote a &lt;a href=&#34;https://lomereiter.github.io/2015/02/16/lmm_cov.html&#34;&gt;series of blog posts&lt;/a&gt; walking through and explaining the source code for &lt;a href=&#34;https://github.com/MicrosoftGenomics/FaST-LMM&#34;&gt;FaST-LMM&lt;/a&gt; and &lt;a href=&#34;https://github.com/nickFurlotte/pylmm&#34;&gt;pylmm&lt;/a&gt;, and to &lt;a href=&#34;http://whatmind.com/&#34;&gt;Nick Furlotte&lt;/a&gt;, whose &lt;a href=&#34;https://github.com/nickFurlotte/pylmm&#34;&gt;pylmm&lt;/a&gt; code is especially clear and easy-to-read. Only by reading their work did I come to understand these LMMs.&lt;/p&gt;
&lt;p&gt;Back to the model fit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;For a fixed value of the heritability, &lt;em&gt;h&lt;/em&gt;, we have var(&lt;em&gt;e&lt;/em&gt;) = &lt;em&gt;v[hK + (1-h)I] = vV&lt;/em&gt; where &lt;em&gt;V&lt;/em&gt; is known. And so we end up with a general least squares problem, which we can fit in order to estimate &lt;em&gt;b&lt;/em&gt; and &lt;em&gt;v&lt;/em&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;And actually, if you take the eigen decomposition of &lt;em&gt;K&lt;/em&gt;, say &lt;em&gt;K = UDU&#39;&lt;/em&gt;, it turns out that you can write &lt;em&gt;hK + (1-h)I = hUDU&#39; + (1-h)UU&#39; = U[hD + (1-h)I]U&#39;&lt;/em&gt;. That is, the eigenvectors of &lt;em&gt;K&lt;/em&gt; are the same as the eigenvectors of &lt;em&gt;hK + (1-h)I&lt;/em&gt;. And so if you pre-multiply &lt;em&gt;y&lt;/em&gt; and &lt;em&gt;X&lt;/em&gt; by &lt;em&gt;U&#39;&lt;/em&gt;, you end up with a weighted least squares problem, which is way faster to fit than a general least squares problem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Having fit the weighted least squares problem to estimate &lt;em&gt;b&lt;/em&gt; and &lt;em&gt;v&lt;/em&gt;, you can then calculate the corresponding log likelihood (or, better, the restricted log likelihood, if you want to do REML).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You&amp;rsquo;re then left with a one-dimensional optimization problem (optimizing the log likelihood over &lt;em&gt;h&lt;/em&gt;), which you can solve by &lt;a href=&#34;https://en.wikipedia.org/wiki/Brent%27s_method&#34;&gt;Brent&amp;rsquo;s method&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;That&amp;rsquo;s it!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It seems quite obvious in retrospect. It&amp;rsquo;s a bit embarrassing that it&amp;rsquo;s taken me so long to come to this understanding.&lt;/p&gt;
&lt;p&gt;In &lt;a href=&#34;https://kbroman.org/lmmlite&#34;&gt;lmmlite&lt;/a&gt;, I implemented this algorithm (closely following the code in &lt;a href=&#34;https://github.com/nickFurlotte/pylmm&#34;&gt;pylmm&lt;/a&gt;) twice: in plain R, and then in C++ (using &lt;a href=&#34;https://github.com/RcppCore/RcppEigen&#34;&gt;RcppEigen&lt;/a&gt;, which is an interface to the &lt;a href=&#34;https://eigen.tuxfamily.org/index.php?title=Main_Page&#34;&gt;Eigen&lt;/a&gt; C++ linear algebra library). The plain R code is a bit slower then pylmm; the C++ code is a bit faster. In the C++ code, almost all of the computation time is devoted to the eigen decomposition of the kinship matrix. Once that&amp;rsquo;s done, the rest is super quick.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Session info from R/Travis</title>
      <link>/2015/09/25/session-info-from-rtravis/</link>
      <pubDate>Fri, 25 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/09/25/session-info-from-rtravis/</guid>
      <description>&lt;p&gt;For the problem &lt;a href=&#34;https://kbroman.org/blog/2015/09/24/its-not-you-its-me&#34;&gt;I reported yesterday&lt;/a&gt;, in which my R package was working fine locally but failing on &lt;a href=&#34;https://travis-ci.org&#34;&gt;Travis&lt;/a&gt;, the key solution is to run &lt;code&gt;update.packages(ask=FALSE)&lt;/code&gt; locally, and maybe even &lt;code&gt;update.packages(ask=FALSE, type=&amp;quot;source&amp;quot;)&lt;/code&gt; to be sure to grab the source of packages for which binaries are not yet available. I now know to do that.&lt;/p&gt;
&lt;p&gt;In addition, it&amp;rsquo;d be useful to have session information (R and package versions) in the results from Travis. This has proven a bit tricky.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t want to go with a fully custom Travis script, your &lt;a href=&#34;https://docs.travis-ci.com/user/customizing-the-build/&#34;&gt;customization options&lt;/a&gt; are limited. We really only care about the case of a failure, so &lt;code&gt;after_success&lt;/code&gt; is not of interest, and &lt;code&gt;after_script&lt;/code&gt; seems not to be run if there&amp;rsquo;s a Travis fail. Moreover, &lt;code&gt;script&lt;/code&gt; and &lt;code&gt;after_failure&lt;/code&gt; are defined by the main &lt;code&gt;language: r&lt;/code&gt; script, so you can&amp;rsquo;t change them without going all-custom.&lt;/p&gt;
&lt;p&gt;What&amp;rsquo;s left is &lt;code&gt;before_script&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I want to see the result of &lt;code&gt;devtools::session_info()&lt;/code&gt; with the package of interest loaded, but the package actually gets built &lt;em&gt;after&lt;/em&gt; &lt;code&gt;before_script&lt;/code&gt; is run, so we&amp;rsquo;ll need to build and install it, even though it&amp;rsquo;ll be built and installed again afterwards. The best I could work out is in &lt;a href=&#34;https://github.com/kbroman/testsysfile/blob/master/.travis.yml#L12-L19&#34;&gt;this example &lt;code&gt;.travis.yml&lt;/code&gt; file&lt;/a&gt;, with the key bits being:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;before_script:
  - export PKG_NAME=$(Rscript -e &#39;cat(paste0(devtools::as.package(&amp;quot;.&amp;quot;)$package))&#39;)
  - export PKG_TARBALL=$(Rscript -e &#39;pkg &amp;lt;- devtools::as.package(&amp;quot;.&amp;quot;); cat(paste0(pkg$package,&amp;quot;_&amp;quot;,pkg$version,&amp;quot;.tar.gz&amp;quot;))&#39;)
  - R CMD build --no-build-vignettes .
  - R CMD INSTALL ${PKG_TARBALL}
  - rm ${PKG_TARBALL}
  - echo &amp;quot;Session info:&amp;quot;
  - Rscript -e &amp;quot;library(${PKG_NAME});devtools::session_info(&#39;${PKG_NAME}&#39;)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I use &lt;code&gt;--no-build-vignettes&lt;/code&gt; in &lt;code&gt;R CMD build&lt;/code&gt; as otherwise the package would be built and installed yet another time. And I remove the &lt;code&gt;.tar.gz&lt;/code&gt; file afterwards, to avoid having the later check complain about the extra file.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an &lt;a href=&#34;https://travis-ci.org/kbroman/testsysfile#L850-L864&#34;&gt;example of the session info in the Travis log&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you have suggests about how to simplify this, I&amp;rsquo;d be happy to hear them. I guess the key would be to have the main Travis script for R revised to report session information.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href=&#34;https://twitter.com/jennybryan&#34;&gt;Jenny Bryan&lt;/a&gt; for &lt;a href=&#34;https://twitter.com/JennyBryan/status/647177192514785280&#34;&gt;showing me how to search for instances of &lt;code&gt;session_info&lt;/code&gt; in &lt;code&gt;.travis.yml&lt;/code&gt; files on GitHub&lt;/a&gt;, and to &lt;a href=&#34;https://twitter.com/cpsievert&#34;&gt;Carson Sievert&lt;/a&gt; for &lt;a href=&#34;https://twitter.com/cpsievert/status/647189393162178560&#34;&gt;further moral support&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>It&#39;s not you, it&#39;s me</title>
      <link>/2015/09/24/its-not-you-its-me/</link>
      <pubDate>Thu, 24 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/09/24/its-not-you-its-me/</guid>
      <description>&lt;p&gt;Somehow when my code stops working, my first (and second, and third) reaction is to blame everything except my own code. (“It&amp;rsquo;s not &lt;em&gt;me&lt;/em&gt;, it&amp;rsquo;s &lt;em&gt;you&lt;/em&gt;.”)&lt;/p&gt;
&lt;p&gt;And almost always, it&amp;rsquo;s my own code that&amp;rsquo;s the problem (hence the title of this post).&lt;/p&gt;
&lt;p&gt;I spent the day trying to resolve a bug in my early-in-development R package, &lt;a href=&#34;https://github.com/kbroman/qtl2geno&#34;&gt;qtl2geno&lt;/a&gt;. In the process, I blamed&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;TravisCI for not handling &lt;code&gt;system.file()&lt;/code&gt; properly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R-devel for having broken &lt;code&gt;system.file()&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;data.table::fread()&lt;/code&gt; for treating &lt;code&gt;sep=NULL&lt;/code&gt; differently on different operating systems.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, none of these were true. I was just passing &lt;code&gt;sep=NULL&lt;/code&gt; to &lt;code&gt;data.table::fread()&lt;/code&gt;, and that worked in the previous version, but doesn&amp;rsquo;t work in the latest release on &lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;, and I hadn&amp;rsquo;t yet installed the latest version of &lt;a href=&#34;https://github.com/Rdatatable/data.table&#34;&gt;data.table&lt;/a&gt; on my Mac, but Travis and my junky Windows laptop had the latest version.&lt;/p&gt;
&lt;p&gt;The debugging process seems a potentially interesting case study, so I thought I&amp;rsquo;d write down some of the details.&lt;/p&gt;
&lt;p&gt;The whole thing started off with my &lt;a href=&#34;https://github.com/kbroman/qtl2geno&#34;&gt;qtl2geno&lt;/a&gt; package suddenly failing on &lt;a href=&#34;http://travis-ci.org&#34;&gt;TravisCI&lt;/a&gt;, even though it was still passing &lt;code&gt;R CMD check&lt;/code&gt; on my local machine. (This was on 19 Sept 2015, when a new version of data.table hit CRAN, but I didn&amp;rsquo;t realize that until the very end of the story.)&lt;/p&gt;
&lt;p&gt;The problem line was in a &lt;a href=&#34;https://github.com/kbroman/qtl2geno/blob/master/vignettes/user_guide.Rmd&#34;&gt;vignette&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grav2 &amp;lt;- read_cross2( system.file(&amp;quot;extdata&amp;quot;, &amp;quot;grav2.zip&amp;quot;, package=&amp;quot;qtl2geno&amp;quot;) )
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The changes I&amp;rsquo;d been making to my package didn&amp;rsquo;t seem to have anything to do with this, so I concluded that the problem was &lt;code&gt;system.file()&lt;/code&gt;. Why that would have worked before but not now, I couldn&amp;rsquo;t say, but I figured maybe Travis was installing things differently than before.&lt;/p&gt;
&lt;p&gt;I changed that code block to &lt;code&gt;eval=FALSE&lt;/code&gt;, but then a bunch of tests using &lt;code&gt;read_cross2( system.file( ... ) )&lt;/code&gt; were failing instead. Again, I figured the problem was &lt;code&gt;system.file()&lt;/code&gt;, because &lt;code&gt;R CMD check&lt;/code&gt; worked fine on my machine.&lt;/p&gt;
&lt;p&gt;I then thought maybe Travis was using R-devel whereas I was using the R-release. So I used &lt;a href=&#34;http://win-builder.r-project.org/&#34;&gt;R Win-builder&lt;/a&gt; to test my package with R-devel, and sure enough it failed there. So it wasn&amp;rsquo;t Travis. My conclusion was that R-devel had broken &lt;code&gt;system.file()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Poked around some more, and then finally used &lt;a href=&#34;http://win-builder.r-project.org/&#34;&gt;R Win-builder&lt;/a&gt; with R-release. And it failed with that, too. So it wasn&amp;rsquo;t R-devel either.&lt;/p&gt;
&lt;p&gt;I then created a little tester package, &lt;a href=&#34;https://github.com/kbroman/testsysfile&#34;&gt;testsysfile&lt;/a&gt;, testing &lt;code&gt;system.file()&lt;/code&gt; with &lt;code&gt;read.csv()&lt;/code&gt; and then with &lt;code&gt;data.table::fread()&lt;/code&gt;. That all worked fine. So it seemed like it wasn&amp;rsquo;t actually &lt;code&gt;system.file()&lt;/code&gt;, but something within &lt;code&gt;read_cross2()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So finally I poked into my own code, and then I realized that I was passing a &lt;code&gt;NULL&lt;/code&gt; value to the &lt;code&gt;sep&lt;/code&gt; argument of &lt;code&gt;fread()&lt;/code&gt;. (See &lt;a href=&#34;https://github.com/kbroman/qtl2geno/blob/master/R/read_cross2.R#L99-L100&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://github.com/kbroman/qtl2geno/blob/master/R/read_cross2.R#L474-L485&#34;&gt;here&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;But why would &lt;code&gt;sep=NULL&lt;/code&gt; work on my Mac but not on Travis or R Win-builder? I pulled out my junky Windows laptop (purchased in order to have a better sense of what my students were dealing with), went through all of the Windows updates, then updated R, &lt;a href=&#34;https://cran.r-project.org/bin/windows/Rtools/&#34;&gt;Rtools&lt;/a&gt;, and &lt;a href=&#34;http://rstudio.com&#34;&gt;RStudio&lt;/a&gt;, and tried things out there.&lt;/p&gt;
&lt;p&gt;With my &lt;a href=&#34;https://github.com/kbroman/testsysfile&#34;&gt;testsysfile&lt;/a&gt; package, I could see that &lt;code&gt;data.table::fread()&lt;/code&gt; was throwing an error with &lt;code&gt;sep=NULL&lt;/code&gt; on Windows, though it was working fine on my Mac.&lt;/p&gt;
&lt;p&gt;I spent some time making a patch to &lt;code&gt;fread()&lt;/code&gt;, and I was really close to submitting a pull request. (Treating &lt;code&gt;sep=NULL&lt;/code&gt; didn&amp;rsquo;t seem important, but it did seem like it the behavior should be the same on Windows and Mac.) But then I saw, in the &lt;a href=&#34;https://github.com/Rdatatable/data.table/blob/master/README.md&#34;&gt;README&lt;/a&gt; file, that there were &lt;a href=&#34;https://github.com/Rdatatable/data.table/blob/master/Contributing.md&#34;&gt;Contribution guidelines&lt;/a&gt;. I figured I&amp;rsquo;d better go through them.&lt;/p&gt;
&lt;p&gt;The guidelines say, &amp;ldquo;squash all your commits together,&amp;rdquo; so I spent some time getting my two commits combined into one. The guidelines also say to update the README file. In doing so, I realized that they&amp;rsquo;d put a new version of data.table on CRAN on 19 Sep 2015, which is precisely when my package started failing on Travis.&lt;/p&gt;
&lt;p&gt;And so then I finally installed the updated version of data.table on my Mac, and saw that there was no operating system dependence; the differences I was seeing were just because of the old vs new version of data.table.&lt;/p&gt;
&lt;p&gt;So data.table was updated in a way where &lt;code&gt;sep=NULL&lt;/code&gt; was no longer working, and in my own code, I had relied on that. So six hours, &lt;a href=&#34;https://twitter.com/kwbroman/status/647125510686920705&#34;&gt;many tweets&lt;/a&gt;, lots of blaming of others, and finally I&amp;rsquo;d worked out that it was all my own fault.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Reproducibility is hard</title>
      <link>/2015/09/09/reproducibility-is-hard/</link>
      <pubDate>Wed, 09 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/09/09/reproducibility-is-hard/</guid>
      <description>&lt;p&gt;Reproducibility is hard. It will probably always be hard, because it&amp;rsquo;s hard keeping things organized.&lt;/p&gt;
&lt;p&gt;I recently had a &lt;a href=&#34;https://doi.org/10.1534/g3.115.019778&#34;&gt;paper&lt;/a&gt; accepted at &lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt;, concerning a huge set of sample mix-ups in a large eQTL study. I&amp;rsquo;d discovered and worked out the issue back in December, 2010. I gave a talk about it at the Mouse Genetics meeting in Washington, DC, in June, 2011. But for reasons that I will leave unexplained, I didn&amp;rsquo;t write it up until much later. I did the bulk of the writing in October, 2012, but it wasn&amp;rsquo;t until February, 2014, that I posted a &lt;a href=&#34;https://arxiv.org/abs/1402.2633&#34;&gt;preprint&lt;/a&gt; at &lt;a href=&#34;https://arxiv.org/&#34;&gt;arXiv&lt;/a&gt;, which I then finally submitted to G3 in June this year.&lt;/p&gt;
&lt;p&gt;In writing up the paper in late 2012, I re-did my entire analysis from scratch, to make the whole thing more cleanly reproducible. So with the paper now in press, I&amp;rsquo;ve placed all of that in a &lt;a href=&#34;https://github.com/kbroman/Paper_SampleMixups&#34;&gt;GitHub repository&lt;/a&gt;, but as it turned out, there was still a lot more to do. (You can tell, from the repository, that this is an old project, because there are a couple of Perl scripts in there. It&amp;rsquo;s been a long time since I&amp;rsquo;ve switched from Perl to Python and Ruby. I still can&amp;rsquo;t commit to just one of Python or Ruby&amp;hellip;want to stick with Python, as everyone else is using it, but much prefer Ruby.)&lt;/p&gt;
&lt;p&gt;The basic issue is that the raw data is about 1 GB. The clean version of the data is another 1 GB. And then there are results of various intermediate calculations, some are rather slow to calculate, which take up another 100 MB. I can&amp;rsquo;t reasonably put all of that within the GitHub repository.&lt;/p&gt;
&lt;p&gt;Both the raw and clean data have been &lt;a href=&#34;https://phenome.jax.org/projects/Attie1&#34;&gt;posted in the Mouse Phenome Database&lt;/a&gt;. (Thanks to Petr Simecek, Gary Churchill, Molly Bogue, and Elissa Chesler for that!) But the data are in a form that I thought suitable for others, and not quite in the form that I actually used them.&lt;/p&gt;
&lt;p&gt;So, I needed to write a script that would grab the data files from &lt;a href=&#34;https://phenome.jax.org&#34;&gt;MPD&lt;/a&gt; and reorganize them in the way that I&amp;rsquo;d been using them.&lt;/p&gt;
&lt;p&gt;In working on that, I discovered some mistakes in the data posted to MPD: there were a couple of bugs in my code to convert the data from the format I was using into the format I was going to post. (So it was good to spend the time on the script that did the reverse!)&lt;/p&gt;
&lt;p&gt;In addition to the raw and clean data on MPD, I posted a zip file with the 110 MB of intermediate results on &lt;a href=&#34;https://doi.org/10.6084/m9.figshare.1515873.v1&#34;&gt;figshare&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In the end, I&amp;rsquo;m hoping that one can clone the &lt;a href=&#34;https://github.com/kbroman/Paper_SampleMixups&#34;&gt;GitHub repository&lt;/a&gt; and just run &lt;a href=&#34;https://www.gnu.org/software/make/&#34;&gt;make&lt;/a&gt; and it will download the data and do all of the stuff. If you want to save some time, you could download the &lt;a href=&#34;https://doi.org/10.6084/m9.figshare.1515873.v1&#34;&gt;zip file from figshare&lt;/a&gt; and unzip that, and then run make.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not quite there, but I think I&amp;rsquo;m close.&lt;/p&gt;
&lt;h3 id=&#34;aspects-im-happy-with&#34;&gt;Aspects I&amp;rsquo;m happy with&lt;/h3&gt;
&lt;p&gt;For the most part, my work on this project wasn&amp;rsquo;t terrible.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I wrote an R package, &lt;a href=&#34;https://github.com/kbroman/lineup&#34;&gt;R/lineup&lt;/a&gt;, with the main analysis methods.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;That I re-derived the full entire analysis cleanly, in a separate, reproducible document (I used &lt;a href=&#34;https://asciidoc.org&#34;&gt;AsciiDoc&lt;/a&gt; and &lt;a href=&#34;https://yihui.name/knitr/&#34;&gt;knitr&lt;/a&gt;) was a good thing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The code for the figures and tables are all reasonably clean, and draw from either the original data files or from intermediate calculations produced by the AsciiDoc document.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I automated everything with GNU Make.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;what-should-i-have-done-differently&#34;&gt;What should I have done differently?&lt;/h3&gt;
&lt;p&gt;There was a lot more after-the-fact work that I would rather not have to do.&lt;/p&gt;
&lt;p&gt;Making a project reproducible is easier if the data aren&amp;rsquo;t that large and so can be bundled into the GitHub repository with all of the code.&lt;/p&gt;
&lt;p&gt;With a larger data set, I guess the thing to do is recognize, from the start, that the data are going to be sitting elsewhere. So then, I think one should &lt;em&gt;organize the data in the form that you expect to be made public&lt;/em&gt;, and work from those files.&lt;/p&gt;
&lt;p&gt;When you write a script to convert data from one form to another, &lt;em&gt;also write some tests&lt;/em&gt;, to make sure that it worked correctly.&lt;/p&gt;
&lt;p&gt;And then &lt;em&gt;document, document, document!&lt;/em&gt; As with software development, it&amp;rsquo;s hard to document data or analyses after the fact.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>God-awful conference websites</title>
      <link>/2015/08/05/god-awful-conference-web-sites/</link>
      <pubDate>Wed, 05 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/08/05/god-awful-conference-web-sites/</guid>
      <description>&lt;p&gt;What do I want in a conference website? Not &lt;a href=&#34;https://www.amstat.org/meetings/JSM/2015/onlineprogram/index.cfm&#34;&gt;this&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I want to be able to browse sessions to find the ones I&amp;rsquo;m interested in. That means being able to see the session title and time as well as the speakers and talk titles. A super-long web page is perfectly fine.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you can&amp;rsquo;t show me everything at once, at least let me click-to-expand: for the talk titles, and then for the abstracts. Otherwise I have to keep clicking and going back.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I want to be able to search for people. And if I&amp;rsquo;m searching for &lt;a href=&#34;http://www.haowulab.org&#34;&gt;Hao Wu&lt;/a&gt;, I don&amp;rsquo;t want to look at &lt;em&gt;all&lt;/em&gt; of the Wus. Or all of the Haos. I just want the Hao Wus. If I can&amp;rsquo;t search on &lt;code&gt;&amp;quot;Hao Wu&amp;quot;&lt;/code&gt;, at least let me search on &lt;code&gt;&amp;quot;Wu, Hao&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If my search returns nothing and I go back, bring me back to the same search form. Don&amp;rsquo;t make me have to click &amp;ldquo;Search for people&amp;rdquo; again.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I&amp;rsquo;d like to be able to form a schedule of the sessions to attend. (&lt;a href=&#34;https://www.amstat.org/meetings/JSM/2015/onlineprogram/index.cfm&#34;&gt;JSM2015&lt;/a&gt; does that okay, but it&amp;rsquo;s not what I&amp;rsquo;d call &amp;ldquo;secure&amp;rdquo; and you have to find the damned things, first.) Really, I want to pick particular talks: this one in that session and that one in the other. But yeah, that seems a bit much to ask.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;a href=&#34;https://www.amstat.org/meetings/JSM/2015/onlineprogram/index.cfm&#34;&gt;JSM 2015 site&lt;/a&gt; is so terrible for browsing, I was happy to get the &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2015/pdfs/JSM2015_ProgramBook.pdf&#34;&gt;pdf of the program&lt;/a&gt;. (Good luck finding it on the website on your own; ASA tweeted the link to me, due to my bitching and moaning.) You can browse the pdf. That&amp;rsquo;s the way I ended up finding the sessions I wanted to attend. It also had an ad for the &lt;a href=&#34;https://twitter.com/kwbroman/status/628797267978289152&#34;&gt;JSM 2015 mobile app&lt;/a&gt;. Did you know there was one? Good luck finding a link to &lt;em&gt;that&lt;/em&gt; on their website, either.&lt;/p&gt;
&lt;p&gt;The pdf is useable, but much like the website, it fails to make use of the medium. I want:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Bookmarks. I want to jump to where Monday&amp;rsquo;s sessions start without have to flip through the whole thing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hyperlinks. If you don&amp;rsquo;t include the abstracts, with links from the talk titles to the abstracts, at least include links to the web page that has the abstract so I don&amp;rsquo;t have to search on the web.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;More hyperlinks. The pdf has an index, with people and page numbers. Why not link those page numbers to the corresponding page?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I helped organize a &lt;a href=&#34;https://rqtl.org/ctc2013/&#34;&gt;small meeting&lt;/a&gt; in 2013. The &lt;a href=&#34;https://rqtl.org/ctc2013/program.html&#34;&gt;program on the web&lt;/a&gt; and the &lt;a href=&#34;https://rqtl.org/ctc2013/ctc2013_program.pdf&#34;&gt;corresponding pdf&lt;/a&gt; illustrate much of what I want. (No scheduling feature, but that meeting had no simultaneous sessions.) I included gratuitous network graphs of the &lt;a href=&#34;https://rqtl.org/ctc2013/vis/authors.html&#34;&gt;authors&lt;/a&gt; and &lt;a href=&#34;https://rqtl.org/ctc2013/vis/abstracts.html&#34;&gt;abstracts&lt;/a&gt;. It&amp;rsquo;s 2015. No conference site is truly complete without interactive network graphs.&lt;/p&gt;
&lt;h3 id=&#34;update&#34;&gt;Update&lt;/h3&gt;
&lt;p&gt;As &lt;a href=&#34;https://www.stat.auckland.ac.nz/showperson?firstname=Thomas&amp;amp;surname=Lumley&#34;&gt;Thomas Lumley&lt;/a&gt; commented below, if you search on &amp;ldquo;Wu&amp;rdquo; you get all of the &amp;ldquo;Wu&amp;quot;s but also there&amp;rsquo;s one &amp;ldquo;Wulfhorst&amp;rdquo;. And if you search on &amp;ldquo;Hao&amp;rdquo; you get only people whose &lt;em&gt;last&lt;/em&gt; name is &amp;ldquo;Hao&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;He &lt;a href=&#34;https://twitter.com/tslumley/status/629096725978845185&#34;&gt;further pointed out&lt;/a&gt; that if you search for the affiliation &amp;ldquo;Auckland&amp;rdquo; the results don&amp;rsquo;t include &amp;ldquo;University of Auckland&amp;rdquo; but only &amp;ldquo;Auckland University of Technology&amp;rdquo;. And actually, if you search for &amp;ldquo;University of Auckland&amp;rdquo; you get nothing. You need to search for &amp;ldquo;&lt;em&gt;The&lt;/em&gt; University of Auckland&amp;rdquo;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Memories of past JSMs</title>
      <link>/2015/08/03/memories-of-past-jsms/</link>
      <pubDate>Mon, 03 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/08/03/memories-of-past-jsms/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;https://www.amstat.org/meetings/jsm.cfm&#34;&gt;Joint Statistical Meetings (JSM)&lt;/a&gt; are the big statistics meetings in North America, &amp;ldquo;joint&amp;rdquo; among the &lt;a href=&#34;https://amstat.org&#34;&gt;American Statistical Association&lt;/a&gt;, &lt;a href=&#34;https://www.imstat.org&#34;&gt;Institute of Mathematical Statistics&lt;/a&gt;, &lt;a href=&#34;https://www.biometricsociety.org&#34;&gt;International Biometric Society&lt;/a&gt; (&lt;a href=&#34;https://www.enar.org&#34;&gt;ENAR&lt;/a&gt; and &lt;a href=&#34;http://www.wnar.org&#34;&gt;WNAR&lt;/a&gt;), &lt;a href=&#34;https://ssc.ca/en&#34;&gt;Statistical Society of Canada&lt;/a&gt;, and others.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amstat.org/meetings/jsm/2015/&#34;&gt;JSM 2015&lt;/a&gt; is next week, in Seattle. In anticipation, I thought I&amp;rsquo;d write down some of my main memories of past JSMs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The first JSM I attended was in 1993, in San Francisco. Since I was local at the time (a grad student at &lt;a href=&#34;https://www.stat.berkeley.edu&#34;&gt;Berkeley&lt;/a&gt;), I got free registration in return for some small service work. I didn&amp;rsquo;t register formally, but they got a list of volunteers and printed name tags from that. My name tag said &amp;ldquo;&lt;strong&gt;Bioman&lt;/strong&gt;.&amp;rdquo; I considered changing my name, since &lt;strong&gt;Bioman&lt;/strong&gt; is so awesome.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Advice I got from a &lt;a href=&#34;https://www.stat.berkeley.edu/~evans/&#34;&gt;Berkeley faculty member&lt;/a&gt;: avoid the contributed papers sessions. Nevertheless, my office mate dragged me to one. One of the speakers showed scatterplots produced with Minitab, in glorious 80×24 ascii resolution, with &lt;code&gt;*&lt;/code&gt;&amp;rsquo;s, and digits to indicate over-plotting.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At JSM 1996 in Chicago, I shared a hotel room with Michael Camarri. He&amp;rsquo;d found the place. It had no air conditioning. That was bad.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At that &amp;lsquo;96 JSM, Michael and I went to a huge Berkeley dinner at the conference hotel. It was obnoxiously expensive so we split a personal-sized pizza, to save our money for, um, the pub. The other table was living it up with champagne and lobster. Seriously. And then they wanted to split the check evenly. Seriously. Without any consideration for students. (I pay better attention to students&amp;rsquo; needs, from that experience.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;That same night, Michael and I and the considerable entourage we&amp;rsquo;d formed ran into &lt;a href=&#34;https://www.jax.org/research-and-faculty/faculty/gary-churchill&#34;&gt;Gary Churchill&lt;/a&gt; at the &lt;a href=&#34;http://www.rockbottom.com/locations/chicago&#34;&gt;Rock Bottom&lt;/a&gt;. He was sitting alone with a beer. I latched onto him and bent his ear about QTL mapping and &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/thesis.pdf&#34;&gt;my thesis work&lt;/a&gt;. When we got up to leave, I asked him if he&amp;rsquo;d remembered me (we&amp;rsquo;d met previously when he&amp;rsquo;d visited Berkeley). He admitted that he hadn&amp;rsquo;t, &amp;ldquo;But I&amp;rsquo;ll remember you now!&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We ended up at the &lt;a href=&#34;http://www.crobar.com/crobar-chicago.html&#34;&gt;Crō*Bar&lt;/a&gt;, which featured free tattoos and body piercing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At JSM 2003 in San Francisco (I think), I spoke at a Sunday afternoon contributed papers session on statistical genetics. Many people didn&amp;rsquo;t realize that they&amp;rsquo;d added Sunday afternoon sessions. And there were two invited sessions on statistical genetics at the same time. We had just one audience member. In fact, one of the speakers didn&amp;rsquo;t even show up, and we waited through that time slot so as not to disturb the schedule. (It seemed like there was a greater risk of losing our audience member.) I went last, and when I got up to speak, a &lt;a href=&#34;http://statistics.calpoly.edu/steve-rein/&#34;&gt;friend of mine&lt;/a&gt; joined the audience. &amp;ldquo;When I got up to speak, the audience doubled!&amp;rdquo; is how I like to characterize it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There was a session with John Chambers, Robert Gentleman, and Duncan Temple Lang on the future of &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;, in room that seated 25 comfortably. There was crowd of like 50 people packed in a big bunch outside the door, hoping to at least hear John Chambers&amp;rsquo;s voice.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At JSM 2005 in Minneapolis, I was talking to some random statistician in a pub and made a statement like, &amp;ldquo;Does anyone still use Splus? Anyone who still uses Splus is an idiot.&amp;rdquo; It turned out that the guy worked for Insightful, or whatever the company was that owned Splus at the time. &lt;a href=&#34;http://www.biostat.jhsph.edu/~iruczins/&#34;&gt;Ingo&lt;/a&gt; said the guy looked like he was going to punch me.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There was the bet I made with &lt;a href=&#34;http://www.biostat.jhsph.edu/~iruczins/&#34;&gt;Ingo&lt;/a&gt;, in which I promised to &lt;a href=&#34;https://kbroman.org/blog/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/&#34;&gt;put a certain variation on the Johns Hopkins &lt;em&gt;Bloomberg&lt;/em&gt; School of Public Health logo&lt;/a&gt; on one of the slides of my talk, in exchange for a month&amp;rsquo;s beer. I stayed up really late preparing, but I was ultimately successful.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At the end of an evening, &lt;a href=&#34;http://www.bcaffo.com/&#34;&gt;Brian&lt;/a&gt;, &lt;a href=&#34;https://www.albany.edu/sph/19585.php&#34;&gt;Greg&lt;/a&gt;, and I paid the waitress to &lt;em&gt;not&lt;/em&gt; bring us the round of drinks that Ingo was trying to buy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Actually, I think those last 3 were all on the same night.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the &lt;a href=&#34;https://cran.r-project.org/doc/Rnews/Rnews_2002-3.pdf&#34;&gt;December, 2002 issue&lt;/a&gt; of &lt;a href=&#34;https://cran.r-project.org/doc/Rnews/&#34;&gt;R news&lt;/a&gt; (superseded by the &lt;a href=&#34;https://journal.r-project.org/&#34;&gt;R Journal&lt;/a&gt;), I poked fun at Dallas, a previous JSM site. I didn&amp;rsquo;t attend the meeting in Dallas. Here&amp;rsquo;s what I wrote:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;A good time was had at the Joint Statistical Meetings (JSM) in New York City, August 11–15, 2002. After several years of dismal locations (who can forget Dallas?), this year&amp;rsquo;s JSM began a series of venues possibly even more interesting than the Meetings: in the next two years, the JSM will be in San Francisco and Toronto.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have other memories that I can&amp;rsquo;t share here. Find me at &lt;a href=&#34;https://twitter.com/hashtag/jsm2015&#34;&gt;#JSM2015&lt;/a&gt; next week. Seattle is sure to be great!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MongoDB with D3.js</title>
      <link>/2015/06/22/mongodb-with-d3-js/</link>
      <pubDate>Mon, 22 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/06/22/mongodb-with-d3-js/</guid>
      <description>&lt;p&gt;I consider interactive data visualization to be the critical tool for exploration of high-dimensional data.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s led me to spend a good amount of time in the last few years learning some new skills (&lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; and &lt;a href=&#34;https://coffeescript.org&#34;&gt;CoffeeScript&lt;/a&gt;) and developing some new tools, particularly the R package &lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt;, which provides interactive versions of the many data visualizations in &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt;, my &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/rqtl_14yrs.pdf&#34;&gt;long-in-development&lt;/a&gt; R package for mapping genetic loci (called quantitative trait loci, QTL) that underlie complex trait variation in experimental organisms.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt; is rough in spots, and while it works well for moderate-sized data sets, it can&amp;rsquo;t well handle truly large-scale data, as it just dumps all of the data into the file viewed by a web browser.&lt;/p&gt;
&lt;p&gt;For large-scale data, one needs to dynamically load slices of the data based on user interactions. It seems best to have a formal database behind the scenes. But I think I&amp;rsquo;m not unusual, among statisticians, in having almost no experience working with databases. My collaborators tend to keep things in Excel. Even for quite large problems, I keep things in flat files.&lt;/p&gt;
&lt;p&gt;So, I&amp;rsquo;ve been trying to come to understand the whole database business, and how I might use one for larger-scale data visualizations. I think I&amp;rsquo;ve finally made that last little conceptual step, where I can see what I need to do. I made a &lt;a href=&#34;https://github.com/kbroman/d3examples/tree/master/mongodb&#34;&gt;small illustration&lt;/a&gt; in my &lt;a href=&#34;https://github.com/kbroman/d3examples&#34;&gt;d3examples&lt;/a&gt; repository on GitHub.&lt;/p&gt;
&lt;h3 id=&#34;learning-mongodb&#34;&gt;Learning MongoDB&lt;/h3&gt;
&lt;p&gt;I thought &lt;a href=&#34;https://www.mongodb.org&#34;&gt;mongoDB&lt;/a&gt; seemed like a good database to try:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;storage of general documents seems a good match for the sort of data I work with&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;use of JSON/BSON seems a good match for &lt;a href=&#34;https://d3js.org&#34;&gt;D3.js&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So I&amp;rsquo;ve been taking an online-course though &lt;a href=&#34;https://university.mongodb.com/&#34;&gt;MongoDB University&lt;/a&gt; &amp;ndash; the &lt;a href=&#34;https://university.mongodb.com/courses/M101JS/about&#34;&gt;one for Node.js developers&lt;/a&gt;. I should have done &lt;a href=&#34;https://university.mongodb.com/courses/M101P/about&#34;&gt;the more general one, using Python&lt;/a&gt;, but I was thinking it&amp;rsquo;d be interesting to learn &lt;a href=&#34;https://nodejs.org&#34;&gt;Node&lt;/a&gt;, which is basically command-line scripting in javascript. I guess the advantage of node is that you can just write javascript. But personally I prefer to switch to the language appropriate to the task, so I&amp;rsquo;m not too hot on node. But maybe I just haven&amp;rsquo;t come to understand how best to make use of the whole callback function business.&lt;/p&gt;
&lt;p&gt;MongoDB is not all that hard. It&amp;rsquo;s just kind of boring. The MongoDB Uni class is quite well done, though a few of the lectures were frustratingly out-of-date. I have the &lt;a href=&#34;https://shop.oreilly.com/product/0636920028031.do&#34;&gt;MongoDB book&lt;/a&gt;, but it&amp;rsquo;s been rough going; the class has been good for that. (The weekly deadlines have been good for motivating me to get through the dull &amp;ndash; for me &amp;ndash; material.)&lt;/p&gt;
&lt;p&gt;The obvious bits with a database: how to get stuff into it and then back out of it. And then I guess deleting or changing stuff. So that&amp;rsquo;s all fine. I also learned about making indexes, so that you can more quickly get stuff out later. I don&amp;rsquo;t think my needs for these things are all that complicated. And so I think I understand those bits.&lt;/p&gt;
&lt;h3 id=&#34;getting-the-data-for-the-data-vis&#34;&gt;Getting the data for the data vis&lt;/h3&gt;
&lt;p&gt;The last key step that I was pondering last night: how do I, based on some user interaction with a data visualization (clicking on a point, or some such), fire off a request to the database and get the data back?&lt;/p&gt;
&lt;p&gt;I guessed some sort of &lt;a href=&#34;https://en.wikipedia.org/wiki/Representational_state_transfer&#34;&gt;RESTful API&lt;/a&gt; type thing. But while I can write that down, I don&amp;rsquo;t really understand what the hell it means.&lt;/p&gt;
&lt;p&gt;But then I thought, what I need is to use some sort of &lt;a href=&#34;https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods&#34;&gt;HTTP GET request&lt;/a&gt;. I kind of know what that means, but I don&amp;rsquo;t really understand what happens on the back end.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d been poking around in &lt;a href=&#34;https://api.mongodb.org/python/current/tutorial.html&#34;&gt;pymongo&lt;/a&gt;, the python-based mongoDB driver. (I like it much better than the &lt;a href=&#34;https://api.mongodb.org/ruby/current/&#34;&gt;ruby&lt;/a&gt; or &lt;a href=&#34;https://docs.mongodb.org/ecosystem/drivers/node-js/&#34;&gt;node&lt;/a&gt; drivers.) And as part of the Mongo University class, we used &lt;a href=&#34;https://expressjs.com/&#34;&gt;express&lt;/a&gt; with Node to do some HTTP GET and PUSH. If I want to grab some bit of data, I could have a python script running on the back end, looking for an http request, and then based on some key that was passed, grabbing data from the database and sending it back as JSON.&lt;/p&gt;
&lt;p&gt;So I looked around for how to do this with mongoDB, found &lt;a href=&#34;https://github.com/10gen-labs/sleepy.mongoose&#34;&gt;sleepy mongoose&lt;/a&gt;, but that seemed like more than I wanted, and then came to &lt;a href=&#34;https://bottlepy.org/docs/dev/index.html&#34;&gt;bottle&lt;/a&gt;, which seemed like what I needed to handle the http bit. The example on the front page is just what I want: take a name from a URL and use it as input to some function, and give results back.&lt;/p&gt;
&lt;h3 id=&#34;mongodbd3-illustration&#34;&gt;MongoDB/D3 illustration&lt;/h3&gt;
&lt;p&gt;The goal of all this: as part of some data visualization, the user will hover over or click a point, and this will lead to a request to the database, and then a plot of the data that comes back.&lt;/p&gt;
&lt;p&gt;It seemed like a simple test case would be to use the data for &lt;a href=&#34;https://en.wikipedia.org/wiki/Anscombe&#39;s_quartet&#34;&gt;Anscombe&amp;rsquo;s quartet&lt;/a&gt;. Put the four series into a MongoDB database, and then have four buttons that, when clicked, cause a request to the database to grab the corresponding series, which is then plotted.&lt;/p&gt;
&lt;p&gt;So first I wrote an &lt;a href=&#34;https://github.com/kbroman/d3examples/blob/master/mongodb/grab_anscombe.R&#34;&gt;R script&lt;/a&gt; to grab the data from the table on the &lt;a href=&#34;https://en.wikipedia.org/wiki/Anscombe&#39;s_quartet&#34;&gt;wikipedia page&lt;/a&gt; and write it to a &lt;a href=&#34;https://www.json.org/&#34;&gt;JSON&lt;/a&gt; file. I&amp;rsquo;m sure there was an easier way to get the data in a suitable form, but I was really procrastinating from writing a paper at this point, so I thought I&amp;rsquo;d test my web scraping skill in a simple case.&lt;/p&gt;
&lt;p&gt;I then wrote a &lt;a href=&#34;https://github.com/kbroman/d3examples/blob/master/mongodb/mongo_insert.py&#34;&gt;python script&lt;/a&gt; that reads in the JSON file and inserts the data into a mongoDB database. You make a database connection with &lt;code&gt;pymongo.MongoClient()&lt;/code&gt; and insert the documents with the &lt;code&gt;insert_one()&lt;/code&gt; method to a collection. I later added an index with &lt;code&gt;create_index()&lt;/code&gt;; pretty silly here, but for large problems it would be useful.&lt;/p&gt;
&lt;p&gt;So, the data&amp;rsquo;s in the database. How to get it back out? I wrote a second &lt;a href=&#34;https://github.com/kbroman/d3examples/blob/master/mongodb/mongo_request.py&#34;&gt;python script&lt;/a&gt; (just 8 lines, really), that uses &lt;a href=&#34;https://bottlepy.org&#34;&gt;bottle&lt;/a&gt; to create a server that connects a URL to a function call. The function then uses &lt;a href=&#34;https://api.mongodb.org/python/current/tutorial.html&#34;&gt;pymongo&lt;/a&gt; to find the corresponding document and send it back as JSON. One &lt;a href=&#34;https://api.mongodb.org/python/current/tutorial.html&#34;&gt;tricky bit that needed some extra googling&lt;/a&gt; was getting the browser to allow the request.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://github.com/kbroman/d3examples/tree/master/mongodb/anscombe.coffee&#34;&gt;D3 code (in coffeescript&lt;/a&gt;) is pretty standard. On clicking a button, I call &lt;code&gt;d3.json&lt;/code&gt; with the appropriate URL that corresponds to a request from the python script; the data come back as JSON, and are then passed to a callback function to make the actual plot.&lt;/p&gt;
&lt;p&gt;This &lt;a href=&#34;https://github.com/kbroman/d3examples/blob/master/mongodb/&#34;&gt;MongoDB/D3 illustration&lt;/a&gt; is a toy example, but it represents an important step for me, personally. I&amp;rsquo;m rather proud of it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2015/06/anscombe_2.png&#34; alt=&#34;Anscombe&amp;rsquo;s quartet, set 2&#34;&gt;&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t actually have a live example of this. That&amp;rsquo;s the next thing: how to have this running on a proper web server, rather than just locally.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Randomized Hobbit</title>
      <link>/2015/06/22/randomized-hobbit-2/</link>
      <pubDate>Mon, 22 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/06/22/randomized-hobbit-2/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://twitter.com/wrathematics&#34;&gt;@wrathematics&lt;/a&gt; pointed me to his &lt;a href=&#34;http://cran.r-project.org/package=ngram&#34;&gt;ngram&lt;/a&gt; R package for constructing and simulating from n-grams from text.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d recently grabbed the text of the hobbit, and so I applied it to that text, with amusing results.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s the code I used to grab the text.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(XML)
stem &amp;lt;- &amp;quot;http://www.5novels.com/classics/u5688&amp;quot;
hobbit &amp;lt;- NULL
for(i in 1:74) {
    cat(i,&amp;quot;\n&amp;quot;)
    if(i==1) {
        url &amp;lt;- paste0(stem, &amp;quot;.html&amp;quot;)
    } else {
        url &amp;lt;- paste0(stem, &amp;quot;_&amp;quot;, i, &amp;quot;.html&amp;quot;)
    }

    x &amp;lt;- htmlTreeParse(url, useInternalNodes=TRUE)
    xx &amp;lt;- xpathApply(x, &amp;quot;//p&amp;quot;, xmlValue)
    hobbit &amp;lt;- c(hobbit, gsub(&amp;quot;\r&amp;quot;, &amp;quot;&amp;quot;, xx[-length(xx)]))
    Sys.sleep(0.5)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then calculate the ngrams with n=2.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(ngram)
ng2 &amp;lt;- ngram(hobbit, n=2)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Simulate some number of words with &lt;code&gt;babble()&lt;/code&gt;. If you use the &lt;code&gt;seed&lt;/code&gt; argument, you can get the result reproducibly.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;babble(ng2, 48, seed=53482175)
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;into trees, and then bore to the Mountain to go through?&amp;quot; groaned the hobbit. &amp;ldquo;Well, are you doing, And where are you doing, And where are you?&amp;rdquo; it squeaked, as it was no answer. They were surly and angry and puzzled at finding them here in their holes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: &lt;a href=&#34;https://twitter.com/wrathematics&#34;&gt;@wrathematics&lt;/a&gt; suggested that I &lt;a href=&#34;http://librestats.com/2014/07/01/modern-applied-statistics-in-rlyeh/&#34;&gt;mix two texts&lt;/a&gt;, so here&amp;rsquo;s a bit from the &lt;em&gt;Hobbit in the Hat&lt;/em&gt; (The Hobbit with 59× Cat in the Hat &amp;ndash; up-sampled to match lengths.) But there&amp;rsquo;s maybe not enough overlap between the two texts to get much of a mixture.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;I am Gandalf,&amp;rdquo; said the fish. This is no way at all!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;already off his horse and among the goblin and the dragon, who had remained behind to guard the door. &amp;ldquo;Something is outside!&amp;rdquo; Bilbo&amp;rsquo;s heart jumped into his boat on to sharp rocks below; but there was a good game, Said our fish No! No! Those Things should not fly.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Cheat sheets for R-based Software Carpentry course</title>
      <link>/2015/04/29/cheat-sheets-for-r-based-software-carpentry-course/</link>
      <pubDate>Wed, 29 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/04/29/cheat-sheets-for-r-based-software-carpentry-course/</guid>
      <description>&lt;p&gt;At the &lt;a href=&#34;http://software-carpentry.org&#34;&gt;Software Carpentry&lt;/a&gt; workshop at  &lt;a href=&#34;https://github.com/UW-Madison-ACI/boot-camps/blob/2014-08-25/README.md&#34;&gt;UW-Madison in August, 2014&lt;/a&gt;, one of the students suggested that we hand out some cheat sheets on each topic. I thought that was a really good idea.&lt;/p&gt;
&lt;p&gt;So at the SWC workshop at &lt;a href=&#34;http://karawoo.com/2015-04-27-wsu/&#34;&gt;Washington State University this week&lt;/a&gt;, we handed out the following five pages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf&#34;&gt;ddplyr&lt;/a&gt; (from RStudio)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rstudio.com/wp-content/uploads/2015/04/ggplot2-cheatsheet.pdf&#34;&gt;ggplot2&lt;/a&gt; (from RStudio)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.cheatography.com/davechild/cheat-sheets/linux-command-line/pdf/&#34;&gt;unix command line&lt;/a&gt; (from Dave Child at Cheatography)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://training.github.com/kit/downloads/github-git-cheat-sheet.pdf&#34;&gt;git&lt;/a&gt; (from GitHub)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf&#34;&gt;R Markdown&lt;/a&gt; (from RStudio)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I really appreciate the work (and design sense) that were put into these.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>2015 AAAS in San Jose</title>
      <link>/2015/02/13/2015-aaas-in-san-jose/</link>
      <pubDate>Fri, 13 Feb 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/02/13/2015-aaas-in-san-jose/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m at the &lt;a href=&#34;https://aaas.confex.com/aaas/2015/webprogram/start.html&#34;&gt;2015 AAAS meeting&lt;/a&gt; in San Jose, California. This is definitely not my typical meeting: too big, too broad, and I hardly know anyone here. But here&amp;rsquo;s a quick (ha ha; &lt;em&gt;yah sure&lt;/em&gt;) summary of the meeting so far.&lt;/p&gt;
&lt;h3 id=&#34;opening-night&#34;&gt;Opening night&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Gerald_Fink&#34;&gt;Gerald Fink&lt;/a&gt; gave the President&amp;rsquo;s Address last night. He&amp;rsquo;s the AAAS President, so I guess that&amp;rsquo;s appropriate. But after five minutes of really lame simplistic crap (for example, he said something like, &amp;ldquo;&lt;a href=&#34;https://twitter.com/c_fenster/status/566061155026624513&#34;&gt;A single picture can destroy our known understanding of the universe,&lt;/a&gt;&amp;rdquo; like innovation and improving our understanding is a bad thing), I left.&lt;/p&gt;
&lt;p&gt;Oh, and before that: the emcee of the evening, who introduced &lt;a href=&#34;https://en.wikipedia.org/wiki/Janet_Napolitano&#34;&gt;Janet Napolitano&lt;/a&gt;, totally couldn&amp;rsquo;t pronounce her last name. (Her remarks, particularly her comments in support of public universities, were quite powerful.) Old dude: practice such things! Your ineptness reveals that you haven&amp;rsquo;t paid proper attention to her.&lt;/p&gt;
&lt;h3 id=&#34;sightings&#34;&gt;Sightings&lt;/h3&gt;
&lt;p&gt;A huge meeting, but I know next to no one here. But I ran into &lt;a href=&#34;https://faculty.mdanderson.org/Sanjay_Shete/&#34;&gt;Sanjay Shete&lt;/a&gt; in the exhibit hall, where I attempted to get two of every tchotchke. (My kids will pitch a fit if one gets something, no matter how lame the thing, and the other doesn&amp;rsquo;t.) Sanjay was named AAAS Fellow, that&amp;rsquo;s why he&amp;rsquo;s here.&lt;/p&gt;
&lt;p&gt;I also ran into &lt;a href=&#34;https://med.stanford.edu/profiles/steven-goodman&#34;&gt;Steve Goodman&lt;/a&gt; (not the &lt;a href=&#34;https://en.wikipedia.org/wiki/Steve_Goodman&#34;&gt;folk singer&lt;/a&gt; who died too young, but a singer, nevertheless). Gotta love Steve Goodman! He produced &lt;a href=&#34;https://www.youtube.com/watch?v=Ba5eNi0KzHk&#34;&gt;Behind the tan door&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;highlights&#34;&gt;Highlights&lt;/h3&gt;
&lt;p&gt;I went to a dozen talks. A half-dozen I &lt;em&gt;really&lt;/em&gt; liked.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://aspuru.chem.harvard.edu/&#34;&gt;Alan Aspuru-Guzik&lt;/a&gt; talked about how to find (and visualize) useful organic molecules among the 1060 (or 10180?) possible. Cool high-throughput computing and interactive graphics to produce better solar panels (particularly for developing countries) and huge batteries to store wind- and solar-based power.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://people.stanford.edu/rbaltman/&#34;&gt;Russ Altman&lt;/a&gt; talked about how to search databases, web-search histories, and social media, to identify pairs of drugs that, together, give bad (or good) side effects that wouldn&amp;rsquo;t be predicted from their on-their-own side effects.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/David_Altshuler&#34;&gt;David Altshuler&lt;/a&gt; had a &lt;a href=&#34;https://twitter.com/kwbroman/status/566328355570475008&#34;&gt;hilarious outline slide for his talk&lt;/a&gt;, but the rest was really awesome. A key point: to develop precision medicine will require hard work and there&amp;rsquo;s no magic bullet. And basic (not just translational) research is critical: we can&amp;rsquo;t make a medicine that gets to the precise cause (and that&amp;rsquo;s what precision medicine is about) if we don&amp;rsquo;t understand that basic biology.&lt;/p&gt;
&lt;p&gt;I gave &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/AAAS&#34;&gt;a talk myself&lt;/a&gt;, in a &lt;a href=&#34;https://aaas.confex.com/aaas/2015/webprogram/Session9760.html&#34;&gt;session on visualization of biomedical data&lt;/a&gt;, but it was definitely &lt;em&gt;not&lt;/em&gt; the best talk in the session, nor the second best. Mine might have been the worst of the five talks in the session. But that&amp;rsquo;s okay; I think I did fine. It&amp;rsquo;s just that Sean Hanlon (brother of my UW-Madison colleague, Bret Hanlon) put together a superb, but thinly-attended, session.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cs.utah.edu/~miriah/&#34;&gt;Miriah Meyer&lt;/a&gt;&amp;rsquo;s was my favorite talk of the day. She develops visualization tools to help scientists make sense of their data. And her approach is much like mine: specific solutions to specific data and questions. She talked about &lt;a href=&#34;https://www.cs.utah.edu/~miriah/multeesum/&#34;&gt;MulteeSum&lt;/a&gt;, &lt;a href=&#34;https://www.cs.utah.edu/~miriah/pathline/Overview.html&#34;&gt;PathLine&lt;/a&gt;, and &lt;a href=&#34;https://www.cs.utah.edu/~miriah/mizbee/Overview.html&#34;&gt;MizBee&lt;/a&gt;. Favorite quote: &amp;ldquo;It&amp;rsquo;s amazing how much people like circles these days.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www-pls.llnl.gov/?url=about_pls-scientific_staff-streitz_f&#34;&gt;Frederick Streitz&lt;/a&gt; from Lawrence Livermore National Lab talked about simulating and visualizing the electrophysiology of the human heart at super-high  resolution using a frigging huge cluster, with 1.5 million cores. I loved his analogies: if you are painting your house, having a friend or two over to help will reduce the time by the expected factor, but having 1000 friends or 100k friends to help? In parallel computing, you need to rethink what you&amp;rsquo;ll use the computers for.&lt;/p&gt;
&lt;p&gt;His second analogy: The DOE cluster at Livermore is 100k times a desktop computer. That&amp;rsquo;s like the difference between &lt;a href=&#34;https://en.wikipedia.org/wiki/Pac-Man&#34;&gt;PacMan&lt;/a&gt; (1980, 2.1 megaFLOPS) to &lt;a href=&#34;https://en.wikipedia.org/wiki/Assassin%27s_Creed&#34;&gt;Assassin&amp;rsquo;s Creed&lt;/a&gt; (2011, 260 GigaFLOPS). And their cluster is 100k times &lt;em&gt;that&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;At the end of the day, &lt;a href=&#34;https://en.wikipedia.org/wiki/Daphne_Koller&#34;&gt;Daphne Koller&lt;/a&gt; talked about &lt;a href=&#34;https://www.coursera.org&#34;&gt;Coursera&lt;/a&gt;. She&amp;rsquo;s awesome; Coursera&amp;rsquo;s awesome; I&amp;rsquo;m a crappy teacher. That&amp;rsquo;s my thinking at the moment, anyway. (&lt;a href=&#34;https://meetings.aaas.org/live-video-stream/?utm_source=redirect&amp;amp;utm_medium=visual-link&amp;amp;utm_campaign=opp_am15stream#x&#34;&gt;A video of her talk is online&lt;/a&gt;. Have I mentioned how much I hate it when people screw up the aspect ratio? It seems like they screwed up the aspect ratio.) University faculty exist to help people, and with Coursera and other MOOCs, we can help &lt;em&gt;a lot&lt;/em&gt; of people. Key lessons: the value of peer grading (for &lt;em&gt;learning&lt;/em&gt;), not being constrained by the classroom or the 60-min format, ability to explore possible teaching innovations, and just having a &lt;em&gt;hugely&lt;/em&gt; broad reach.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t think I&amp;rsquo;d heard the quote that Daphne mentioned, &lt;a href=&#34;https://quoteinvestigator.com/2012/08/17/lecture-minds/&#34;&gt;attributed to&lt;/a&gt; &lt;a href=&#34;https://en.wikipedia.org/wiki/Edwin_Emery_Slosson&#34;&gt;Edwin Emery Slosson&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;College is a place where a professor&amp;rsquo;s lecture notes go straight to the students&#39; lecture notes, without passing through the brains of either.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Still laughing!&lt;/p&gt;
&lt;h3 id=&#34;food&#34;&gt;Food&lt;/h3&gt;
&lt;p&gt;As I &lt;a href=&#34;https://twitter.com/kwbroman/status/566423868265353216&#34;&gt;mentioned on twitter&lt;/a&gt;, I&amp;rsquo;ve eaten &lt;em&gt;a lot&lt;/em&gt; of tacos. But I also had &lt;a href=&#34;https://twitter.com/kwbroman/status/566263267048161281&#34;&gt;some donuts&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;boy-am-i-_old_&#34;&gt;Boy, am I &lt;em&gt;old&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;I seem to be staying at the same hotel as the &lt;a href=&#34;https://en.wikipedia.org/wiki/American_Junior_Academy_of_Sciences&#34;&gt;American Junior Academy of Sciences (AJAS)&lt;/a&gt;. Are these high school or college students? Man, do I feel old.&lt;/p&gt;
&lt;p&gt;My contribution to education, today: if all of the elevators going down are too packed to accept passengers, press the &lt;em&gt;up&lt;/em&gt; button and ride it up and then down. (Later I learned, from one of the AJAS youth, that the &amp;ldquo;alarm will sound&amp;rdquo; sign at the bottom of the stairs is a lie. You &lt;em&gt;can&lt;/em&gt; take the stairs.)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Initial steps towards reproducible research</title>
      <link>/2014/12/04/initial-steps-towards-reproducible-research/</link>
      <pubDate>Thu, 04 Dec 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/12/04/initial-steps-towards-reproducible-research/</guid>
      <description>&lt;p&gt;In anticipation of next week&amp;rsquo;s &lt;a href=&#34;https://github.com/Reproducible-Science-Curriculum/Reproducible-Science-Hackathon-Dec-08-2014&#34;&gt;Reproducible Science Hackathon&lt;/a&gt; at &lt;a href=&#34;https://www.nescent.org/&#34;&gt;NESCent&lt;/a&gt;, I was thinking about &lt;a href=&#34;https://twitter.com/cbahlai&#34;&gt;Christie Bahlai&lt;/a&gt;&amp;rsquo;s post on &amp;ldquo;&lt;a href=&#34;https://practicaldatamanagement.wordpress.com/2014/10/23/baby-steps-for-the-open-curious/&#34;&gt;Baby steps for the open-curious&lt;/a&gt;.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Moving from Ye Olde Standard Computational Science Practice to a fully reproducible workflow seems a monumental task, but partially reproducible is better than not-at-all reproducible, and it&amp;rsquo;d be good to give people some advice on how to get started - to encourage them to get started.&lt;/p&gt;
&lt;p&gt;So, I spent some time today writing another of my &lt;a href=&#34;https://kbroman.org/tutorials&#34;&gt;minimal tutorials&lt;/a&gt;, on &lt;a href=&#34;https://kbroman.org/steps2rr&#34;&gt;initial steps towards reproducible research&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a bit rough, and it could &lt;em&gt;really&lt;/em&gt; use some examples, but it helped me to get my thoughts together for the &lt;a href=&#34;https://github.com/Reproducible-Science-Curriculum/Reproducible-Science-Hackathon-Dec-08-2014&#34;&gt;Hackathon&lt;/a&gt; and hopefully will be useful to people (and something to build upon).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The value of thesis intro/discussion</title>
      <link>/2014/12/03/the-value-of-thesis-introdiscussion/</link>
      <pubDate>Wed, 03 Dec 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/12/03/the-value-of-thesis-introdiscussion/</guid>
      <description>&lt;p&gt;Last week, &lt;a href=&#34;https://twitter.com/FuSchmu&#34;&gt;Kelly Weinersmith&lt;/a&gt; &lt;a href=&#34;https://twitter.com/FuSchmu/status/536909452457172992&#34;&gt;tweeted&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Is any task a more monumental waste of time than writing an introduction and discussion for a dissertation where the chapters are published?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think many (or most?) of my colleagues would agree with her. The research and the papers are the important things, and theses are hardly read. Why spend time writing chapters that won&amp;rsquo;t be read?&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/kwbroman/status/536961364166979584&#34;&gt;My response&lt;/a&gt; was:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Intro &amp;amp; disc of thesis get the student to think about the broader context of their work.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;d like to expand on that just a bit.&lt;/p&gt;
&lt;p&gt;In the old days, a PhD dissertation was more of a monograph. The new style is to have three or so papers (published or ready-to-submit) as chapters, sandwiched between introductory and discussion chapters. Those intro and discussion chapters are sometimes quite thin. I would prefer them to be more substantial.&lt;/p&gt;
&lt;p&gt;The focus on papers is a good thing, as they will be easier to find and more widely read. But a thesis/dissertation is not just a research product, but also a vehicle to get a student to think more deeply and broadly.&lt;/p&gt;
&lt;p&gt;The individual papers will include introductory and discussion sections, but journal articles tend to be aimed towards a relatively narrow and specialized audience. More substantive introductory and discussion chapters can help to make the work accessible to a broader audience. They also help to tie the separate papers together: what is the larger scientific context, and how do these pieces of work fit into that?&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t want students wasting time on &amp;ldquo;busy work,&amp;rdquo; and writing a thesis &lt;em&gt;does&lt;/em&gt; seem like busy work. But I think a thesis deserves more than a ten-paragraph introduction. And the value of that introduction is not so much in demonstrating the student&amp;rsquo;s knowledge, but in being part of the development of that knowledge.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Car crash stats revisited: My measurement errors</title>
      <link>/2014/11/03/car-crash-stats-revisited-my-measurement-errors/</link>
      <pubDate>Mon, 03 Nov 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/11/03/car-crash-stats-revisited-my-measurement-errors/</guid>
      <description>&lt;p&gt;Last week, I &lt;a href=&#34;https://kbroman.org/blog/2014/10/29/improved-graphs-of-car-crash-stats/&#34;&gt;created revised versions&lt;/a&gt; of graphs of car crash statistics by state (including &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/car_crashes/&#34;&gt;an interactive version&lt;/a&gt;), from &lt;a href=&#34;https://fivethirtyeight.com/datalab/which-state-has-the-worst-drivers/&#34;&gt;a post&lt;/a&gt; by &lt;a href=&#34;https://fivethirtyeight.com/contributors/mona-chalabi/&#34;&gt;Mona Chalabi&lt;/a&gt; at &lt;a href=&#34;https://fivethirtyeight.com/&#34;&gt;538&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Since I was working on those at the last minute in the middle of the night, to be included as an example in a lecture &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/graphs_MDPhD2014.pdf&#34;&gt;on creating effective figures and tables&lt;/a&gt;, I just read the data off printed versions of the bar charts, using a ruler.&lt;/p&gt;
&lt;p&gt;I later emailed &lt;a href=&#34;https://fivethirtyeight.com/contributors/mona-chalabi&#34;&gt;Mona Chalabi&lt;/a&gt;, and she and &lt;a href=&#34;https://fivethirtyeight.com/contributors/andrew-flowers/&#34;&gt;Andrew Flowers&lt;/a&gt; quickly posted the data to &lt;a href=&#34;https://github.com/fivethirtyeight/data/tree/master/bad-drivers&#34;&gt;&lt;code&gt;github.com/fivethirtyeight/data&lt;/code&gt;&lt;/a&gt;. (That repository has a lot of interesting data, and if you see data at 538 that you&amp;rsquo;re interested in, just ask them!)&lt;/p&gt;
&lt;p&gt;I was curious to look at how I&amp;rsquo;d done with my measurements and data entry. Here&amp;rsquo;s a plot of my percent errors:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/11/crashstats_errors.png&#34; alt=&#34;Percent measurement errors in Karl&amp;rsquo;s car crash stats&#34;&gt;&lt;/p&gt;
&lt;p&gt;Not too bad, really. Here are the biggest problems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Mississippi, non-distracted: off by 6%, but that corresponded to 0.5 mm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rhode Island and Ohio, speeding: off by 40 and 35%, respectively. I&amp;rsquo;d written down 8 and 9 mm rather than 13 and 14 mm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Maine and Indiana, alcohol: wrote 15.5 and 14.5 mm, but typed 13.5 and 13 mm. In the former, I think I just misinterpreted my writing; in the latter, I think I wrote the number for the state below (Iowa).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It&amp;rsquo;s also interesting to note that my &amp;ldquo;total&amp;rdquo; and &amp;ldquo;non-distracted&amp;rdquo; were almost entirely under-estimates: probably an error in the measurement of the overall width of the bar chart.&lt;/p&gt;
&lt;p&gt;Also note: &lt;a href=&#34;https://twitter.com/brycem&#34;&gt;@brycem&lt;/a&gt; had recommended using &lt;a href=&#34;https://automeris.io/WebPlotDigitizer/&#34;&gt;WebPlotDigitizer&lt;/a&gt; for digitizing data from images.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interactive plot of car crash stats</title>
      <link>/2014/10/30/interactive-plot-of-car-crash-stats/</link>
      <pubDate>Thu, 30 Oct 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/10/30/interactive-plot-of-car-crash-stats/</guid>
      <description>&lt;p&gt;I spent the afternoon making a &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;-based &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/car_crashes&#34;&gt;interactive version&lt;/a&gt; of the graphs of car crash statistics by state that I&amp;rsquo;d &lt;a href=&#34;https://kbroman.org/blog/2014/10/29/improved-graphs-of-car-crash-stats/&#34;&gt;discussed yesterday&lt;/a&gt;: my attempt to improve on the graphs in &lt;a href=&#34;https://twitter.com/monachalabi&#34;&gt;Mona Chalabi&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://fivethirtyeight.com/datalab/which-state-has-the-worst-drivers/&#34;&gt;post at 538&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/car_crashes&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/interactive_car_crashes.png&#34; alt=&#34;Screen shot of interactive graph of car crash statistics&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See it in action &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/car_crashes&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Code &lt;a href=&#34;https://github.com/kbroman/d3examples/tree/master/car_crashes&#34;&gt;on github&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Scholarly Publishing Symposium at UW-Madison</title>
      <link>/2014/10/30/scholarly-publishing-symposium-at-uw-madison/</link>
      <pubDate>Thu, 30 Oct 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/10/30/scholarly-publishing-symposium-at-uw-madison/</guid>
      <description>&lt;p&gt;At the &lt;a href=&#34;http://go.wisc.edu/publishing-symposium&#34;&gt;Scholarly Publishing Symposium&lt;/a&gt; at UW-Madison today. Has interesting list of supplemental materials, but apparently only on paper:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/img_3422.jpg&#34; alt=&#34;Supplemental materials from UW-Madison Scholarly Publishing Symposium&#34;&gt;&lt;/p&gt;
&lt;p&gt;So here they are electronically.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/l7k7vt&#34;&gt;Know your Copy Rights, Association of Research Libraries&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/181xyi&#34;&gt;Optimize Your Publishing, The Right to Research Coalition&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/904z4t&#34;&gt;Right to Research, The Right to Research Coalition&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/39ef9o&#34;&gt;About SPARC (Scholarly Publishing and Academic Research Coalition)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/74guz3&#34;&gt;Open Data Factsheet, SPARC&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/9980c2&#34;&gt;Open Education Factsheet, SPARC&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/iqg0jj&#34;&gt;Open Access to Scholarly and Scientific Research Articles, SPARC&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://go.wisc.edu/fl0kop&#34;&gt;SPARC Author Addendum&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Improved graphs of car crash stats</title>
      <link>/2014/10/29/improved-graphs-of-car-crash-stats/</link>
      <pubDate>Wed, 29 Oct 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/10/29/improved-graphs-of-car-crash-stats/</guid>
      <description>&lt;p&gt;Last week, &lt;a href=&#34;https://twitter.com/MonaChalabi&#34;&gt;Mona Chalabi&lt;/a&gt; wrote &lt;a href=&#34;https://fivethirtyeight.com/datalab/which-state-has-the-worst-drivers/&#34;&gt;an interesting post on car crash statistics by state&lt;/a&gt;, at &lt;a href=&#34;https://fivethirtyeight.com/&#34;&gt;fivethirtyeight.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I didn&amp;rsquo;t like the figures so much, though. There were a number of them like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/chalabi-dearmona-drinking.png&#34; alt=&#34;chalabi-dearmona-drinking&#34;&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m giving a talk today about data visualization [&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/graphs_MDPhD2014.pdf&#34;&gt;slides&lt;/a&gt; | &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs/tree/MDPhD2014&#34;&gt;github&lt;/a&gt;], and I thought this would make a good example, so I spent some time creating versions that I like better.&lt;/p&gt;
&lt;p&gt;There are two basic issues with Mona Chalabi&amp;rsquo;s graphs. First, you almost &lt;em&gt;never&lt;/em&gt; want to use alphabetical order. It&amp;rsquo;s useful for finding particular states, but it&amp;rsquo;s not useful for anything else. (Howard Wainer calls this &amp;ldquo;Austria first!&amp;rdquo; See, e.g., &lt;a href=&#34;https://www.sagepub.com/gray/Website%20material/Journals/er_wainer.pdf&#34;&gt;this paper&lt;/a&gt;.) If you order the states by one of the variables (e.g., by the total collisions per billion miles), you can better identify important patterns.&lt;/p&gt;
&lt;p&gt;Second, the separate figures make comparisons difficult. It would be better to put everything side-by-side. Even better is to do some scatterplots.&lt;/p&gt;
&lt;p&gt;(We shouldn&amp;rsquo;t be too hard on Mona Chalabi, though. Yesterday &lt;a href=&#34;https://twitter.com/MonaChalabi/status/527121946073632768&#34;&gt;she tweeted a great illustration of the suckiness of pie charts&lt;/a&gt;, which I&amp;rsquo;m also using as an example in my lecture today.)&lt;/p&gt;
&lt;h3 id=&#34;dot-plots&#34;&gt;Dot plots&lt;/h3&gt;
&lt;p&gt;I started with a set of side-by-side dot plots, with states ordered by total collisions per billion miles:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/dotplots.png&#34; alt=&#34;Dot plots of crash statistics&#34;&gt;&lt;/p&gt;
&lt;p&gt;The design was inspired by the figures in &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/142007573X/7210-20&#34;&gt;Visualizing data patterns with micromaps&lt;/a&gt; (Carr and Pickle, 2010). (I&amp;rsquo;m a huge &lt;a href=&#34;https://mason.gmu.edu/~dcarr/&#34;&gt;Dan Carr&lt;/a&gt; fan.)&lt;/p&gt;
&lt;p&gt;Sorting the states by the first variable allows you to more easily pick out the states with the highest (and lowest) rates of car crashes. (Note that these are just car crashes &lt;em&gt;with fatalities&lt;/em&gt;.) And you can more easily see the associations among the different variables.&lt;/p&gt;
&lt;h3 id=&#34;scatterplots&#34;&gt;Scatterplots&lt;/h3&gt;
&lt;p&gt;If you&amp;rsquo;re interested in the associations among the variables, it&amp;rsquo;s best to look at scatterplots. Here are what I viewed to be the most interesting ones:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/scatterplots.png&#34; alt=&#34;Scatterplots of car crash stats&#34;&gt;&lt;/p&gt;
&lt;p&gt;The association between average insurance premiums and average insurance losses is now clear. And there&amp;rsquo;s an interesting pattern in the association between speeding-related crashes and total crashes. It&amp;rsquo;s like there are two groups of states: those with low speeding-related crashes and those with high speeding-related crashes.&lt;/p&gt;
&lt;p&gt;You can&amp;rsquo;t identify the states in this graph; it would be far better if it were interactive (ideally, linked to the dot chart and allowing &lt;a href=&#34;https://www.jstor.org/stable/1269768&#34;&gt;brushing&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&#34;the-data&#34;&gt;The data&lt;/h3&gt;
&lt;p&gt;It was a bit of a pain to get the data to make the revised plots. The &lt;a href=&#34;https://www-fars.nhtsa.dot.gov/Main/index.aspx&#34;&gt;National Highway Traffic Safety Administration&lt;/a&gt; has a lot of data, but I didn&amp;rsquo;t want to spend the time trying to make sense of it and extract the numbers.&lt;/p&gt;
&lt;p&gt;I considered trying to do some image analysis to figure out the lengths of the bars in the bar plots, but I don&amp;rsquo;t have much experience with that, so while it&amp;rsquo;d be a great thing to learn, it seemed like I wouldn&amp;rsquo;t be able to get it done in time.&lt;/p&gt;
&lt;p&gt;So I used the old-fashioned method: print the graphs and measure the bars with a ruler.  Here&amp;rsquo;s a scan of some of my measurements (click on it to see the larger version).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/10/via_ruler.png&#34; alt=&#34;Digitizing car crash stats with a ruler&#34;&gt;&lt;/p&gt;
&lt;p&gt;Data entry was another not-quite-how-I-want-my-scientific-collaborators-to-be-doing-this aspect. The data are &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs/blob/MDPhD2014/Crashes/data.R&#34;&gt;here&lt;/a&gt;, as R code, in the most tedious possible form. And surely there are errors.&lt;/p&gt;
&lt;h3 id=&#34;the-code&#34;&gt;The code&lt;/h3&gt;
&lt;p&gt;The code to make the dotplots is &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs/blob/MDPhD2014/Crashes/plot.R&#34;&gt;here&lt;/a&gt;; the code to make the scatterplots is &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs/blob/MDPhD2014/Crashes/scatterplots.R&#34;&gt;here&lt;/a&gt;. Not the prettiest, and uses base graphics not the recommended &lt;a href=&#34;http://ggplot2.org&#34;&gt;ggplot2&lt;/a&gt;, and with the &lt;code&gt;grayplot&lt;/code&gt; function in my &lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt; package.&lt;/p&gt;
&lt;h3 id=&#34;update&#34;&gt;Update&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://fivethirtyeight.com/contributors/mona-chalabi/&#34;&gt;Mona Chalabi&lt;/a&gt; and &lt;a href=&#34;https://fivethirtyeight.com/contributors/andrew-flowers/&#34;&gt;Andrew Flowers&lt;/a&gt; posted the data at &lt;a href=&#34;https://github.com/fivethirtyeight/data/tree/master/bad-drivers&#34;&gt;&lt;code&gt;github.com/fivethirtyeight/data&lt;/code&gt;&lt;/a&gt;. I discuss the errors in my ruler-based measurements &lt;a href=&#34;https://kbroman.org/blog/2014/11/03/car-crash-stats-revisited-my-measurement-errors/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Error notifications from R</title>
      <link>/2014/09/04/error-notifications-from-r/</link>
      <pubDate>Thu, 04 Sep 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/09/04/error-notifications-from-r/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m enthusiastic about having &lt;a href=&#34;https://kbroman.org/blog/2014/09/03/notifications-from-r/&#34;&gt;R notify me when my script is done&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But among my early uses of this, my script threw an error, and I never got a text or &lt;a href=&#34;https://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt; about &lt;em&gt;that&lt;/em&gt;. And really, I&amp;rsquo;m even more interested in being notified about such errors than anything else.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s relatively easy to get notified of errors. At the top of your script, include code like &lt;code&gt;options(error = function() { } )&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Fill in the function with your notification code. If there&amp;rsquo;s an error, the error message will be printed and then that function will be called. (And then the script will halt.)&lt;/p&gt;
&lt;p&gt;You can use &lt;code&gt;geterrmessage()&lt;/code&gt; to grab the error message to include in your notification.&lt;/p&gt;
&lt;p&gt;For example, if you want to use &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;RPushbullet&lt;/a&gt; for the notification, you could put, at the top of your script, something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;options(error = function() {
                    library(RPushbullet)
                    pbPost(&amp;quot;note&amp;quot;, &amp;quot;Error&amp;quot;, geterrmessage())
                })
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then if the script gives an error, you&amp;rsquo;ll get a note with title &amp;ldquo;Error&amp;rdquo; and with the error message as the body of the note.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: I knew I&amp;rsquo;d heard about this sort of thing somewhere, but I couldn&amp;rsquo;t remember where. Duh; &lt;a href=&#34;https://twitter.com/rabaath/&#34;&gt;Rasmus&lt;/a&gt; &lt;a href=&#34;https://twitter.com/rabaath/status/507087947041357825&#34;&gt;mentioned it on twitter&lt;/a&gt; just a couple of days ago! Fortunately, he reminded me of that in the comments below.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Another update&lt;/strong&gt;: Ian Kyle pointed out in the comments that the above function, if used in a script run with &lt;code&gt;R CMD BATCH&lt;/code&gt;, won&amp;rsquo;t actually halt the script. The simplest solution is to add &lt;code&gt;stop(geterrmessage())&lt;/code&gt;, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;options(error = function() {
                    library(RPushbullet)
                    pbPost(&amp;quot;note&amp;quot;, &amp;quot;Error&amp;quot;, geterrmessage())
                    if(!interactive()) stop(geterrmessage())
                })
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Notifications from R</title>
      <link>/2014/09/03/notifications-from-r/</link>
      <pubDate>Wed, 03 Sep 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/09/03/notifications-from-r/</guid>
      <description>&lt;p&gt;You just sent a long &lt;a href=&#34;http://www.r-project.org&#34;&gt;R&lt;/a&gt; job running. How to know when it&amp;rsquo;s done? Have it notify you by &lt;a href=&#34;https://github.com/rasmusab/beepr&#34;&gt;beeping&lt;/a&gt;, &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;sending you a text&lt;/a&gt;, or &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;sending you a notification&lt;/a&gt; &lt;a href=&#34;http://pushbullet.com&#34;&gt;via pushbullet&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;beeprhttpsgithubcomrasmusabbeepr&#34;&gt;&lt;a href=&#34;https://github.com/rasmusab/beepr&#34;&gt;&lt;code&gt;beepr&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You can use &lt;a href=&#34;http://www.sumsar.net/&#34;&gt;Rasmus Baath&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/rasmusab/beepr&#34;&gt;beepr&lt;/a&gt; package to have your computer play a sound.&lt;/p&gt;
&lt;p&gt;Install it from &lt;a href=&#34;http://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt; with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;beepr&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Then, at the bottom of your script, load the package and have it beep.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(beepr)
beep()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/rasmusab/beepr&#34;&gt;beepr&lt;/a&gt; comes with a bunch of different sounds (e.g., try &lt;code&gt;beep(&amp;quot;facebook&amp;quot;)&lt;/code&gt;), or use a path to any wav file. I tried &lt;a href=&#34;http://www.kessels.com/CatSounds/&#34;&gt;these cat sounds&lt;/a&gt;, but they came out (with my computer&amp;rsquo;s speaker) sounding more like a really unhappy electronic lion&amp;hellip;not very pleasant.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/rasmusab/beepr&#34;&gt;beepr&lt;/a&gt; is cool, but most of my long-running jobs are on a distant server. It could be useful for local jobs on my Mac, but most of the time my computer is muted or the sound goes to my headphones (and my headphones are not always on my head). So I&amp;rsquo;m instead having my scripts send me a text or a notification via &lt;a href=&#34;http://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;gmailrhttpsgithubcomtrinkergmailr&#34;&gt;&lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;&lt;code&gt;gmailR&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;There are a number of different packages for sending email from R (e.g., &lt;a href=&#34;http://cran.r-project.org/web/packages/sendmailR/index.html&#34;&gt;sendmailR&lt;/a&gt; and &lt;a href=&#34;http://cran.r-project.org/web/packages/mailR/index.html&#34;&gt;mailR&lt;/a&gt;). I tried &lt;a href=&#34;http://trinkerrstuff.wordpress.com/&#34;&gt;Tyler Rinker&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;gmailR&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;You can send yourself an email using the &lt;code&gt;gmail()&lt;/code&gt; function. And since most cell phone companies have a method for sending a text via email, you can use this same function to send yourself a text. &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;gmailR&lt;/a&gt; includes a function &lt;code&gt;cell2email()&lt;/code&gt; that will help you figure out the appropriate email address to use, to send a text to your phone.&lt;/p&gt;
&lt;p&gt;The only problem with &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;gmailR&lt;/a&gt; is that you have to pass your gmail account and password to the &lt;code&gt;gmail()&lt;/code&gt; function, and you don&amp;rsquo;t really want to have that stuff sitting in your R script.&lt;/p&gt;
&lt;p&gt;So I wrote a little package &lt;a href=&#34;https://github.com/kbroman/mygmailR&#34;&gt;mygmailR&lt;/a&gt;, that will instead pull your private information from a file (&lt;code&gt;~/.gmail_private&lt;/code&gt;). I set up a separate &lt;a href=&#34;https://mail.google.com&#34;&gt;gmail&lt;/a&gt; account for this purpose, and I set the security settings to use &lt;a href=&#34;https://support.google.com/accounts/answer/185833?hl=en&#34;&gt;app-specific passwords&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;My &lt;code&gt;~/.gmail_private&lt;/code&gt; file looks like the following: app-specific gmail password, gmail account to be the default &amp;ldquo;from&amp;rdquo; email address (perhaps special for this purpose), the email address to use to send a text, and the default &amp;ldquo;to&amp;rdquo; email (which is my usual gmail account).&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;password my_private_app_specific_password
gmail    my_gmail_account@gmail.com
text     0123456789@txt.att.net
to       default_to@gmail.com
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You need to install a few packages. &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;gmailR&lt;/a&gt; and &lt;a href=&#34;https://github.com/kbroman/mygmailR&#34;&gt;mygmailR&lt;/a&gt; are not available on &lt;a href=&#34;http://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;, so you need to install &lt;a href=&#34;https://github.com/hadley/devtools&#34;&gt;devtools&lt;/a&gt; and use the &lt;code&gt;install_github()&lt;/code&gt; function to install them from &lt;a href=&#34;http://github.com&#34;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;install.packages(c(&amp;quot;devtools&amp;quot;, &amp;quot;rJython&amp;quot;, &amp;quot;rJava&amp;quot;, &amp;quot;rjson&amp;quot;))
library(devtools)
install_github(&amp;quot;trinker/gmailR&amp;quot;)
install_github(&amp;quot;kbroman/mygmailR&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In your script, to send yourself a text, you&amp;rsquo;d write&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(mygmailR)
send_text(&amp;quot;subject here&amp;quot; &amp;quot;body of message here&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;To send yourself an email, write&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(mygmailR)
send_gmail(&amp;quot;subject here&amp;quot;, &amp;quot;body of message here&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;rpushbullethttpsgithubcomeddelbuettelrpushbullet&#34;&gt;&lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;&lt;code&gt;RPushbullet&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Another alternative (suggested to me by &lt;a href=&#34;https://twitter.com/PeteHaitch/status/507073412842278913&#34;&gt;Peter Hickey&lt;/a&gt; and &lt;a href=&#34;https://twitter.com/jknowles/status/507152898674143232&#34;&gt;Jared Knowles&lt;/a&gt;) is to use &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;RPushbullet&lt;/a&gt; package to send yourself a notification via &lt;a href=&#34;http://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The main advantage of this, in my mind, is that there&amp;rsquo;s no gmail password sitting around on your system anywhere, but rather just your &lt;a href=&#34;http://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt; &amp;ldquo;Access Token&amp;rdquo;, sitting in the file &lt;code&gt;~/.rpushbullet.json&lt;/code&gt;, so this is less of a security issue.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Sign up for &lt;a href=&#34;http://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt;; you&amp;rsquo;ll need a &lt;a href=&#34;http://www.google.com&#34;&gt;Google&lt;/a&gt; account.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the pushbullet app on your phone or other device, or install the chrome extension.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;a href=&#34;https://www.pushbullet.com/account&#34;&gt;your pushbullet account page&lt;/a&gt; to get your &amp;ldquo;Access Token&amp;rdquo;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;RPushbullet&lt;/a&gt; package from CRAN.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;RPushbullet&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Create a &lt;code&gt;~/.rpushbullet.json&lt;/code&gt; file with your api key and not much else.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;{
    &amp;quot;key&amp;quot;: &amp;quot;your_api_key&amp;quot;,
    &amp;quot;devices&amp;quot;: [],
    &amp;quot;names&amp;quot;: []
}
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Install &lt;a href=&#34;http://cran.r-project.org/package=jsonlite&#34;&gt;jsonlite&lt;/a&gt; and use &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;RPushbullet&lt;/a&gt;&amp;rsquo;s &lt;code&gt;pbGetDevices()&lt;/code&gt; function to get the identifiers for the devices you&amp;rsquo;ve registered with &lt;a href=&#34;http://pushbullet.com&#34;&gt;pushbullet&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;jsonlite&amp;quot;)
library(jsonlite)
library(RPushbullet)
fromJSON(pbGetDevices())$devices[,c(&amp;quot;iden&amp;quot;, &amp;quot;nickname&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;Insert those device identifiers into your &lt;code&gt;~/.rpushbullet.json&lt;/code&gt; file.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;{
    &amp;quot;key&amp;quot;: &amp;quot;your_api_key&amp;quot;,

    &amp;quot;devices&amp;quot;: [
        &amp;quot;your_phone_device_id&amp;quot;,
        &amp;quot;your_tablet_device_id&amp;quot;,
        &amp;quot;your_chrome_device_id&amp;quot;;
    ],

    &amp;quot;names&amp;quot;: [
        &amp;quot;phone&amp;quot;,
        &amp;quot;tablet&amp;quot;,
        &amp;quot;Chrome&amp;quot;;
    ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now you&amp;rsquo;re set!  Use the &lt;code&gt;pbPost()&lt;/code&gt; function to post a message to yourself.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(RPushbullet)
pbPost(&amp;quot;note&amp;quot;, &amp;quot;Title of note&amp;quot;, &amp;quot;Body of message&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;By default, the message is posted to the first device listed in your &lt;code&gt;~/.rpushbullet.json&lt;/code&gt; file; to post it to a different device, use the argument &lt;code&gt;deviceind&lt;/code&gt;, which takes a positive integer.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m still somewhat inclined towards using &lt;a href=&#34;https://github.com/trinker/gmailR&#34;&gt;gmailR&lt;/a&gt; and &lt;a href=&#34;https://github.com/kbroman/mygmailR&#34;&gt;mygmailR&lt;/a&gt; to send myself a text, but &lt;a href=&#34;https://github.com/eddelbuettel/rpushbullet&#34;&gt;RPushbullet&lt;/a&gt; seems more secure.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: The &lt;a href=&#34;https://twitter.com/hadleywickham/status/507192305816567808&#34;&gt;word from Hadley&lt;/a&gt;: we should also check out &lt;a href=&#34;https://github.com/jimhester/gmailr&#34;&gt;gmailr&lt;/a&gt;. [But you &lt;a href=&#34;https://github.com/jimhester/gmailr/issues/5&#34;&gt;can&amp;rsquo;t currently send email&lt;/a&gt; with &lt;a href=&#34;https://github.com/jimhester/gmailr&#34;&gt;gmailr&lt;/a&gt;.]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The mustache photo</title>
      <link>/2014/08/28/the-mustache-photo/</link>
      <pubDate>Thu, 28 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/08/28/the-mustache-photo/</guid>
      <description>&lt;p&gt;A certain photo of me has been following me around for some time.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/moustache.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p class=&#34;caption&#34;&gt;Karl with a mustache, 15 Nov 2002&lt;/p&gt;
&lt;p&gt;The thing is &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/moustache.jpg&#34;&gt;sitting on my website&lt;/a&gt;, so I suppose I have only myself to blame. I actually quite like the photo. I look happy. I &lt;em&gt;was&lt;/em&gt; happy. I&amp;rsquo;m not always happy.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s shown up in a lot of talks, particularly by &lt;a href=&#34;https://rafalab.github.io&#34;&gt;a certain friend of mine&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It &lt;a href=&#34;https://twitter.com/StrictlyStat/status/495240349225607169&#34;&gt;appeared on the seminar board&lt;/a&gt; at &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostat&lt;/a&gt; earlier this month. Perhaps it&amp;rsquo;s &lt;a href=&#34;https://twitter.com/simplystats/status/505066800842047488&#34;&gt;still there&lt;/a&gt;. (&lt;a href=&#34;https://twitter.com/simplystats/status/505066800842047488&#34;&gt;My own innocent comments&lt;/a&gt; prompt some of this.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://hilaryparker.com&#34;&gt;Hilary Parker&lt;/a&gt; confirmed:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/sgrifter?ref_src=twsrc%5Etfw&#34;&gt;@sgrifter&lt;/a&gt; &lt;a href=&#34;https://twitter.com/kwbroman?ref_src=twsrc%5Etfw&#34;&gt;@kwbroman&lt;/a&gt; &lt;a href=&#34;https://twitter.com/_inundata?ref_src=twsrc%5Etfw&#34;&gt;@_inundata&lt;/a&gt; &lt;a href=&#34;https://twitter.com/simplystats?ref_src=twsrc%5Etfw&#34;&gt;@simplystats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/StrictlyStat?ref_src=twsrc%5Etfw&#34;&gt;@StrictlyStat&lt;/a&gt; like if there was no pizza for computing club, &amp;quot;no pizza&amp;quot; would link to this photo&lt;/p&gt;&amp;mdash; Hilary Parker (@hspter) &lt;a href=&#34;https://twitter.com/hspter/status/505091356822609922?ref_src=twsrc%5Etfw&#34;&gt;August 28, 2014&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;


&lt;p&gt;It seems time to tell the story behind the photo. This will probably be longer than it should be. But I&amp;rsquo;ve included photos of cats.&lt;/p&gt;
&lt;h3 id=&#34;movember&#34;&gt;Movember&lt;/h3&gt;
&lt;p&gt;I think November, 2002, was the first time that a group of young &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostat&lt;/a&gt; faculty participated in the &lt;a href=&#34;https://us.movember.com/&#34;&gt;Movember Campaign&lt;/a&gt;, in which guys shave and then grow a mustache (or moustache) for a month.&lt;/p&gt;
&lt;p&gt;For various reasons, I didn&amp;rsquo;t actually participate. Among the least important: I had a &lt;a href=&#34;https://en.wikipedia.org/wiki/Van_Dyke_beard&#34;&gt;Van Dyke&lt;/a&gt; at the time. It probably took me a couple of months to grow the thing, so damned if I was going to shave it off.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/van_dyke.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p class=&#34;caption&#34;&gt;Karl with a Van Dyke beard (playing with Francis), 10 Nov 2002&lt;/p&gt;
&lt;p&gt;(There was a big controversy during the competition. &lt;a href=&#34;https://rafalab.github.io&#34;&gt;Rafa&lt;/a&gt; was growing an impressive handlebar mustache, but it was revealed that on weekends or when traveling, he&amp;rsquo;d grow out the bit on his chin, so that it wouldn&amp;rsquo;t be a proper mustache anymore. I believe he was disqualified.)&lt;/p&gt;
&lt;h3 id=&#34;a-beard-trimming-incident&#34;&gt;A beard-trimming incident&lt;/h3&gt;
&lt;p&gt;Now, I thought the whole &lt;a href=&#34;https://us.movember.com/&#34;&gt;Movember&lt;/a&gt; thing went from Nov 1 to Nov 30. But this photo was taken 15 Nov 2002, and I recall that it was the last day of this &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostat&lt;/a&gt; competition. Actually, if you look at the &lt;a href=&#34;https://us.movember.com/about/history#2003&#34;&gt;history of Movember&lt;/a&gt;, it seems that &lt;em&gt;they&lt;/em&gt; started in 2003, so the Hopkins guys were ahead of their time. (And surely it was &lt;a href=&#34;http://www.bcaffo.com/&#34;&gt;Brian&lt;/a&gt; who was responsible for this? As I recall, he was trying to introduce some Florida traditions, and &lt;a href=&#34;https://en.wikipedia.org/wiki/Mud_bogging&#34;&gt;mud bogging&lt;/a&gt; was viewed to be infeasible.) So maybe we went from Oct 15 to Nov 15?&lt;/p&gt;
&lt;p&gt;Anyway, it was the morning of 15 Nov 2002, and I had a bit of an accident with my beard trimmer – I forgot to use the guard or some such. And so I shaved off a big patch of the beard part. Well, it was the last day of the mustache competition, so I figured what the heck, I&amp;rsquo;ll shave it all off, except for the mustache. I think I was made an honorary participant.&lt;/p&gt;
&lt;h3 id=&#34;jhsph-happy-hour&#34;&gt;JHSPH Happy Hour&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jhsph.edu/departments/biochemistry-and-molecular-biology/&#34;&gt;Biochemistry&lt;/a&gt; graduate students organize a Happy Hour every Friday at the &lt;a href=&#34;https://www.jhsph.edu&#34;&gt;Johns Hopkins Bloomberg School of Public Health&lt;/a&gt;. The &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Biostat Faculty&lt;/a&gt; were enthusiastic participants. (As you may recall, Happy Hour was featured in the whole JHSPH logo saga; see parts &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;one&lt;/a&gt;, &lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2/&#34;&gt;two&lt;/a&gt;, and &lt;a href=&#34;https://kbroman.org/blog/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/&#34;&gt;three&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/moustache&#34;&gt;The photo&lt;/a&gt; was taken at Happy Hour. So that&amp;rsquo;s why I was happy. (There exists a dual photo of &lt;a href=&#34;http://www.biostat.jhsph.edu/~jmcgread/&#34;&gt;John McGready&lt;/a&gt;, who was a true participant in the competition. But, as I recall, it&amp;rsquo;s hard to detect the presence of a mustache in the photo of John, so it&amp;rsquo;s not gotten the same play.)&lt;/p&gt;
&lt;h3 id=&#34;wilmer-dinner&#34;&gt;Wilmer dinner&lt;/h3&gt;
&lt;p&gt;You may ask, &amp;ldquo;But why were you wearing a proper shirt and a sport coat? This was long after that incident with the Dean, where you were subsequently required to wear a proper shirt on a daily basis.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Well, my wife worked at the &lt;a href=&#34;https://www.hopkinsmedicine.org/wilmer/&#34;&gt;Wilmer Eye Institute&lt;/a&gt;, and we were going straight from Happy Hour to dinner with a group of her colleagues. I think it was in honor of some important visitor.&lt;/p&gt;
&lt;p&gt;Why bring this up? Well, at the dinner, I was sitting next to &lt;a href=&#34;https://webapps.jhu.edu/namedprofessorships/professorshipdetail.cfm?professorshipID=145&#34;&gt;Oliver Shein&lt;/a&gt;, and for reasons that I suspect you can infer quite well yourself, I was unusually exuberant, and I was telling him about the mustache competition. He asked me, &amp;ldquo;Is there a prize for the winner?&amp;rdquo; And I responded, &amp;ldquo;A really bad mustache!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;It was then that I realized the &lt;a href=&#34;https://www.hopkinsmedicine.org/profiles/results/directory/profile/0002003/oliver-schein&#34;&gt;Oliver Shein is a mustache guy&lt;/a&gt;. Oops.&lt;/p&gt;
&lt;h3 id=&#34;the-mustache-didnt-last-long&#34;&gt;The mustache didn&amp;rsquo;t last long&lt;/h3&gt;
&lt;p&gt;It seems like people think I was a mustache guy myself, from that photo. But it actually lasted just the one day.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/pictures/karl_and_fisher.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p class=&#34;caption&#34;&gt;Karl clean-shaven (with Fisher), 17 Nov 2002&lt;/p&gt;
&lt;h3 id=&#34;whats-really-shocking-about-the-photo&#34;&gt;What&amp;rsquo;s really shocking about the photo&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m not sure why my Hopkins friends are so fascinated by the photo. Possible explanations include&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the mustache&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;that I look happy&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;that I&amp;rsquo;m wearing a shirt with a collar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;that I&amp;rsquo;m wearing &lt;em&gt;a sport jacket&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;m just glad to have people thinking of me, even if I&amp;rsquo;m not entire sure what they&amp;rsquo;re thinking.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Yet another R package primer</title>
      <link>/2014/08/28/yet-another-r-package-primer/</link>
      <pubDate>Thu, 28 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/08/28/yet-another-r-package-primer/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://had.co.nz/&#34;&gt;Hadley Wickham&lt;/a&gt; is writing what will surely be a &lt;a href=&#34;http://r-pkgs.had.co.nz/&#34;&gt;great book&lt;/a&gt; about the basics of R packages. And &lt;a href=&#34;https://hilaryparker.com&#34;&gt;Hilary Parker&lt;/a&gt; wrote a &lt;a href=&#34;https://twitter.com/ErikaMudrak/status/504732734674444288&#34;&gt;very&lt;/a&gt; &lt;a href=&#34;https://twitter.com/polesasunder/status/504785818922131456&#34;&gt;influential&lt;/a&gt; &lt;a href=&#34;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch&#34;&gt;post on how to write an R package&lt;/a&gt;. So it seems like that topic is well covered.&lt;/p&gt;
&lt;p&gt;Nevertheless, I&amp;rsquo;d been thinking for some time that I should write another &lt;a href=&#34;https://kbroman.org/blog/2014/02/06/knitr-in-a-knutshell-tutorial/&#34;&gt;minimal tutorial with an alliterative name&lt;/a&gt;, on how to turn R code into a package. And it does seem valuable to have a diversity of resources on such an important topic. (R packages are the best way to distribute R code, or just to keep track of your own personal R code, as part of a reproducible research process.)&lt;/p&gt;
&lt;p&gt;So I&amp;rsquo;m going ahead with it, even though it doesn&amp;rsquo;t seem necessary: the &lt;a href=&#34;https://kbroman.org/pkg_primer&#34;&gt;R package primer&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s not completely done, but the &lt;a href=&#34;https://kbroman.org/pkg_primer&#34;&gt;basic stuff is there&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>If I could do it over again, I&#39;d self-publish</title>
      <link>/2014/08/12/if-i-could-do-it-over-again-id-self-publish/</link>
      <pubDate>Tue, 12 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/08/12/if-i-could-do-it-over-again-id-self-publish/</guid>
      <description>&lt;p&gt;In 2009, &lt;a href=&#34;http://www.epibiostat.ucsf.edu/biostat/sen/&#34;&gt;Śaunak Sen&lt;/a&gt; and I wrote a &lt;a href=&#34;https://rqtl.org&#34;&gt;book&lt;/a&gt; about QTL mapping and the &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; software. We started working on it in the fall of 2006, and it was a heck of a lot of work.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;d talked to several publishers, and ended up publishing with &lt;a href=&#34;https://springer.com&#34;&gt;Springer&lt;/a&gt;. John Kimmel was the editor we worked with; I like John, and I felt that Springer (or &lt;em&gt;John&lt;/em&gt;) did a good job of keeping prices reasonable. We were able to publish in full color with a list price of $99, so that on Amazon it was about $65. (In April, 2013, there was a brief period where &lt;a href=&#34;https://twitter.com/kwbroman/status/321747087744184320&#34;&gt;it was just $42 at Amazon&lt;/a&gt;!)&lt;/p&gt;
&lt;p&gt;Springer did arrange several rounds of reviews; they typically pay reviewers $100 or a few books. But the copy editing was terrible (at the very least, you want a copy editor to &lt;em&gt;read&lt;/em&gt; the book, and it was pretty clear that our copy editor &lt;em&gt;hadn&amp;rsquo;t&lt;/em&gt;), and the actual type-setting and construction of the index was left to us, the authors.&lt;/p&gt;
&lt;p&gt;It feels nice to have written a proper book, but I don&amp;rsquo;t think it makes that big of a difference, for me or for readers.&lt;/p&gt;
&lt;p&gt;And John Kimmel has since left Springer to go to Chapman &amp;amp; Hall/CRC, and Springer has raised the price of our book to &lt;a href=&#34;https://www.springer.com/life+sciences/systems+biology+and+bioinformatics/book/978-0-387-92124-2&#34;&gt;$169&lt;/a&gt;, so it&amp;rsquo;s now selling for &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/0387921249/7210-20&#34;&gt;$130 at Amazon&lt;/a&gt;. I think that&amp;rsquo;s &lt;em&gt;obnoxious&lt;/em&gt;. It&amp;rsquo;s not like they&amp;rsquo;ve gone back and printed extra copies, so it&amp;rsquo;s hard to see how their costs could have gone up. But in the publishing agreement we signed, we gave Springer full rights to set the price of the book.&lt;/p&gt;
&lt;p&gt;(&lt;strong&gt;Update&lt;/strong&gt;: it&amp;rsquo;s now listed at $199, though it&amp;rsquo;s still about $130 at Amazon.)&lt;/p&gt;
&lt;p&gt;I have a hard time recommending the book at that price; I&amp;rsquo;m tempted to help people find pirated PDFs online. (And seriously, if you can&amp;rsquo;t find a pirated copy, you should work on your internet skills.)&lt;/p&gt;
&lt;p&gt;I corresponded with an editor at Springer, on why our book has become so expensive and whether there&amp;rsquo;s anything we can do about it. They responded&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If we do a new edition, it could be listed as $129.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the book is adopted by university classes, &amp;ldquo;the pricing grid it is based on would have lower prices.&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Our book is available electronically, for purchase by chapter as well.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Purchase by chapter? Yeah, for &lt;a href=&#34;https://link.springer.com/book/10.1007/978-0-387-92125-9&#34;&gt;$30 per chapter!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Springer has &lt;a href=&#34;https://statweb.stanford.edu/~tibs/ElemStatLearn/&#34;&gt;published books and allowed the authors to post a PDF&lt;/a&gt;, but only for really big sellers, and ours is definitely not in that category.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m both disgusted and embarrassed by this situation. If I could do it all over again, I&amp;rsquo;d self-publish: post everything on the web, and arrange some way for folks to have it printed cheaply.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Testing an R package&#39;s interactive graphs</title>
      <link>/2014/08/01/testing-an-r-packages-interactive-graphs/</link>
      <pubDate>Fri, 01 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/08/01/testing-an-r-packages-interactive-graphs/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been working on an R package, &lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts&lt;/a&gt;, with &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;-based interactive graphs for quantitative trait locus mapping experiments.&lt;/p&gt;
&lt;p&gt;Testing the interactive charts it produces is a bit of a pain. It seems like I pretty much &lt;em&gt;have&lt;/em&gt; to just open a series of examples in a web browser and tab through them manually, checking that they look okay, that the interactions seem to work, and that they&amp;rsquo;re not giving any sort of errors.&lt;/p&gt;
&lt;p&gt;But if I want to post the package to &lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt;, it seems (from the &lt;a href=&#34;https://cran.r-project.org/web/packages/policies.html&#34;&gt;CRAN policy&lt;/a&gt;) that the examples in the &lt;code&gt;.Rd&lt;/code&gt; files shouldn&amp;rsquo;t be opening a web browser. Thus, I need to surround the example code with &lt;code&gt;\dontrun{}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But I was using those examples, and &lt;code&gt;R CMD check&lt;/code&gt;, to open the series of examples for manual checking.&lt;/p&gt;
&lt;p&gt;So, what I&amp;rsquo;ve decided to do:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Include examples opening a browser, but within &lt;code&gt;\dontrun{}&lt;/code&gt; so the browser isn&amp;rsquo;t opened in &lt;code&gt;R CMD check&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Also include examples that don&amp;rsquo;t open the browser, within &lt;code&gt;\dontshow{}&lt;/code&gt;, so that &lt;code&gt;R CMD check&lt;/code&gt; will at least check the basics.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write a &lt;a href=&#34;http://ruby-lang.org&#34;&gt;ruby&lt;/a&gt; script that pulls out all of the examples from the &lt;code&gt;.Rd&lt;/code&gt; files, stripping off the &lt;code&gt;\dontrun{}&lt;/code&gt; and &lt;code&gt;\dontshow{}&lt;/code&gt; and pasting it all into a &lt;code&gt;.R&lt;/code&gt; file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Periodically run &lt;code&gt;R CMD BATCH&lt;/code&gt; on that set of examples, to do the manual checking of the interactive graphs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This will always be a bit of a pain, but with this approach I can do my manual testing in a straightforward way and still fulfill the CRAN policies.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: &lt;a href=&#34;http://had.co.nz/&#34;&gt;Hadley Wickham&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hadleywickham/status/495535873711431681&#34;&gt;pointed me&lt;/a&gt; to &lt;strong&gt;&lt;code&gt;\donttest{}&lt;/code&gt;&lt;/strong&gt;, added in R ver 2.7 (in 2008). (More value from blog + twitter!)&lt;/p&gt;
&lt;p&gt;So I replaced my &lt;code&gt;\dontrun{}&lt;/code&gt; bits with &lt;code&gt;\donttest{}&lt;/code&gt;. And I can use &lt;code&gt;devtools::run_examples()&lt;/code&gt; to run all of the examples, for my manual checks.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>UseR 2014, days 3-4</title>
      <link>/2014/07/21/user-2014-days-3-4/</link>
      <pubDate>Mon, 21 Jul 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/07/21/user-2014-days-3-4/</guid>
      <description>&lt;p&gt;Three weeks ago, I&amp;rsquo;d &lt;a href=&#34;https://kbroman.org/blog/2014/07/02/2014-user-conference-days-1-2/&#34;&gt;commented on the first two days&lt;/a&gt; of the &lt;a href=&#34;https://user2014.r-project.org/&#34;&gt;UseR 2014 conference&lt;/a&gt;. I&amp;rsquo;m finally back to talk about the second half.&lt;/p&gt;
&lt;h4 id=&#34;dirk-eddelbuettel-on-rcpp&#34;&gt;Dirk Eddelbuettel on Rcpp&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt; gave a keynote on &lt;a href=&#34;https://rcpp.org&#34;&gt;Rcpp&lt;/a&gt; [&lt;a href=&#34;http://dirk.eddelbuettel.com/papers/useR2014_keynote.pdf&#34;&gt;slides&lt;/a&gt;]. The goal of Rcpp is to have &amp;ldquo;the speed of C++ with the ease and clarity of R.&amp;rdquo; He gave a series of examples that left me (who still uses &lt;code&gt;.C()&lt;/code&gt; to access C code) thinking, &amp;ldquo;Holy crap this is so much easier than what I do!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Take a look at the &lt;a href=&#34;https://gallery.rcpp.org&#34;&gt;Rcpp Gallery&lt;/a&gt;, and the &lt;a href=&#34;http://dirk.eddelbuettel.com/papers/useR2014_tutorial.pdf&#34;&gt;slides from Dirk&amp;rsquo;s Rcpp tutorial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Dirk ended with a detailed discussion of &lt;a href=&#34;https://www.docker.com/&#34;&gt;Docker&lt;/a&gt;: a system for virtual machines as portable containers. I didn&amp;rsquo;t fully appreciate this part, but according to Dirk, Docker &amp;ldquo;changes how we build and test R&amp;hellip;.It&amp;rsquo;s like pushing to &lt;a href=&#34;https://github.com&#34;&gt;GitHub&lt;/a&gt;.&amp;rdquo;&lt;/p&gt;
&lt;h4 id=&#34;sponsors-talk&#34;&gt;Sponsors Talk&lt;/h4&gt;
&lt;p&gt;After Dirk&amp;rsquo;s talk was the Sponsor&amp;rsquo;s Talk. But if I&amp;rsquo;m going to skip a session (and I strongly recommend that you skip at least some sessions at any conference), anything called &amp;ldquo;Sponsor&amp;rsquo;s Talk&amp;rdquo; is going to be high on my list to skip.&lt;/p&gt;
&lt;h4 id=&#34;lunch-at-venice-beach&#34;&gt;Lunch at Venice Beach&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://inundata.org/&#34;&gt;Karthik Ram&lt;/a&gt; and I met up with &lt;a href=&#34;https://hilaryparker.com/&#34;&gt;Hilary Parker&lt;/a&gt; and &lt;a href=&#34;https://www.sandradgriffith.com/&#34;&gt;Sandy Griffith&lt;/a&gt; for &lt;a href=&#34;https://twitter.com/hspter/status/484441248229367808&#34;&gt;lunch at Venice Beach&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It took us a bit longer to get back than we&amp;rsquo;d anticipated. But I did get a chance to &lt;a href=&#34;https://twitter.com/leonidkruglyak/status/484461511692152832&#34;&gt;meet up with&lt;/a&gt; &lt;a href=&#34;https://labs.genetics.ucla.edu/kruglyak/people&#34;&gt;Leonid Kruglyak&lt;/a&gt; at his office at UCLA.&lt;/p&gt;
&lt;h4 id=&#34;r-and-reproducibility&#34;&gt;R and reproducibility&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/revodavid&#34;&gt;David Smith&lt;/a&gt; from &lt;a href=&#34;https://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt; and &lt;a href=&#34;https://en.wikipedia.org/wiki/Joseph_J._Allaire&#34;&gt;JJ Allaire&lt;/a&gt; from &lt;a href=&#34;https://rstudio.com&#34;&gt;RStudio&lt;/a&gt; each spoke about package management systems to enhance reproducibility with R.&lt;/p&gt;
&lt;p&gt;For your &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;-based project to be reproducible, the many packages that you&amp;rsquo;ve used need to be available. And future versions of those packages may not work the same way, so ideally you should keep copies of the particular versions that you used.&lt;/p&gt;
&lt;p&gt;David Smith spoke about the &lt;a href=&#34;https://github.com/RevolutionAnalytics/RRT&#34;&gt;R reproducibility toolkit (RRT)&lt;/a&gt;. The focus was more on business analytics, and the need to maintain a group of versioned packages that are known to work together. &lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt; runs checks on all packages so that they&amp;rsquo;re all known to work together. As I understand it, RRT manages snapshots of sets of packages from CRAN.&lt;/p&gt;
&lt;p&gt;JJ Alaire spoke about &lt;a href=&#34;https://www.rstudio.org&#34;&gt;RStudio&lt;/a&gt;&amp;rsquo;s solution: &lt;a href=&#34;https://rstudio.github.io/packrat/&#34;&gt;packrat&lt;/a&gt;. This seems more suitable for scientific work. It basically creates privates sets of packages, specific to a project.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve not thought much about this issue. &lt;a href=&#34;https://rstudio.github.io/packrat/&#34;&gt;packrat&lt;/a&gt; seems the best fit for my sort of work. I should start using it.&lt;/p&gt;
&lt;h4 id=&#34;poster-session&#34;&gt;Poster session&lt;/h4&gt;
&lt;p&gt;The second poster session was &lt;a href=&#34;https://twitter.com/kwbroman/status/484471383166967809&#34;&gt;in a different location with more space&lt;/a&gt;. It was still a bit cramped, being in a hallway, but it was &lt;em&gt;way better&lt;/em&gt; than the first day. There were a number of interesting posters, including &lt;a href=&#34;https://hilaryparker.com/&#34;&gt;Hilary&amp;rsquo;s&lt;/a&gt; on &lt;a href=&#34;https://github.com/ropensci/testdat&#34;&gt;testdat&lt;/a&gt;, for testing CSV files; &lt;a href=&#34;https://www.sandradgriffith.com/&#34;&gt;Sandy&amp;rsquo;s&lt;/a&gt; on using Shiny apps for teaching; and Mine Çetinkaya-Rundel and Andrew Bray&amp;rsquo;s poster on &amp;ldquo;Teaching data analysis in R through the lens of reproducibility&amp;rdquo; [&lt;a href=&#34;https://www.dropbox.com/s/te7o3h6ypi3ejhu/user2014_reproduce_poster.pdf&#34;&gt;pdf&lt;/a&gt;].&lt;/p&gt;
&lt;h4 id=&#34;met-more-folks&#34;&gt;Met more folks&lt;/h4&gt;
&lt;p&gt;The main purpose of conferences is to meet people. I was glad to be able to chat with &lt;a href=&#34;http://dirk.eddelbuettel.com/&#34;&gt;Dirk Eddelbuettel&lt;/a&gt;, &lt;a href=&#34;http://ramnathv.github.io/&#34;&gt;Ramnath Vaidyanathan&lt;/a&gt;, and also &lt;a href=&#34;https://twitter.com/timtriche&#34;&gt;Tim Triche&lt;/a&gt;. Also karaoke with &lt;a href=&#34;https://www.sandradgriffith.com/&#34;&gt;Sandy&lt;/a&gt;, &lt;a href=&#34;https://inundata.org/&#34;&gt;Karthik&lt;/a&gt;, &lt;a href=&#34;https://hilaryparker.com&#34;&gt;Hilary&lt;/a&gt;, &lt;a href=&#34;http://www.fil.lu.se/en/department/staff/RasmusBaath/&#34;&gt;Rasmus&lt;/a&gt;, and &lt;a href=&#34;http://blog.r-enthusiasts.com/&#34;&gt;Romain&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;wish-id-seen&#34;&gt;Wish I&amp;rsquo;d seen&lt;/h4&gt;
&lt;p&gt;I had a bit of a &lt;a href=&#34;https://twitter.com/_inundata/status/484584850700005376&#34;&gt;late night on Wednesday night&lt;/a&gt;, and then I was in a hurry to get down (via &lt;a href=&#34;https://twitter.com/kwbroman/status/484750328655400960&#34;&gt;public&lt;/a&gt; &lt;a href=&#34;https://twitter.com/kwbroman/status/484759436964028416&#34;&gt;transit&lt;/a&gt;!) to the Science Center to meet up with &lt;a href=&#34;https://twitter.com/kwbroman/status/484780542169059328&#34;&gt;my family&lt;/a&gt;. So I&amp;rsquo;m sorry that I didn&amp;rsquo;t get to see &lt;a href=&#34;https://yihui.name/&#34;&gt;Yihui Xie&lt;/a&gt;&amp;rsquo;s talk on &lt;a href=&#34;https://github.com/yihui/knitr-talks/tree/master/useR2014&#34;&gt;Knitr Ninja&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Looking back through the program, there are a number of other talks I wish I&amp;rsquo;d seen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jan de Leeuw on the &lt;a href=&#34;https://www.jstatsoft.org/&#34;&gt;Journal of Statistical Software&lt;/a&gt; [&lt;a href=&#34;http://gifi.stat.ucla.edu/janspubs/2014/notes/deleeuw_mullen_U_14.pdf&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Romain Francois on Rcpp11 [&lt;a href=&#34;http://fr.slideshare.net/romainfrancois/rcpp11-use-r&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rasmus Baath on Bayesian First Aid [&lt;a href=&#34;http://www.sumsar.net/files/academia/UseR2014_Bayesian_First_Aid.pdf&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jeroen Ooms on &lt;a href=&#34;https://www.opencpu.org/&#34;&gt;OpenCPU&lt;/a&gt; [&lt;a href=&#34;http://jeroenooms.github.io/opencpu-slides/&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nicholas Reich on &lt;a href=&#34;http://statsteachr.org/&#34;&gt;statsTeachR.org&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Amelia McNamara on Teaching R to high school students (and teachers)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jeff Allen on the latest with R Markdown [&lt;a href=&#34;http://rpubs.com/trestletech/usermd&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;summary&#34;&gt;Summary&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://user2014.stat.ucla.edu/&#34;&gt;UseR 2014&lt;/a&gt; was a great meeting. In addition to the packages mentioned with &lt;a href=&#34;https://kbroman.org/blog/2014/07/02/2014-user-conference-days-1-2/&#34;&gt;Days 1-2&lt;/a&gt;, I need to pick up &lt;a href=&#34;https://rcpp.org&#34;&gt;Rcpp&lt;/a&gt; and &lt;a href=&#34;https://rstudio.github.io/packrat/&#34;&gt;packrat&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Slides for many of the talks and tutorials are on the &lt;a href=&#34;http://user2014.stat.ucla.edu/&#34;&gt;UseR 2014 web site&lt;/a&gt;. If you know of others, you can add them via the &lt;a href=&#34;https://github.com/user2014/user2014.github.io&#34;&gt;site&amp;rsquo;s GitHub repository&lt;/a&gt; and make a pull request.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why hadn&#39;t I written a function for that?</title>
      <link>/2014/07/16/why-hadnt-i-written-a-function-for-that/</link>
      <pubDate>Wed, 16 Jul 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/07/16/why-hadnt-i-written-a-function-for-that/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m often typing the same bits of code over and over. Those bits of code really should be made into functions.&lt;/p&gt;
&lt;p&gt;For example, I&amp;rsquo;m still using base graphics. (&lt;a href=&#34;http://ggplot2.org&#34;&gt;ggplot2&lt;/a&gt; is on my &amp;ldquo;to do&amp;rdquo; list, really!) Often some things will be drawn with a slight overlap of the border of the plotting region. And in heatmaps with &lt;code&gt;image&lt;/code&gt;, the border is often obscured. I want a nice black rectangle around the outside.&lt;/p&gt;
&lt;p&gt;So I&amp;rsquo;ll write the following:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;u &amp;lt;- par(&amp;quot;usr&amp;quot;)
rect(u[1], u[3], u[2], u[4])
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I don&amp;rsquo;t know &lt;em&gt;how&lt;/em&gt; many times I&amp;rsquo;ve typed that! Today I realized that I should put those two lines in a function &lt;code&gt;add_border()&lt;/code&gt;. And then I added &lt;code&gt;add_border()&lt;/code&gt; to my &lt;a href=&#34;http://github.com/kbroman/broman&#34;&gt;R/broman package&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It was a bit more work adding the &lt;a href=&#34;https://github.com/klutometis/roxygen&#34;&gt;Roxygen2&lt;/a&gt; comments for the documentation, but now I&amp;rsquo;ve got a proper function that is easier to use and much more clear.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: &lt;a href=&#34;https://twitter.com/tpoi&#34;&gt;@tpoi&lt;/a&gt; &lt;a href=&#34;https://twitter.com/tpoi/status/489622770398289920&#34;&gt;pointed out&lt;/a&gt; that &lt;code&gt;box()&lt;/code&gt; does the same thing as my &lt;code&gt;add_border()&lt;/code&gt;. My general point still stands, and this raises the additional point: twitter + blog -&amp;gt; education.&lt;/p&gt;
&lt;p&gt;I want to add, &amp;ldquo;I&amp;rsquo;m an idiot&amp;rdquo; but I think I&amp;rsquo;ll just say that there&amp;rsquo;s always more that I can learn about R. And I&amp;rsquo;ll remove &lt;code&gt;add_border&lt;/code&gt; from R/broman and just use &lt;code&gt;box()&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>2014 UseR conference, days 1-2</title>
      <link>/2014/07/02/2014-user-conference-days-1-2/</link>
      <pubDate>Wed, 02 Jul 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/07/02/2014-user-conference-days-1-2/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m at UCLA for the &lt;a href=&#34;https://user2014.r-project.org&#34;&gt;UseR Conference&lt;/a&gt;. I attended &lt;a href=&#34;https://kbroman.org/blog/2011/08/20/user-conference-2011-highlights/&#34;&gt;once before&lt;/a&gt;, and I really enjoyed it. And I&amp;rsquo;m really enjoying this one. I&amp;rsquo;m learning a ton, and I find the talks very inspiring.&lt;/p&gt;
&lt;p&gt;In my comments below, I give short shrift to some speakers (largely by not having attended their talks), and I&amp;rsquo;m critical in some places about the conference organization. Having &lt;a href=&#34;https://rqtl.org/ctc2013/&#34;&gt;co-organized a small conference last year&lt;/a&gt;, I appreciate the difficulties. I think the organizers of this meeting have done a great job, but there are some ways it which it might have been better (e.g., no tiny rooms, a better time slot for the posters, and more space for the posters).&lt;/p&gt;
&lt;h3 id=&#34;day-1-tutorials&#34;&gt;Day 1: Tutorials&lt;/h3&gt;
&lt;p&gt;The first day was devoted to &lt;a href=&#34;https://user2014.r-project.org/#tutorials&#34;&gt;tutorials&lt;/a&gt;. I arrived later than intended and missed the morning tutorials and was just in time for the afternoon ones. But the tutorial I wanted to attend, &lt;a href=&#34;&#34;&gt;Ramnath Vaidyanathan&amp;rsquo;s tutorial on interactive documents&lt;/a&gt; was in a tiny room that was already filled beyond capacity. And by the time I tried to switch, the others were well underway, and I&amp;rsquo;d lost my momentum. Plus I was distracted by ice cream. And seeing &lt;a href=&#34;https://yihui.name/en/&#34;&gt;Yihui&lt;/a&gt;, &lt;a href=&#34;http://inundata.org/&#34;&gt;Karthik&lt;/a&gt;, &lt;a href=&#34;https://hilaryparker.com/&#34;&gt;Hilary&lt;/a&gt;, and &lt;a href=&#34;http://www.sandradgriffith.com/&#34;&gt;Sandy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Materials for many of the tutorials are &lt;a href=&#34;https://user2014.r-project.org/#tutorials&#34;&gt;online&lt;/a&gt;; grab them while you can.&lt;/p&gt;
&lt;p&gt;The evening reception was interesting. I listened in to &lt;a href=&#34;https://github.com/jcheng5&#34;&gt;Joe Chang&lt;/a&gt; talking to &lt;a href=&#34;https://www.talgalili.com/&#34;&gt;Tal Galili&lt;/a&gt; about the value of &lt;a href=&#34;https://github.com/hadley/dplyr&#34;&gt;dplyr&lt;/a&gt; and &lt;a href=&#34;https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html&#34;&gt;magrittr&lt;/a&gt;&amp;rsquo;s pipe operator (&lt;code&gt;%&amp;gt;%&lt;/code&gt;) for data manipulation in R. Joe was quite persuasive: replace a nested series of function calls, to be read from the inside out, with a stream of pipes.&lt;/p&gt;
&lt;p&gt;I was excited to meet &lt;a href=&#34;https://scottchamberlain.info/&#34;&gt;Scott Chamberlain&lt;/a&gt; and to see &lt;a href=&#34;https://www.stat.ubc.ca/~jenny/&#34;&gt;Jenny Bryan&lt;/a&gt; and &lt;a href=&#34;http://www.vince.vu/&#34;&gt;Vince Vu&lt;/a&gt;, and of course &lt;a href=&#34;http://had.co.nz/&#34;&gt;Hadley&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;day-2&#34;&gt;Day 2&lt;/h3&gt;
&lt;h4 id=&#34;john-chambers&#34;&gt;John Chambers&lt;/h4&gt;
&lt;p&gt;The opening talk was by &lt;a href=&#34;https://en.wikipedia.org/wiki/John_Chambers_(statistician)&#34;&gt;John Chambers&lt;/a&gt;. I&amp;rsquo;d not heard him speak before. (Back in 2005, I think, at JSM in Minneapolis, I tried to attend a session with John Chambers, Robert Gentleman, and &lt;a href=&#34;https://www.stat.ucdavis.edu/~duncan/&#34;&gt;Duncan Temple Lang&lt;/a&gt;, on the future of statistical computing, but it was assigned a room for 30 people, and by the time I got there there was a mass of more than 30 people &lt;em&gt;outside&lt;/em&gt; the room.)&lt;/p&gt;
&lt;p&gt;John talked about the origin of S, including a &lt;a href=&#34;https://twitter.com/kwbroman/status/484005898965090305&#34;&gt;handwritten &amp;ldquo;viewgraph&amp;rdquo;&lt;/a&gt; from the first discussion of the idea in 1976. His basic point was that R was conceived not as a language but as an interface to algorithms: to make it easier to use Fortran-based routines for things like linear regression. And R continues to have much value in that regard:  user-friendly interfaces for statistical calculations.&lt;/p&gt;
&lt;p&gt;He gave a shout out to &lt;a href=&#34;http://www.rcpp.org/&#34;&gt;Rcpp&lt;/a&gt;, &lt;a href=&#34;http://www.omegahat.org/Rllvm/&#34;&gt;Rllvm&lt;/a&gt;, and &lt;a href=&#34;http://0xdata.com/&#34;&gt;h2o&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;interactive-graphics&#34;&gt;Interactive graphics&lt;/h4&gt;
&lt;p&gt;The first contributed session was on interactive graphics from R.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/wch&#34;&gt;Winston Chang&lt;/a&gt; introduced &lt;a href=&#34;https://ggvis.rstudio.com/&#34;&gt;ggvis&lt;/a&gt;, which is an exciting effort at &lt;a href=&#34;https://www.rstudio.com&#34;&gt;RStudio&lt;/a&gt; to make interactive graphics readily accessible from R.  It uses a ggplot2-style syntax, but with the &lt;a href=&#34;https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html&#34;&gt;magrittr&lt;/a&gt; pipe operator, and using &lt;a href=&#34;https://github.com/trifacta/vega/&#34;&gt;Vega&lt;/a&gt; as the underlying engine.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ramnathv&#34;&gt;Ramnath Vaidyanathan&lt;/a&gt; spoke about rCharts, which makes a huge list of javascript-based visualization libraries accessible from R using a lattice-style syntax. He went through a ton of great examples, pointed to a gallery of others, and briefly describing the underlying strategy.&lt;/p&gt;
&lt;p&gt;There were additional talks about &lt;a href=&#34;https://plot.ly/&#34;&gt;plotly&lt;/a&gt; and &lt;a href=&#34;https://user2014.r-project.org/abstracts/talks/216_Subramaniam.pdf&#34;&gt;iwPlot&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;plotly is an effort to make &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;-based graphs accessible from R (and python and matlab), as well as editable and collaborative. But I don&amp;rsquo;t like plotly&amp;rsquo;s &lt;a href=&#34;https://plot.ly/tou&#34;&gt;Terms of service&lt;/a&gt;, nor that it&amp;rsquo;s closed source. And the presentation was all demonstration with little exposition and so a bit hard to follow.&lt;/p&gt;
&lt;p&gt;iwPlot is an effort to reimplement &lt;a href=&#34;https://rforge.net/Acinonyx/&#34;&gt;iPlot eXtreme&lt;/a&gt; with web-based graphics, for interactive graphics with massive datasets, with everything &amp;ldquo;in the cloud&amp;rdquo; rather than on a desktop. I was surprised that they&amp;rsquo;re writing everything from scratch rather than make use of other javascript-based libraries. And the examples weren&amp;rsquo;t very compelling. I was excited about iplot eXtreme back in 2011, but it doesn&amp;rsquo;t seem to have progressed much since. Its &lt;a href=&#34;https://rforge.net/Acinonyx/&#34;&gt;web site&lt;/a&gt; says &amp;ldquo;An official release on CRAN is expected in Sept 2011,&amp;rdquo; but that doesn&amp;rsquo;t seem to have happened.&lt;/p&gt;
&lt;h4 id=&#34;webintegration&#34;&gt;Web/integration&lt;/h4&gt;
&lt;p&gt;I skipped a couple of important talks in here: on &lt;a href=&#34;https://rcloud.persistent.com/rCloud&#34;&gt;RCloud&lt;/a&gt; and &lt;a href=&#34;https://www.opencpu.org/&#34;&gt;OpenCPU&lt;/a&gt;. I needed a walk and an espresso.&lt;/p&gt;
&lt;p&gt;I was back for &lt;a href=&#34;https://github.com/jcheng5&#34;&gt;Joe Cheng&lt;/a&gt;&amp;rsquo;s talk about &lt;a href=&#34;https://shiny.rstudio.com/&#34;&gt;Shiny&lt;/a&gt;, for making interactive web applications with R, with no requirement of knowledge of html, css, or javascript. It was really well presented; especially cool is the ability to include shiny apps within R Markdown documents, which is apparently even easier than creating stand-alone shiny apps.&lt;/p&gt;
&lt;p&gt;And then &lt;a href=&#34;http://inundata.org/&#34;&gt;Karthik Ram&lt;/a&gt; gave a great talk about &lt;a href=&#34;https://ropensci.org/&#34;&gt;rOpenSci&lt;/a&gt;, to foster open science: a large set of packages providing access to a variety of data sources.&lt;/p&gt;
&lt;h4 id=&#34;martin-machler&#34;&gt;Martin Machler&lt;/h4&gt;
&lt;p&gt;Martin Machler gave a superb talk on &amp;ldquo;Good practices for R programming,&amp;rdquo; including seven principles:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Work with source files (rather than just typing in the console)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keep R source readable and maintainable&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Read the documentation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn from the masters (read others&#39; code)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not copy and paste (write functions)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Strive for clarity and simplicity&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test your code&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;He made a number of further points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Leave optimization to later, clear code is more important than optimized code, and if you &lt;em&gt;do&lt;/em&gt; optimize, measure rather than guess about speed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write packages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use version control&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;R CMD BATCH&lt;/code&gt; should work on your R script.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Never use &lt;code&gt;.RData&lt;/code&gt;; your code should do all of the work. But use &lt;code&gt;save&lt;/code&gt; for big computations and then &lt;code&gt;attach&lt;/code&gt;. (Later he clarified, don&amp;rsquo;t use &lt;code&gt;attach&lt;/code&gt; with data frames, but do use it with &lt;code&gt;RData&lt;/code&gt; files.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make use of the &lt;code&gt;log&lt;/code&gt; argument to density functions, to avoid underflow, and use functions like &lt;code&gt;log1p&lt;/code&gt;, for accuracy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;drop=FALSE&lt;/code&gt; when subsetting a matrix, so that the outcome remains a matrix.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;is.na(x)&lt;/code&gt; not &lt;code&gt;x == NA&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t use &lt;code&gt;1:n&lt;/code&gt; when &lt;code&gt;n&lt;/code&gt; is not a positive integer.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;data-manipulation&#34;&gt;Data manipulation&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://had.co.nz/&#34;&gt;Hadley Wickham&lt;/a&gt; gave a persuasive and instructive talk on &lt;a href=&#34;https://github.com/hadley/dplyr&#34;&gt;dplyr&lt;/a&gt; and &lt;a href=&#34;https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html&#34;&gt;magrittr&lt;/a&gt;&amp;rsquo;s pipe operator, for data manipulation tasks in R. &lt;a href=&#34;https://github.com/jcheng5&#34;&gt;Joe Cheng&lt;/a&gt; had largely convinced me the night before, but now I&amp;rsquo;m thoroughly convinced of the value of these tools. The bottlenecks in analysis tasks are thinking, coding, and doing. For data manipulation, dplyr helps with the &lt;em&gt;thinking&lt;/em&gt; part, by having you focus on a set of basic operations: filter, select, arrange, mutate, summarize, and &amp;ldquo;group by,&amp;rdquo; and then also the left join, right join, semi-join, and anti-join. Magrittr&amp;rsquo;s pipe operator (%&amp;gt;%) helps with the &lt;em&gt;coding&lt;/em&gt;: you create a stream of pipes rather than a nasty mess of nested function calls that need to be read from the inside out. And &lt;a href=&#34;https://www.rcpp.org/&#34;&gt;Rcpp&lt;/a&gt; helps with the &lt;em&gt;doing&lt;/em&gt;: dplyr is super-fast (though not quite as fast as &lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki&#34;&gt;data.table&lt;/a&gt;). Further, dplyr takes advantage of R&amp;rsquo;s &amp;ldquo;non-standard evaluation&amp;rdquo; in a way that makes it easy to connect to external data sources, like databases, as if they were regular objects.&lt;/p&gt;
&lt;p&gt;I skipped the rest of the session, though I should have at least stayed for the Matt Dowle&amp;rsquo;s presentation on &lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki&#34;&gt;data.table&lt;/a&gt;. (I understand that &lt;a href=&#34;https://twitter.com/_inundata/status/484120526021881858&#34;&gt;he could have an alternate career as a leader of group meditations&lt;/a&gt;.) I&amp;rsquo;ve just found that I have to limit myself. But &lt;a href=&#34;https://twitter.com/timtriche/status/484120355254980608&#34;&gt;a tweet&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/timtriche&#34;&gt;Tim Triche&lt;/a&gt; had a photo of a slide that showed the speed of data.table&amp;rsquo;s &lt;code&gt;fread&lt;/code&gt; function over R&amp;rsquo;s &lt;code&gt;read.csv&lt;/code&gt;. I need to adopt &lt;code&gt;fread&lt;/code&gt;!&lt;/p&gt;
&lt;h4 id=&#34;posters&#34;&gt;Posters&lt;/h4&gt;
&lt;p&gt;The poster sessions were a tragedy. Seriously.&lt;/p&gt;
&lt;p&gt;First, it was immediately after a long session (well, for those who stuck it through), and at the slot &lt;a href=&#34;https://twitter.com/kwbroman/status/484131994708627456&#34;&gt;where one would want to eat dinner&lt;/a&gt;. (Martin&amp;rsquo;s talk was 3-4, the 3rd contributed session was 4-5:30, the posters were 5:30-7, and two panel sessions/mixers were 6:30-9.)&lt;/p&gt;
&lt;p&gt;Second, the posters were arranged along a narrow hallway, and not on the walls but on stands which stuck out into the hallway. There really was no room for people to view the things.&lt;/p&gt;
&lt;p&gt;It was too frustrating. I left to eat dinner.&lt;/p&gt;
&lt;h4 id=&#34;her-panel&#34;&gt;heR panel&lt;/h4&gt;
&lt;p&gt;It was great that the meeting included a well-attended &lt;a href=&#34;https://github.com/skoval/her2014&#34;&gt;panel discussion and mixer&lt;/a&gt; to discuss how to encourage more women R users. But I was a bit disappointed with the event.&lt;/p&gt;
&lt;p&gt;We can all agree that women are underrepresented as contributors of packages to &lt;a href=&#34;https://cran.r-project.org&#34;&gt;CRAN&lt;/a&gt; and as participants in R conferences. But why? And how to change this? I didn&amp;rsquo;t gain much insight.&lt;/p&gt;
&lt;p&gt;I think I just don&amp;rsquo;t like panel discussion. The five women on the panel, and the moderator, are admirable and their views interesting. But they don&amp;rsquo;t have a unique understanding of the problem or solutions. I think I would have preferred a more open discussion, to hear much more from all of the other women in the room.&lt;/p&gt;
&lt;p&gt;I felt the same way about the panel discussion at &lt;a href=&#34;https://rqtl.org/ctc2013&#34;&gt;the meeting I co-organized in 2013&lt;/a&gt;: I would have preferred to have heard much more from the general audience and less from the panel.&lt;/p&gt;
&lt;p&gt;The most shocking revelation concerned the unnecessarily extensive effort that &lt;a href=&#34;http://www.stat.ucla.edu/~amelia.mcnamara/&#34;&gt;Amelia McNamara&lt;/a&gt; had to expend in order to include a &lt;em&gt;harrassment policy&lt;/em&gt; on the &lt;a href=&#34;https://user2014.r-project.org/&#34;&gt;meeting web site&lt;/a&gt;. The value of such a policy should be obvious from the &lt;a href=&#34;https://geekfeminism.wikia.com/wiki/Timeline_of_incidents&#34;&gt;history of bad behavior&lt;/a&gt; at scientific and technical conferences.&lt;/p&gt;
&lt;p&gt;I would have been happier had the discussion continued for another hour. The audience was just getting going when the event ended.&lt;/p&gt;
&lt;p&gt;My personal opinion is that there are a lot more women R users out there, but they aren&amp;rsquo;t contributing R packages because it has long been a very cumbersome process. (But see &lt;a href=&#34;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&#34;&gt;Hilary Parker&amp;rsquo;s tutorial&lt;/a&gt;.) And they don&amp;rsquo;t necessarily identify as &amp;ldquo;R users&amp;rdquo; but rather as more general applied statisticians. And they&amp;rsquo;ve not yet learned of the great value in attending UseR conferences, for learning and networking.&lt;/p&gt;
&lt;h4 id=&#34;conclusions&#34;&gt;Conclusions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;UseR conferences are fabulous: for inspiration, learning, and networking. They&amp;rsquo;re not for gurus, but for normal people who want to share ideas and learn about new and exciting developments. (The next &lt;a href=&#34;https://user2015.math.aau.dk/&#34;&gt;UseR meeting&lt;/a&gt; will be June 30-July 3, 2015, in Aalborg, Denmark.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The smallest meeting room shouldn&amp;rsquo;t be very small.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Poster sessions need a proper time slot, and they need a lot of space.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I don&amp;rsquo;t much like panel discussions but rather prefer more open discussions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I need to adopt &lt;a href=&#34;https://github.com/hadley/dplyr&#34;&gt;dplyr&lt;/a&gt; and &lt;a href=&#34;https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html&#34;&gt;magrittr&lt;/a&gt; immediately. Also &lt;a href=&#34;https://github.com/Rdatatable/data.table/wiki&#34;&gt;data.table&lt;/a&gt;&amp;rsquo;s &lt;code&gt;fread&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I need to learn &lt;a href=&#34;https://shiny.rstudio.com&#34;&gt;shiny&lt;/a&gt;, &lt;a href=&#34;https://ggvis.rstudio.com&#34;&gt;ggvis&lt;/a&gt;, rCharts, and some of the &lt;a href=&#34;https://ropensci.org&#34;&gt;rOpenSci&lt;/a&gt; packages (and &lt;a href=&#34;https://ggplot2.tidyverse.org/&#34;&gt;ggplot2&lt;/a&gt;
for that matter; I still just use base graphics), at least so that I can get students using them.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>hipsteR: re-educating people who learned R before it was cool</title>
      <link>/2014/05/15/hipster-re-educating-people-who-learned-r-before-it-was-cool/</link>
      <pubDate>Thu, 15 May 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/05/15/hipster-re-educating-people-who-learned-r-before-it-was-cool/</guid>
      <description>&lt;p&gt;This morning, I started &lt;a href=&#34;https://kbroman.org/hipsteR/&#34;&gt;a tutorial for folks whose knowledge of R is (like mine) stuck in 2001.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yesterday I started reading the &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/1461468671/7210-20&#34;&gt;Rcpp book&lt;/a&gt;, and on page 4 there&amp;rsquo;s an example using the R function &lt;code&gt;replicate&lt;/code&gt;, which (a) I&amp;rsquo;d never heard before, and (b) is super useful.&lt;/p&gt;
&lt;p&gt;I mean, I often write code like this, for a bootstrap:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;x &amp;lt;- rnorm(2500)
sapply(1:1000, function(a) quantile(sample(x, replace=TRUE), c(0.025, 0.975)))
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But I could just be writing&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;x &amp;lt;- rnorm(100)
replicate(1000, quantile(sample(x, replace=TRUE), c(0.025, 0.975)))
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;ldquo;Oh, &lt;code&gt;replicate&lt;/code&gt; must be some new function.&amp;rdquo; Yeah, new in &lt;strong&gt;R version 1.8, in 2003!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m in serious need of some re-education (e.g., I should be using more of &lt;a href=&#34;https://github.com/hadley&#34;&gt;Hadley Wickham&amp;rsquo;s packages&lt;/a&gt;). Hence the beginnings of a tutorial.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Note: the title was suggested by &lt;a href=&#34;https://www.stat.auckland.ac.nz/showperson?firstname=Thomas&amp;amp;surname=Lumley&#34;&gt;Thomas Lumley&lt;/a&gt;. No connection to @hspter; it&amp;rsquo;s not really so hip. I probably should have written &amp;ldquo;geeksteR.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Further points on crayon colors</title>
      <link>/2014/05/09/further-points-on-crayon-colors/</link>
      <pubDate>Fri, 09 May 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/05/09/further-points-on-crayon-colors/</guid>
      <description>&lt;p&gt;I saw &lt;a href=&#34;https://learnr.wordpress.com/2010/01/21/ggplot2-crayola-crayon-colours/&#34;&gt;this great post on crayola crayon colors&lt;/a&gt; at the &lt;a href=&#34;https://learnr.wordpress.com&#34;&gt;Learning R blog&lt;/a&gt;, reproducing a &lt;a href=&#34;https://www.datapointed.net/2010/01/crayola-crayon-color-chart/&#34;&gt;nice graph&lt;/a&gt; of the Crayola crayon colors over time. (Also see &lt;a href=&#34;http://www.datapointed.net/2010/10/crayola-color-chart-rainbow-style/&#34;&gt;this even nicer version&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://learnr.wordpress.com/2010/01/21/ggplot2-crayola-crayon-colours/&#34;&gt;Learning R post&lt;/a&gt; shows how to grab the crayon colors from the wikipedia page, &amp;ldquo;&lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors&#34;&gt;List of Crayola crayon colors&lt;/a&gt;,&amp;rdquo; directly in R. Here&amp;rsquo;s the code (after some slight modifications due to changes in the page since 2010):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(XML)
theurl &amp;lt;- &amp;quot;https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors&amp;quot;
crayontable &amp;lt;- readHTMLTable(theurl, stringsAsFactors = FALSE)[[1]]
crayons &amp;lt;- crayontable[,grep(&amp;quot;Hex&amp;quot;, colnames(crayontable))]
names(crayons) &amp;lt;- crayontable[,&amp;quot;Color&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Comparing these to what I&amp;rsquo;d grabbed, I noted one small discrepancy on the Wikipedia page: Yellow Orange was listed as &lt;code&gt;&amp;quot;#FFAE42&amp;quot;&lt;/code&gt; but the background color for the Yellow Orange cell in the table was &lt;code&gt;&amp;quot;#FFB653&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So I created a Wikipedia account and edited the Wikipedia page.&lt;/p&gt;
&lt;p&gt;(Then I realized that I&amp;rsquo;d made a mistake in my edit, undid my change, thought the whole thing through again, and edited the page again.)&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://learnr.wordpress.com/2010/01/21/ggplot2-crayola-crayon-colours/&#34;&gt;Learning R post&lt;/a&gt; also showed a different way to sort the colors: convert to HSV, and then sort by the H then S then V. So &lt;a href=&#34;https://github.com/kbroman/broman/commit/dde305de2c3cd5f3a00f7378fefd4f73a4520599&#34;&gt;I edited my &lt;code&gt;plot_crayons()&lt;/code&gt; function again&lt;/a&gt;, to create the following picture:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/05/crayon_colors_again.png&#34; alt=&#34;Crayon colors, again&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Two more points about crayon colors</title>
      <link>/2014/05/08/two-more-points-about-crayon-colors/</link>
      <pubDate>Thu, 08 May 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/05/08/two-more-points-about-crayon-colors/</guid>
      <description>&lt;p&gt;If you want to use &lt;a href=&#34;https://kbroman.org/blog/2014/05/07/crayon-colors-in-r/&#34;&gt;crayon colors in R&lt;/a&gt; but you don&amp;rsquo;t want to rely on my &lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt; package, you can just grab the code. Copy the &lt;a href=&#34;https://github.com/kbroman/broman/blob/master/R/brocolors.R#L72-L204&#34;&gt;relevant lines from the &lt;code&gt;R/brocolors.R&lt;/code&gt; file&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;crayons = c(&amp;quot;Almond&amp;quot;=&amp;quot;#efdecd&amp;quot;,
            &amp;quot;Antique Brass&amp;quot;=&amp;quot;#cd9575&amp;quot;,
            &amp;quot;Apricot&amp;quot;=&amp;quot;#fdd9b5&amp;quot;,
            ...
            &amp;quot;Yellow Green&amp;quot;=&amp;quot;#c5e384&amp;quot;,
            &amp;quot;Yellow Orange&amp;quot;=&amp;quot;#ffb653&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I spent a bit of time thinking about &lt;a href=&#34;https://stackoverflow.com/questions/11923659/javascript-sort-rgb-values&#34;&gt;how best to sort the colors in a meaningful way&lt;/a&gt;, for the &lt;code&gt;plot_crayons()&lt;/code&gt; function. But then decided to stop thinking and just do something brainless: measure distance between colors by RMS difference of the RGB values, and then use hierarchical clustering. Here&amp;rsquo;s the code from &lt;a href=&#34;https://github.com/kbroman/broman/blob/852b0ebd84c4cfed6f21f3e26635a46a10143757/R/brocolors.R#L234-L238&#34;&gt;&lt;code&gt;plot_crayons()&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# get rgb
colval &amp;lt;- t(col2rgb(crayons))

# hclust to order the colors
ord &amp;lt;- hclust(dist(colval))$order
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;It&amp;rsquo;s not perfect, but I think it worked remarkably well:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/05/crayons.png&#34; alt=&#34;Crayon colors&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Crayon colors in R</title>
      <link>/2014/05/07/crayon-colors-in-r/</link>
      <pubDate>Wed, 07 May 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/05/07/crayon-colors-in-r/</guid>
      <description>&lt;p&gt;Last night I was working on a &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs/tree/ictr2014&#34;&gt;talk on creating effective graphs&lt;/a&gt;. Mostly, I needed to update the colors, as there&amp;rsquo;d been some gaudy ones in &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/ictr2014.pdf&#34;&gt;its previous form&lt;/a&gt; (e.g., slide 22).&lt;/p&gt;
&lt;p&gt;I usually pick colors using the crayons in the &lt;a href=&#34;https://www.robinwood.com/Catalog/Technical/OtherTuts/MacColorPicker/MacColorPicker.html&#34;&gt;Mac Color Picker&lt;/a&gt;. But that has just 40 crayons, and I wanted more choices.&lt;/p&gt;
&lt;p&gt;That led me to the &lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_Crayola_crayon_colors&#34;&gt;list of Crayola crayon colors on wikipedia&lt;/a&gt;. I wrote a ruby script to grab the color names and codes and added them to my &lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;brocolors(&amp;quot;crayons&amp;quot;)&lt;/code&gt; to get the list of colors. For example, to get &amp;ldquo;Tickle Me Pink,&amp;rdquo; use&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(broman)
pink &amp;lt;- brocolors(&amp;quot;crayons&amp;quot;)[&amp;quot;Tickle Me Pink&amp;quot;]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Use &lt;code&gt;plot_crayons()&lt;/code&gt; to get the following summary plot of the colors:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2014/05/crayons.png&#34; alt=&#34;Crayon colors&#34;&gt;&lt;/p&gt;
&lt;p&gt;You can install the R/broman package using &lt;code&gt;install_github&lt;/code&gt; in devtools, (specifically, &lt;code&gt;install_github(&amp;quot;kbroman/broman&amp;quot;)&lt;/code&gt;) or wait a day or two and the version with this code will be &lt;a href=&#34;https://cran.r-project.org/web/packages/broman/&#34;&gt;on CRAN&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: See also &lt;a href=&#34;https://kbroman.org/blog/2014/05/08/two-more-points-about-crayon-colors/&#34;&gt;Two more points about crayon colors&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Reform academic statistics</title>
      <link>/2014/05/01/reform-academic-statistics/</link>
      <pubDate>Thu, 01 May 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/05/01/reform-academic-statistics/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.wehi.edu.au/faculty_members/professor_terry_speed&#34;&gt;Terry Speed&lt;/a&gt; recently gave a &lt;a href=&#34;http://www.chalmers.se/en/areas-of-advance/ict/calendar/Pages/Terry-Speed.aspx&#34;&gt;talk&lt;/a&gt; on the role of statisticians in &amp;ldquo;Big Data&amp;rdquo; initiatives (see the &lt;a href=&#34;http://vimeo.com/91502942&#34;&gt;video&lt;/a&gt; or just look at the &lt;a href=&#34;http://www.chalmers.se/en/areas-of-advance/ict/events/Documents/Terry%20Speed_Data%20Science,%20Big%20Data%20and%20Statistics%20-%20Can%20We%20All%20Live%20Together.pdf&#34;&gt;slides&lt;/a&gt;). He points to the history of statisticians&#39; discussions of massive data sets (e.g., the &lt;a href=&#34;http://www.nap.edu/openbook.php?record_id=5505&#34;&gt;Proceedings of a 1998 NRC workshop on Massive data sets&lt;/a&gt;) and how this history is being ignored in the current Big Data hype, and that statisticians, generally, are being ignored.&lt;/p&gt;
&lt;p&gt;I was thinking of writing a polemic on the need for reform of academic statistics and biostatistics, but in reading back over &lt;a href=&#34;http://simplystatistics.org&#34;&gt;Simply Statistics&lt;/a&gt; posts, I&amp;rsquo;ve decided that &lt;a href=&#34;http://rafalab.dfci.harvard.edu/&#34;&gt;Rafael Irizarry&lt;/a&gt; and &lt;a href=&#34;jtleek.com&#34;&gt;Jeff Leek&lt;/a&gt; have already said what I wanted to say, and so I think I&amp;rsquo;ll just summarize their points.&lt;/p&gt;
&lt;p&gt;Following the &lt;a href=&#34;http://www.rss.org.uk/&#34;&gt;RSS&lt;/a&gt; &lt;a href=&#34;http://www.worldofstatistics.org/presentations-and-panelists&#34;&gt;Future of the Statistical Sciences Workshop&lt;/a&gt;, Rafael was &lt;a href=&#34;http://simplystatistics.org/2013/11/18/feeling-optimistic-after-the-future-of-the-statistical-sciences-workshop&#34;&gt;quite optimistic&lt;/a&gt; about the prospects for academic statistics, as he noted considerable consensus on the following points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;We need to engage in real present-day problems&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Computing should be a big part of our PhD curriculum&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We need to deliver solutions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We need to improve our communication skills&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Jeff said, &amp;ldquo;&lt;a href=&#34;http://simplystatistics.org/2013/04/15/data-science-only-poses-a-threat-to-biostatistics-if-we-dont-adapt/&#34;&gt;Data science only poses a threat to (bio)statistics if we don&amp;rsquo;t adapt,&lt;/a&gt;&amp;rdquo; and made the following series of proposals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Remove some theoretical requirements and add computing requirements to statistics curricula.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Focus on statistical writing, presentation, and communication as a main part of the curriculum.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Focus on positive interactions with collaborators (being a scientist) rather than immediately going to the referee attitude.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a unit on translating scientific problems to statistical problems.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a unit on data munging and getting data from databases.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Integrating real and live data analyses into our curricula.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make all our students create an R package (a data product) before they graduate.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Most important of all have a &amp;ldquo;big tent&amp;rdquo; attitude about what constitutes statistics.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I agree strongly with what they&amp;rsquo;ve written. To make it happen, we ultimately need to reform our &lt;em&gt;values&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Currently, we (as a field) appear satisfied with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Papers that report new methods with no usable software&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Applications that focus on toy problems&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Talks that skip the details of the scientific context of a problem&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data visualizations that are both ugly and ineffective&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Further, we tend to get more excited about the &lt;em&gt;fanciness&lt;/em&gt; of a method than its &lt;em&gt;usefulness&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We &lt;em&gt;should&lt;/em&gt; value&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Usefulness above fanciness&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tool building (e.g., usable software)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data visualization&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In-depth knowledge of the scientific context of a problem&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In evaluating (bio)statistics faculty, we should consider not just the number of &lt;em&gt;JASA&lt;/em&gt; or &lt;em&gt;Biometrics&lt;/em&gt; papers they&amp;rsquo;ve published, but also whether they&amp;rsquo;ve made themselves useful, and to the scientific community and well as to other statisticians.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#34;[&#34; with the apply() functions, revisited</title>
      <link>/2014/04/29/with-the-apply-functions-revisited/</link>
      <pubDate>Tue, 29 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/04/29/with-the-apply-functions-revisited/</guid>
      <description>&lt;p&gt;I&amp;rsquo;d &lt;a href=&#34;https://kbroman.org/blog/2013/08/20/and-with-the-apply-functions/&#34;&gt;mentioned in the fall&lt;/a&gt; that one could use &lt;code&gt;&amp;quot;[&amp;quot;&lt;/code&gt; in the &lt;code&gt;apply&lt;/code&gt;-type functions, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;id &amp;lt;- c(&amp;quot;ZYY-43S-CWA3&amp;quot;, &amp;quot;6YU-F4B-VD2I&amp;quot;)
sapply(strsplit(id, &amp;quot;-&amp;quot;), &amp;quot;[&amp;quot;, 2)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I just realized that you can use this with matrices, too. If you have a list of matrices, you can pull out rows and columns with this technique.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;z &amp;lt;- list(matrix(1:10, nrow=2), matrix(11:20, nrow=2))
lapply(z, &amp;quot;[&amp;quot;, 1, )
lapply(z, &amp;quot;[&amp;quot;, , 3)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see, my data isn&amp;rsquo;t &amp;ldquo;&lt;a href=&#34;https://www.jstatsoft.org/article/view/v059i10&#34;&gt;tidy&lt;/a&gt;.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Simple web sites with GitHub Pages</title>
      <link>/2014/04/05/simple-web-sites-with-github-pages/</link>
      <pubDate>Sat, 05 Apr 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/04/05/simple-web-sites-with-github-pages/</guid>
      <description>&lt;p&gt;If you love &lt;a href=&#34;https://git-scm.com&#34;&gt;git&lt;/a&gt; and &lt;a href=&#34;https://github.com&#34;&gt;GitHub&lt;/a&gt;, you&amp;rsquo;ll also love &lt;a href=&#34;https://pages.github.com&#34;&gt;GitHub Pages&lt;/a&gt;, for producing websites using &lt;a href=&#34;https://daringfireball.net/projects/markdown/&#34;&gt;Markdown&lt;/a&gt; and &lt;a href=&#34;https://git-scm.com&#34;&gt;git&lt;/a&gt;: you write pages in Markdown within a &lt;code&gt;gh-pages&lt;/code&gt; branch in a git repository; when you push to GitHub, a corresponding site is automatically constructed.&lt;/p&gt;
&lt;p&gt;Last night, I wrote a &lt;a href=&#34;https://kbroman.org/simple_site&#34;&gt;minimal tutorial&lt;/a&gt; on how I&amp;rsquo;ve been using this (for example, for the website for my &lt;a href=&#34;https://kbroman.org/qtlcharts&#34;&gt;R/qtlcharts package&lt;/a&gt;, on interactive graphics for QTL data).&lt;/p&gt;
&lt;p&gt;In the tutorial, I wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(For example, I don&amp;rsquo;t like how simple code is rendered in red within a gray box. Ultimately I&amp;rsquo;ll try to figure out how to change that, but for now I just pretend that I like it that way.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But this morning, I figured out how to change that: create &lt;a href=&#34;https://github.com/kbroman/simple_site/blob/gh-pages/assets/themes/twitter/css/kbroman.css&#34;&gt;my own css file&lt;/a&gt; with the following code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;code {
  padding: 0;
  font-size: 90%;
  color: black;
  background-color: white;
  border: 0px solid white;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And then &lt;a href=&#34;https://github.com/kbroman/simple_site/blob/gh-pages/_includes/themes/twitter/default.html#L20&#34;&gt;add a line&lt;/a&gt; to the &lt;a href=&#34;https://github.com/kbroman/simple_site/blob/gh-pages/_includes/themes/twitter/default.html&#34;&gt;&lt;code&gt;default.html&lt;/code&gt;&lt;/a&gt; file.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Startling lack of training in statistical computing</title>
      <link>/2014/03/14/startling-lack-of-training-in-statistical-computing/</link>
      <pubDate>Fri, 14 Mar 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/03/14/startling-lack-of-training-in-statistical-computing/</guid>
      <description>&lt;p&gt;It is shocking to me that &lt;a href=&#34;http://www.stat.wisc.edu&#34;&gt;a statistics department&lt;/a&gt; would offer a graduate-level statistical computing course only &lt;em&gt;every fourth year&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I &lt;a href=&#34;https://kbroman.org/blog/2012/05/25/a-course-in-statistical-programming/&#34;&gt;had been arguing for a statistical programming course&lt;/a&gt;: that we supplement the usual course on the &lt;em&gt;theory&lt;/em&gt; of statistical computing (numerical linear algebra, EM algorithm, MCMC, etc.) with a course on the &lt;em&gt;practice&lt;/em&gt; of statistical computing.&lt;/p&gt;
&lt;p&gt;But I was assuming that the more theoretical statistical computing course was &lt;em&gt;actually being taught&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If a department teaches a course at a frequency less than every-other-year, it&amp;rsquo;s unavailable to many students, or it comes too late in their training to be useful. And statistical computing should really be considered part of a statistics department&amp;rsquo;s &lt;em&gt;core curriculum&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Update: As you might have anticipated, I&amp;rsquo;ve been asked to teach the course.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Googling errors</title>
      <link>/2014/02/14/googling-errors/</link>
      <pubDate>Fri, 14 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/02/14/googling-errors/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://twitter.com/roguelynn&#34;&gt;@roguelynn&lt;/a&gt; tweeted the other day:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;If attendees of this weekend’s intro to python workshop leave with one thing, it’ll be to Google your error messages first and foremost.&lt;/p&gt;&amp;mdash; Lynn Root (@roguelynn) &lt;a href=&#34;https://twitter.com/roguelynn/status/431321921909968896?ref_src=twsrc%5Etfw&#34;&gt;February 6, 2014&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;


&lt;p&gt;I had just talked about the technique in my &lt;a href=&#34;https://kbroman.github.io/Tools4RR/&#34;&gt;Tools for Reproducible Research&lt;/a&gt; course, and I had a few recent examples.&lt;/p&gt;
&lt;h3 id=&#34;gtk-warning--cannot-open-display&#34;&gt;Gtk-WARNING **: cannot open display:&lt;/h3&gt;
&lt;p&gt;I was logged into a department server, trying to clone a private repository from GitHub, and got an error like&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(gnome-ssh-askpass:1731): Gtk-WARNING **: cannot open display:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I googled that, and the first item was a &lt;a href=&#34;https://stackoverflow.com/questions/16077971/git-push-produces-gtk-warning&#34;&gt;stackoverflow question&lt;/a&gt;, whose answer said &amp;ldquo;&lt;code&gt;unset SSH_ASKPASS&lt;/code&gt;&amp;rdquo;, which totally worked.&lt;/p&gt;
&lt;h3 id=&#34;except-keyerror-k-raise-attributeerror-k&#34;&gt;except KeyError, k: raise AttributeError, k&lt;/h3&gt;
&lt;p&gt;AsciiDoc was giving me this error:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;asciidoc -a data-uri -a toc -a toclevels=4 -a num example2.txt
  File &amp;quot;/usr/local/bin/asciidoc&amp;quot;, line 101
    except KeyError, k: raise AttributeError, k
                   ^
SyntaxError: invalid syntax
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Google the &amp;ldquo;&lt;code&gt;except KeyError&lt;/code&gt;&amp;rdquo; line, and you get to a &lt;a href=&#34;https://groups.google.com/forum/#!topic/asciidoc/7ICtOReZJ74&#34;&gt;Q&amp;amp;A on the AsciiDoc google group&lt;/a&gt;, which says &amp;ldquo;Asciidoc is Python 2, not 3.&amp;rdquo;&lt;/p&gt;
&lt;h3 id=&#34;mclapply-isnt-working-in-windows&#34;&gt;mclapply isn&amp;rsquo;t working in windows&lt;/h3&gt;
&lt;p&gt;I got a report that parallel processing in my &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; package wasn&amp;rsquo;t working in Windows.&lt;/p&gt;
&lt;p&gt;I googled &amp;ldquo;mclapply isn&amp;rsquo;t working windows&amp;rdquo; (because mclapply was the function I was using) and got &lt;a href=&#34;https://stackoverflow.com/questions/17196261/understanding-the-differences-between-mclapply-and-parlapply-in-r&#34;&gt;this stackoverflow page&lt;/a&gt;, which says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;since Windows does not have fork(), it will run standard lapply instead - no parallelization&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Emacs key bindings in MS Word</title>
      <link>/2014/02/12/emacs-key-bindings-in-ms-word/</link>
      <pubDate>Wed, 12 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/02/12/emacs-key-bindings-in-ms-word/</guid>
      <description>&lt;p&gt;Collaboration on grant proposals has forced me to spend a lot of time writing in MS Word lately. I find my self typing emacs key strokes and then getting annoyed when I have to move my hand over to the arrow keys. (It&amp;rsquo;s maybe not as bad as typing Markdown marks within a LaTeX document, which I&amp;rsquo;ve also been doing.)&lt;/p&gt;
&lt;p&gt;A google search on the title of this post got me &lt;a href=&#34;http://emacsblog.org/2007/02/18/emacs-key-bindings-in-ms-word/&#34;&gt;to this post&lt;/a&gt;. I should have looked before.&lt;/p&gt;
&lt;p&gt;Following that suggestion, I was able to get these:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C-b&lt;/code&gt; – CharLeft&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-f&lt;/code&gt; – CharRight&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-e&lt;/code&gt; – EndOfLine&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-p&lt;/code&gt; – LineUp&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-n&lt;/code&gt; – LineDown&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-a&lt;/code&gt; – StartOfLine&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-v&lt;/code&gt; – PageDown&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I can&amp;rsquo;t figure out how to have &lt;code&gt;M-v&lt;/code&gt; for PageUp, though, because &lt;code&gt;M-v&lt;/code&gt; seems permanently stuck to &amp;ldquo;√&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;The procedure, in MS Word 2011 for Mac, is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Tools → Customize Keyboard&lt;/li&gt;
&lt;li&gt;Select &amp;ldquo;All Commands&amp;rdquo; under &amp;ldquo;Categories:&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Select the command (e.g., RightChar) under &amp;ldquo;Commands:&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Press the keyboard shortcut in the &amp;ldquo;Press new keyboard shortcut&amp;rdquo; box&lt;/li&gt;
&lt;li&gt;Click the Assign button&lt;/li&gt;
&lt;li&gt;Repeat for the other commands you want&lt;/li&gt;
&lt;li&gt;Click OK&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I needed two more, &lt;code&gt;C-d&lt;/code&gt; and &lt;code&gt;C-k&lt;/code&gt;; it took me a while to figure out how to do it, as there didn&amp;rsquo;t seem to be any built-in commands. But you can just record a macro. I created these:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C-d&lt;/code&gt; – [DeleteCharacter] (as a macro)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C-k&lt;/code&gt; – [KillLine] (as a macro)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here&amp;rsquo;s the procedure, in MS Word 2011 for Mac.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Tools → Macros → Record Macro&lt;/li&gt;
&lt;li&gt;Give it a name with no spaces&lt;/li&gt;
&lt;li&gt;Click the keyboard button to assign a keystroke to it&lt;/li&gt;
&lt;li&gt;Select OK&lt;/li&gt;
&lt;li&gt;Type the set of key strokes&lt;/li&gt;
&lt;li&gt;Tools → Macros → Stop Recording&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;http://sourceforge.net/apps/mediawiki/womacs/index.php&#34;&gt;Womacs&lt;/a&gt; is a really extensive set of Visual Basic macros that looks really useful, but I was getting Visual Basic errors and didn&amp;rsquo;t want to spend any more time on it; grants to write&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Copyright of video lectures</title>
      <link>/2014/02/09/copyright-of-video-lectures/</link>
      <pubDate>Sun, 09 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/02/09/copyright-of-video-lectures/</guid>
      <description>&lt;p&gt;Quite a while back, I was wondering about copyright of video lectures produced by university faculty. In particular, did I need to get the university to sign some sort of waiver in order for the Jackson Laboratory to post a video of a lecture I&amp;rsquo;d given for a course there? (The Jackson Lab lawyers wanted that.)&lt;/p&gt;
&lt;p&gt;I spoke to my &lt;a href=&#34;http://www.giso6150.com/&#34;&gt;family librarian&lt;/a&gt;, who pointed me to &lt;a href=&#34;http://www.library.wisc.edu/directory/staff/Carrie-Kruse&#34;&gt;Carrie Kruse&lt;/a&gt;, directory of the &lt;a href=&#34;https://college.library.wisc.edu/&#34;&gt;College Library&lt;/a&gt; at UW-Madison. And really, librarians are the people to talk to about this sort of thing, as they not only think a lot about copyright and fair use, but also they&amp;rsquo;re on the side of more access. (But don&amp;rsquo;t hold &lt;em&gt;Carrie&lt;/em&gt; accountable if I say anything wrong below; this is my own interpretation, 14 months after corresponding with her.)&lt;/p&gt;
&lt;p&gt;In most jobs, the product of your work is owned by the company, even if they didn&amp;rsquo;t have anything to do with it. But universities have a different tradition. Typically, the university doesn&amp;rsquo;t assert any rights over a faculty member&amp;rsquo;s instructional materials. For example, if you write a textbook, you don&amp;rsquo;t have to negotiate with the university over its publication, nor do you have to give the university a cut of the royalty income. That&amp;rsquo;s different than patents.&lt;/p&gt;
&lt;p&gt;UW-Madison has &lt;a href=&#34;http://www.uwsa.edu/fadmin/gapp/gapp27.htm&#34;&gt;an explicit policy about faculty instructional materials&lt;/a&gt;. (Really, it&amp;rsquo;s a UW System policy.) As I understand it, the university will assert some rights over your instructional materials only if they had contributed special resources or support to their creation (for example, if university staff assisted you with the recording and editing of a video).&lt;/p&gt;
&lt;p&gt;Returning to the video issue: since the university wasn&amp;rsquo;t involved in the production of the video, I didn&amp;rsquo;t have to get their okay.&lt;/p&gt;
&lt;p&gt;Carrie mentioned another important thing to pay attention to: if I had used any photos or other media to which I don&amp;rsquo;t have rights, I need to be careful about their inclusion in videos posted online. Within a classroom, or in a video posted online but only made accessible to a defined group of students, inclusion of such material could fall under &lt;a href=&#34;http://en.wikipedia.org/wiki/Fair_use&#34;&gt;fair use&lt;/a&gt;. But if such material is included in a video that is posted online for general viewing, others may question my fair use claim.&lt;/p&gt;
&lt;p&gt;That may explain why so many instructors here are using password-protected sites, like &lt;a href=&#34;https://learnuw.wisc.edu/&#34;&gt;Learn@UW&lt;/a&gt; and &lt;a href=&#34;https://courses.moodle.wisc.edu&#34;&gt;Moodle&lt;/a&gt;. I can&amp;rsquo;t even look at my colleagues&#39; course material.&lt;/p&gt;
&lt;p&gt;I dislike web pages via online forms. (Well, except for you, wordpress; I wish I&amp;rsquo;d started this blog with &lt;a href=&#34;http://pages.github.com/&#34;&gt;GitHub pages&lt;/a&gt;, but you&amp;rsquo;re okay.)&lt;/p&gt;
&lt;p&gt;And I &lt;em&gt;despise&lt;/em&gt; the password protection of instructional materials. If I spend a bunch of time preparing material, I want to distribute it as widely as possible. If another instructor uses it in their own class, I consider that a Good Thing.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>I still don&#39;t like it</title>
      <link>/2014/02/09/i-still-dont-like-it/</link>
      <pubDate>Sun, 09 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/02/09/i-still-dont-like-it/</guid>
      <description>&lt;p&gt;I got a book in the mail this week, a book I hadn&amp;rsquo;t ordered and would never have ordered. The publisher sent me a complimentary copy, as I&amp;rsquo;d reviewed the book proposal last year. (It&amp;rsquo;s the one where &lt;a href=&#34;https://kbroman.org/blog/2013/03/07/what-a-waste-of-paper/&#34;&gt;the author refused to allow me to have an electronic copy&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Actually, I soundly trashed the proposal in my review. In the nicest possible way, of course. For example, I said:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;And then there are things that are just plain wrong. For example, &amp;ldquo;We then express our confidence in the H0 with a p-value, which might crudely be considered the probability that the H0 is true.&amp;rdquo; That is not a &lt;em&gt;crude&lt;/em&gt; interpretation of the p-value; that is just &lt;em&gt;wrong&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It seems like if a reviewer says, &amp;ldquo;This particular book should not be adopted,&amp;rdquo; the publisher can interpret that to also mean, &amp;ldquo;and whatever you do, don&amp;rsquo;t send me a copy.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>knitr in a knutshell tutorial</title>
      <link>/2014/02/06/knitr-in-a-knutshell-tutorial/</link>
      <pubDate>Thu, 06 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>/2014/02/06/knitr-in-a-knutshell-tutorial/</guid>
      <description>&lt;p&gt;I spent a lot of time this week writing a short tutorial on &lt;a href=&#34;https://yihui.name/knitr/&#34;&gt;knitr&lt;/a&gt;: &lt;a href=&#34;https://kbroman.org/knitr_knutshell&#34;&gt;knitr in a knutshell&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is my third little tutorial. (The previous ones were a &lt;a href=&#34;https://kbroman.org/github_tutorial&#34;&gt;git/github guide&lt;/a&gt; and a &lt;a href=&#34;https://kbroman.org/minimal_make&#34;&gt;minimal make&lt;/a&gt; tutorial.)&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m pleased with these tutorials. In learning new computing skills, it can be hard to get started. My goal was to provide the initial motivation and orientation, and then links to other resources. I think they are effective in that regard.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve gotten really excited about the tools for reproducible research. I think the main reason that statisticians have been so slow to adopt a reproducible workflow is a lack of training.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m hoping that these tutorials, plus the other materials that I&amp;rsquo;m putting together over the course of this semester, for my &lt;a href=&#34;https://kbroman.org/Tools4RR&#34;&gt;Tools for Reproducible Research&lt;/a&gt; course, will help.&lt;/p&gt;
&lt;p&gt;But take a look at the &lt;a href=&#34;https://github.com/DataScienceSpecialization/courses&#34;&gt;material&lt;/a&gt; that &lt;a href=&#34;http://jtleek.com&#34;&gt;Jeff&lt;/a&gt;, &lt;a href=&#34;http://www.biostat.jhsph.edu/~rpeng/&#34;&gt;Roger&lt;/a&gt;, and &lt;a href=&#34;http://www.bcaffo.com/&#34;&gt;Brian&lt;/a&gt; are developing for their &lt;a href=&#34;https://simplystatistics.org/2014/01/21/the-johns-hopkins-data-science-specialization-on-coursera/&#34;&gt;Data Science MOOCs&lt;/a&gt;; you&amp;rsquo;ll see that mine are pretty humble contributions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Things to avoid as a new faculty member</title>
      <link>/2013/12/05/things-to-avoid-as-a-new-faculty-member/</link>
      <pubDate>Thu, 05 Dec 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/12/05/things-to-avoid-as-a-new-faculty-member/</guid>
      <description>&lt;p&gt;The transition from graduate student or postdoc to tenure-track faculty member is hard. You discover that there are a ton of new things to learn.&lt;/p&gt;
&lt;p&gt;Here are some thoughts on things to &lt;em&gt;avoid&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You may see lots of ways in which your department could be improved; don&amp;rsquo;t try to fix all of them at once.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You may see needs for many new courses.  Don&amp;rsquo;t try to develop all of them.  Try to teach the same courses at least three years in a row.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t agree to work with just any student who asks.  While a good student can really help, a bad student can suck up all your time and energy. Students may be worried about money and feigning interest in order to get a research position, but if they&amp;rsquo;re not &lt;em&gt;really&lt;/em&gt; interested, they won&amp;rsquo;t make much progress and it will be bad for both of you.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t agree to collaborate with someone in the two weeks before a grant deadline. You might get stuck in a commitment with some total jerk.  Find out if you&amp;rsquo;d really enjoy working with them, first.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t agree to write a book chapter.  It&amp;rsquo;s almost as much work as a formal paper, but not as many people will read it and it won&amp;rsquo;t count for much on your CV.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>OMICS Keynote? No!</title>
      <link>/2013/11/19/omics-keynote-no/</link>
      <pubDate>Tue, 19 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/11/19/omics-keynote-no/</guid>
      <description>&lt;p&gt;I got the following email:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dear Dr. Broman,&lt;/p&gt;
&lt;p&gt;Greetings.  Although we have not met, I believe that you know one of my colleagues [clip].  He regards you very highly, and after seeing your credentials I can understand why !&lt;/p&gt;
&lt;p&gt;On behalf of the organizing committee, I am writing to invite you to be a keynote speaker at the 3rd International Conference &amp;amp; Exhibition on Biometrics &amp;amp; Biostatistics, which is scheduled for July 14-16, 2014, in Baltimore MD.  Please see &lt;a href=&#34;http://www.omicsgroup.com/biometrics-biostatistics-conference-2014&#34;&gt;http://www.omicsgroup.com/biometrics-biostatistics-conference-2014&lt;/a&gt; for the conference webpage and &lt;a href=&#34;http://www.omicsgroup.com/conferences/biometrics-biostatistics-2013/Biometrics_finalprogram.pdf&#34;&gt;http://www.omicsgroup.com/conferences/biometrics-biostatistics-2013/Biometrics_finalprogram.pdf&lt;/a&gt; to view the program from the previous conference.  Although the schedule for the upcoming conference has not yet been constructed, I anticipate that a keynote speaker will have approximately 40 minutes to talk.  Moreover, my understanding is that the OMICS Group will waive the registration fee for a keynote speaker and will also cover two nights&#39; stay at the conference hotel.&lt;/p&gt;
&lt;p&gt;Please let me know if you are available to participate.&lt;/p&gt;
&lt;p&gt;Best Regards,
[clip]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My response:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dear [clip],&lt;/p&gt;
&lt;p&gt;Thanks for thinking of me, but I must decline to participate.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve only heard bad things about OMICS Group Conferences. They appear to exploit scientists desperate for recognition.&lt;/p&gt;
&lt;p&gt;Consider the following posts about others&#39; experiences with OMICS Conferences:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://cabbagesofdoom.blogspot.com/2013/07/omics-group-conferences-sham-or-scam.html&#34;&gt;http://cabbagesofdoom.blogspot.com/2013/07/omics-group-conferences-sham-or-scam.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://scholarlyoa.com/2013/01/25/omics-predatory-meetings&#34;&gt;http://scholarlyoa.com/2013/01/25/omics-predatory-meetings&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://scholarlyoa.com/2013/09/12/conference-attendee-to-omics-i-want-out&#34;&gt;http://scholarlyoa.com/2013/09/12/conference-attendee-to-omics-i-want-out&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The registration fee for the meeting is extraordinarily high ($800 now; $1000 after March 21), and looking at &lt;a href=&#34;http://www.omicsgroup.com/conferences/biometrics-biostatistics-2013/Biometrics_finalprogram.pdf&#34;&gt;the agenda for the 2013 meeting&lt;/a&gt;, it&amp;rsquo;s hard to see how that could be worth it to anyone. Particularly odd is the session on Day 3 in which 4 of the 5 talks share the same title.&lt;/p&gt;
&lt;p&gt;Regards,
karl&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Fixing a font problem for XeLaTeX</title>
      <link>/2013/10/11/fixing-a-font-problem-for-xelatex/</link>
      <pubDate>Fri, 11 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/10/11/fixing-a-font-problem-for-xelatex/</guid>
      <description>&lt;p&gt;If the topic sounds boring, well, it is really boring. I write it down here in case it&amp;rsquo;s useful to someone.&lt;/p&gt;
&lt;p&gt;I was working on a &lt;a href=&#34;https://github.com/syounkin/GitPrimer.git&#34;&gt;talk about git &amp;amp; GitHub&lt;/a&gt;, and chose a different font (Helvetica Neue, sort of the default Apple font). I think the default font for LaTeX/Beamer is a bit too tall and thin for slides. Here&amp;rsquo;s the default:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/10/slide_default.png&#34; alt=&#34;Slide with default font&#34;&gt;&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s what I wanted:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/10/slide_helveticaneue.png&#34; alt=&#34;Slide with Helvetica Neue&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;but-it-didnt-work-on-unix&#34;&gt;But it didn&amp;rsquo;t work on unix&lt;/h3&gt;
&lt;p&gt;It worked fine with XeLaTeX on my Mac, but it wasn&amp;rsquo;t working in Unix, and I&amp;rsquo;d like the source to be portable to others.&lt;/p&gt;
&lt;p&gt;XeLaTex was giving two errors:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Invalid fontname `Helvetica Neue&#39;, contains &#39; &#39;

Font \zf@basefont=&amp;quot;Helvetica Neue&amp;quot; at 10.0pt not loadable: Metric (TFM) file
or installed font not found.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It obviously wasn&amp;rsquo;t finding the font.&lt;/p&gt;
&lt;p&gt;I futzed about for an hour, trying to figure out where fonts are located on my Mac, and where fonts are located on Unix, and doing various web searches. But no luck.&lt;/p&gt;
&lt;h3 id=&#34;how-i-solved-the-problem&#34;&gt;How I solved the problem&lt;/h3&gt;
&lt;p&gt;Finally, I read &lt;a href=&#34;http://existentialtype.net/2008/07/12/fonts-in-latex-part-one-xelatex/&#34;&gt;this post on fonts in xelatex&lt;/a&gt;, and following that set of ideas, I figured out what to do.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Switch to the &lt;a href=&#34;http://www.gust.org.pl/projects/e-foundry/tex-gyre/heros/index_html&#34;&gt;TeX Gyre Heros&lt;/a&gt; font. It looks just like Helvetica to me.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download &lt;a href=&#34;http://www.gust.org.pl/projects/e-foundry/tex-gyre/heros/qhv2.004otf.zip&#34;&gt;&lt;code&gt;qhv2.004otf.zip&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On unix, unzip the file (which contains eight &lt;a href=&#34;https://en.wikipedia.org/wiki/OpenType&#34;&gt;&lt;code&gt;.otf&lt;/code&gt;&lt;/a&gt; files) into &lt;code&gt;~/.fonts&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On Mac, unzip the file, double-click the &lt;code&gt;.otf&lt;/code&gt; files and select &amp;ldquo;Install font.&amp;rdquo;  This uses the &lt;a href=&#34;https://support.apple.com/kb/HT2509&#34;&gt;Font Book&lt;/a&gt; application.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the &lt;code&gt;.tex&lt;/code&gt; file, use &lt;code&gt;\setsansfont{TeX Gyre Heros}&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Not thoroughly tested, but it works on two systems.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>It was a really bad idea to use slides in that class</title>
      <link>/2013/10/08/it-was-a-really-bad-idea-to-use-slides-in-that-class/</link>
      <pubDate>Tue, 08 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/10/08/it-was-a-really-bad-idea-to-use-slides-in-that-class/</guid>
      <description>&lt;p&gt;I gave a presentation in the Statistical Consulting course at UW-Madison today. I&amp;rsquo;ve done so a number of times in the past 6 years. Until today, I&amp;rsquo;d just spoken informally from a few pages of notes. (Earlier this year, I wrote up those notes as a &lt;a href=&#34;https://kbroman.org/blog/2013/04/02/thoughts-on-statistical-consulting/&#34;&gt;blog post&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;This year, just 45 min before the class, I thought I&amp;rsquo;d quickly create some slides to present. I thought it&amp;rsquo;d be an interesting &amp;ldquo;experiment&amp;rdquo; (not in the formal sense):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Could I quickly create usable slides using the &lt;a href=&#34;https://kbroman.org/blog/2013/10/07/better-looking-latexbeamer-slides/&#34;&gt;LateX/Beamer template I wrote about yesterday&lt;/a&gt;?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Would it be useful to have slides in this class?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The outcome was pretty clear: It was easy to create a bunch of bullet-point-based slides. They look nice. (See the &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/teaching/misc/consulting.pdf&#34;&gt;pdf here&lt;/a&gt;; &lt;a href=&#34;https://github.com/kbroman/Talk_StatConsulting.git&#34;&gt;source here&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But&lt;/strong&gt;, the slides themselves worse than useless: Unnecessary, and they interfered with the desired informal nature of the discussion.&lt;/p&gt;
&lt;p&gt;I won&amp;rsquo;t be using those slides again. I&amp;rsquo;ll go back to just talking from notes.&lt;/p&gt;
&lt;p&gt;Fortunately, the students were really good and involved and asked great questions, anyway. So no real harm done.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Better-looking LaTeX/Beamer slides</title>
      <link>/2013/10/07/better-looking-latexbeamer-slides/</link>
      <pubDate>Mon, 07 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/10/07/better-looking-latexbeamer-slides/</guid>
      <description>&lt;p&gt;I like to use &lt;a href=&#34;https://www.latex-project.org/&#34;&gt;LaTeX&lt;/a&gt; to make slides for talks, largely because I prefer to write code (rather than use a mouse and menus) for control of things like colors and figure placement.&lt;/p&gt;
&lt;p&gt;Most people that use LaTeX to make slides seem to use &lt;a href=&#34;https://en.wikipedia.org/wiki/Beamer_(LaTeX)&#34;&gt;Beamer&lt;/a&gt;, but the resulting slides are usually a bit busy, like this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://deic.uab.es/~iblanes/beamer_gallery/individual/Warsaw-default-default.html&#34;&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/blog/Warsaw-default-default-01.png&#34; alt=&#34;Typical beamer slide&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I admire &lt;a href=&#34;https://en.wikipedia.org/wiki/Till_Tantau&#34;&gt;Till Tantau&lt;/a&gt; for creating Beamer; it was a great idea and it&amp;rsquo;s been widely adopted. But I don&amp;rsquo;t like talk outlines at all; I certainly don&amp;rsquo;t want to see one on every page.&lt;/p&gt;
&lt;p&gt;After several days work, I&amp;rsquo;ve finally figured out how to create LaTeX/Beamer-based slides that look like what I want:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/openaccess.pdf&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/10/openaccess_pg1.png&#34; alt=&#34;Open Access talk, title page&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this post, I&amp;rsquo;ll explain what I did.&lt;/p&gt;
&lt;h3 id=&#34;my-history&#34;&gt;My history&lt;/h3&gt;
&lt;p&gt;Take a look at my &lt;a href=&#34;https://kbroman.org/talks.html&#34;&gt;list of presentations&lt;/a&gt; (going back to 1998), and you&amp;rsquo;ll see that I switched from LaTeX to powerpoint in 2004 and then switched back to LaTeX in 2006.&lt;/p&gt;
&lt;p&gt;My LaTeX-based slides (e.g., see &lt;a href=&#34;https://github.com/kbroman/Talk_Graphs&#34;&gt;my talks on data visualization&lt;/a&gt;) have been made using &lt;code&gt;\documentclass{article}&lt;/code&gt;, just changing the page size and increasing the font and then hard-coding placement of stuff. It leads to some pretty ugly and awkward code, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\headsize \color{myyellow}
\hfill \begin{minipage}{5.75in}
\centering
Example 1
\end{minipage}

\vspace{30mm}

\centerline{\includegraphics[height=6in]{Figs/fig1a.png}}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I knew Beamer would give cleaner code, but how to also have cleaner slides?&lt;/p&gt;
&lt;h3 id=&#34;a-starting-point&#34;&gt;A starting point&lt;/h3&gt;
&lt;p&gt;I googled &amp;ldquo;clean Beamer slides&amp;rdquo; or something like that, and I came across &lt;a href=&#34;https://mikedewar.wordpress.com/2009/02/25/latex-beamer-python-beauty/&#34;&gt;this post&lt;/a&gt; by &lt;a href=&#34;https://mikedewar.wordpress.com&#34;&gt;Mike Dewar&lt;/a&gt;, with a picture of a slide that looked much like what I wanted:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://mikedewar.files.wordpress.com/2009/02/beamer_screen.png&amp;amp;h=360&#34; alt=&#34;Slide from Mike Dewar&#34;&gt;&lt;/p&gt;
&lt;p&gt;So I read his post and studied his code and played around. Then I searched for stuff on the &lt;a href=&#34;https://tex.stackexchange.com/&#34;&gt;LaTeX Stack Exchange&lt;/a&gt; and played around some more. Then I read the &lt;a href=&#34;ftp://ftp.dante.de/tex-archive/macros/latex/contrib/beamer/doc/beameruserguide.pdf&#34;&gt;Beamer manual&lt;/a&gt; and played around some more.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s really not much to it.&lt;/p&gt;
&lt;h3 id=&#34;the-benefits-of-beamer&#34;&gt;The benefits of Beamer&lt;/h3&gt;
&lt;p&gt;The main benefits of using Beamer:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Simpler code, because it will place elements in reasonable places without a lot of messing about&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Simple animations using less code, so you &lt;a href=&#34;https://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself&#34;&gt;don&amp;rsquo;t repeat yourself&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Easy way to create handouts with notes on what you&amp;rsquo;re going to say. This is especially useful for others to learn from your presentation even if they can&amp;rsquo;t attend (which is most of the world). Here&amp;rsquo;s an example page from such a handout:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/openaccess_withnotes.pdf&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/10/openaccess_withnotes_pg15.png&#34; alt=&#34;Example notes page from Open Access talk&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;heres-what-i-did&#34;&gt;Here&amp;rsquo;s what I did&lt;/h3&gt;
&lt;p&gt;I was preparing a talk on open access publishing. Here&amp;rsquo;s &lt;a href=&#34;https://github.com/kbroman/Talk_OpenAccess&#34;&gt;the source&lt;/a&gt;; &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/openaccess.pdf&#34;&gt;the pdf&lt;/a&gt;; and &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/openaccess_withnotes.pdf&#34;&gt;a pdf with notes on what I intend to say&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll go through the details of the code, in case it might be useful to someone.&lt;/p&gt;
&lt;p&gt;Here are the first two lines of the &lt;code&gt;.tex&lt;/code&gt; file. The &lt;code&gt;12pt&lt;/code&gt; makes the default font a bit bigger, but not actually twelve point. The &lt;code&gt;t&lt;/code&gt; makes the body of each slide top-justified rather than vertically centered. You don&amp;rsquo;t need many packages, as lots of them (like &lt;code&gt;color&lt;/code&gt;) are included by default with Beamer.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\documentclass[12pt,t]{beamer}
\usepackage{graphicx}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;These next two lines are for the notes pages (if you are going to use that feature); more below.  By default, the notes are hidden. I wrote a &lt;a href=&#34;https://github.com/kbroman/Talk_OpenAccess/blob/master/createVersionWithNotes.rb&#34;&gt;ruby script&lt;/a&gt; to switch the &lt;code&gt;hide&lt;/code&gt; to &lt;code&gt;show&lt;/code&gt; and add &lt;code&gt;handout&lt;/code&gt; to the options in the &lt;code&gt;\documentclass&lt;/code&gt; command (more on that below). The &lt;code&gt;\setbeamertemplate&lt;/code&gt; command makes the note pages completely plain.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\setbeameroption{hide notes}
\setbeamertemplate{note page}[plain]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;These next lines choose the default Beamer theme, get rid of all of the navigation stuff, and make it so any bookmarks are not shown when you open the PDF in Acrobat.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\usetheme{default}
\beamertemplatenavigationsymbolsempty
\hypersetup{pdfpagemode=UseNone} % don&#39;t show bookmarks on initial view
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;These next lines change the font to Helvetica Neue, with Palatino used for the notes pages.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\usefonttheme{professionalfonts}
\usefonttheme{serif}
\usepackage{fontspec}
\setmainfont{Helvetica Neue}
\setbeamerfont{note page}{family*=pplx,size=\footnotesize} % Palatino for notes
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I define a bunch of colors.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\definecolor{foreground}{RGB}{255,255,255}
\definecolor{background}{RGB}{24,24,24}
\definecolor{title}{RGB}{107,174,214}
\definecolor{gray}{RGB}{155,155,155}
\definecolor{subtitle}{RGB}{102,255,204}
\definecolor{hilight}{RGB}{102,255,204}
\definecolor{vhilight}{RGB}{255,111,207}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I use those colors, for the titles, subtitle, institute, etc.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\setbeamercolor{titlelike}{fg=title}
\setbeamercolor{subtitle}{fg=subtitle}
\setbeamercolor{institute}{fg=gray}
\setbeamercolor{normal text}{fg=foreground,bg=background}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This stuff changes the color of bullets in &lt;code&gt;itemize&lt;/code&gt; environments and changes nested bullet symbols to en-dashes (-) in gray, and a bit smaller.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\setbeamercolor{item}{fg=foreground} % color of bullets
\setbeamercolor{subitem}{fg=gray}
\setbeamercolor{itemize/enumerate subbody}{fg=gray}
\setbeamertemplate{itemize subitem}{{\textendash}}
\setbeamerfont{itemize/enumerate subbody}{size=\footnotesize}
\setbeamerfont{itemize/enumerate subitem}{size=\footnotesize}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This gives me a slide number in the lower-right, in gray.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\setbeamertemplate{footline}{%
    \raisebox{5pt}{\makebox[\paperwidth]{\hfill\makebox[20pt]{\color{gray}
          \scriptsize\insertframenumber}}}\hspace*{5pt}}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This adds a bit of space between paragraphs on the notes pages.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\addtobeamertemplate{note page}{\setlength{\parskip}{12pt}}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I also made a few small macros to simplify some things.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\newcommand{\bi}{\begin{itemize}}
\newcommand{\ei}{\end{itemize}}
\newcommand{\ig}{\includegraphics}
\newcommand{\subt}[1]{{\footnotesize \color{subtitle} {#1}}}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;code-for-example-slides&#34;&gt;Code for example slides&lt;/h3&gt;
&lt;p&gt;Here&amp;rsquo;s the code to create the title slide. (The content is determined by &lt;code&gt;\title&lt;/code&gt;, &lt;code&gt;\author&lt;/code&gt;, etc., before the &lt;code&gt;\begin{document}&lt;/code&gt;.) The first line is to get rid of the page number. The text in &lt;code&gt;\note{}&lt;/code&gt; will appear on a separate page after the title slide, in the version of the PDF with notes.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
\setbeamertemplate{footline}{} % no page number here
\frame{
  \titlepage
  \note{These are slides for a talk I will give on 24 Oct 2013, at a
    symposium on open access publishing, organized by the Ebling
    Library, UW{\textendash}Madison.}
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here&amp;rsquo;s an example regular slide. &lt;code&gt;\subt&lt;/code&gt; is a macro defined above and just makes that text smaller and in a different color.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\begin{frame}{Access in action}
\subt{Interesting reference}

\bigskip
\centerline{
\ig[height=0.75\textheight]{Images/img01.jpg}
}

\note{I&#39;ll begin with an illustration of what I mean by
  access.

  The other day I was reading a manuscript and saw an
  article of interest.}
\end{frame}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here&amp;rsquo;s a fancier slide, with a bit of animation: codes like &lt;code&gt;&amp;lt;2-&amp;gt;&lt;/code&gt;, which means that bit is not on the first version of this slide but appears on subsequent versions. When the LaTeX file is turned into a PDF, four versions of this slide are created. But in the handout (with the notes), there&amp;rsquo;ll be just one, and the &lt;code&gt;&amp;lt;3| handout 0&amp;gt;&lt;/code&gt; bits are to control the separate look on the animated slides and on the single-slide version that shows up with the notes.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;\begin{frame}{It&#39;s all about money}
\subt{(Costs in scientific publishing)}

\vspace{24pt}

\bi
\item {\color&amp;lt;3| handout 0&amp;gt;{hilight} Research}
\item {\color&amp;lt;3| handout 0&amp;gt;{hilight} Writing}
\item {\color&amp;lt;3| handout 0&amp;gt;{hilight} Peer review, editorial oversight}
\item {\color&amp;lt;4| handout 0&amp;gt;{hilight} Journal administration}
\item {\color&amp;lt;4| handout 0&amp;gt;{hilight} Copy editing, typesetting}
\item {\color&amp;lt;4| handout 0&amp;gt;{hilight} Distribution}
\item&amp;lt;2-&amp;gt;{\color&amp;lt;2| handout 0&amp;gt;{vhilight} \color&amp;lt;4| handout 0&amp;gt;{hilight} Profit}
\ei
\note{ [clip] }
\end{frame}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;a-version-with-notes&#34;&gt;A version with notes&lt;/h3&gt;
&lt;p&gt;It&amp;rsquo;s nice to have a version of one&amp;rsquo;s slides that includes notes of what you&amp;rsquo;re going to say. I like &lt;a href=&#34;https://bost.ocks.org/mike&#34;&gt;Mike Bostock&lt;/a&gt; approach, as in &lt;a href=&#34;https://bost.ocks.org/mike/d3/workshop/#0&#34;&gt;these slides&lt;/a&gt;, with little sticky notes. But I don&amp;rsquo;t want to spend time trying to implement that in LaTeX, so I went with the built-in functionality in Beamer, though selecting a very plain template and adding a bit of space between paragraphs.&lt;/p&gt;
&lt;p&gt;I also chose to create a handout with just a single snapshot of the animated pages (in which I sequentially overlayed a number of images).&lt;/p&gt;
&lt;p&gt;Having added a &lt;code&gt;\note{}&lt;/code&gt; to each &amp;ldquo;frame,&amp;rdquo; there are just a few simple commands to add to the &lt;code&gt;.tex&lt;/code&gt; file to get it to compile to the handout with notes. So I wrote a &lt;a href=&#34;https://github.com/kbroman/Talk_OpenAccess/blob/master/createVersionWithNotes.rb&#34;&gt;ruby script&lt;/a&gt; to make those changes.&lt;/p&gt;
&lt;p&gt;I then used &lt;a href=&#34;https://www2.warwick.ac.uk/fac/sci/statistics/staff/academic-research/firth/software/pdfjam/&#34;&gt;pdfnup&lt;/a&gt; to make the notes PDF be 2-up: the slide above and the notes below. The details are in the &lt;a href=&#34;https://github.com/kbroman/Talk_OpenAccess/blob/master/Makefile&#34;&gt;Makefile&lt;/a&gt;; if that&amp;rsquo;s not obvious, see my &lt;a href=&#34;https://kbroman.github.io/minimal_make/&#34;&gt;minimal tutorial about GNU make&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Complaints about the NIH grant review process</title>
      <link>/2013/10/02/complaints-about-the-nih-grant-review-process/</link>
      <pubDate>Wed, 02 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/10/02/complaints-about-the-nih-grant-review-process/</guid>
      <description>&lt;p&gt;Earlier this week, I met with a collaborator to discuss what to do with our NIH grant proposal, whose &amp;ldquo;A1&amp;rdquo; was &amp;ldquo;unscored&amp;rdquo; (ie, the revised version, and you don&amp;rsquo;t get a third try, received a &amp;ldquo;preliminary score&amp;rdquo; in the lower half and so was not discussed by the review panel and couldn&amp;rsquo;t be funded).&lt;/p&gt;
&lt;p&gt;NIH proposals are typically reviewed by three people and given preliminary scores on five aspects (significance, approach, investigators, environment, innovation) and overall, and the top proposals based on those scores are discussed and scored by the larger panel.&lt;/p&gt;
&lt;p&gt;One of the reviewers gave our proposal an 8 for &amp;ldquo;approach&amp;rdquo; (on a scale of 1-9, with 1 being good and 9 being terrible) with the following review comments:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;4. Approach:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Strengths&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Well described details for mining of [data] and genotyping of [subjects].&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Weaknesses&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There is no power analysis for Aim 2. Without knowing which and how many [phenotypes] will be evaluated it is not possible to estimate the statistical power.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Valid comments, but is that really all the reviewer had to say? What about Aims 1 and 3, or the other aspects of Aim 2? &lt;em&gt;That is totally fucking inadequate.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Looking at this review again, I was reminded of how much I despise many aspects of the NIH review process. So it&amp;rsquo;s led me, finally, to write down some of the things that annoy me.&lt;/p&gt;
&lt;h3 id=&#34;the-scoring-system-is-too-discrete&#34;&gt;The scoring system is too discrete&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;ve been involved in reviewing NIH grants for 15 years. A bunch of changes were made in about 2009 or so, with a few things for the better (like having the review order of grants based on preliminary score) but many for the worse.&lt;/p&gt;
&lt;p&gt;The worst change was to the scoring system. In the old system, reviewers scored grants on a scale of 1-5, in tenths (1.0, 1.1, 1.2, &amp;hellip;), with 1 being best and 5 being worst. Scores were averaged and multiplied by 100, so the best possible score was 100 and the worst was 500. (And note that the middle value was 300 not 250, a point of confusion for many.)&lt;/p&gt;
&lt;p&gt;In the new system, reviewers score grants on a scale of 1-9, in single digits, with 1 being best and 9 being worst (and 5 being the middle value). Scores are averaged and multiplied by ten, so the best possible score is 10 and the worst is 90.&lt;/p&gt;
&lt;p&gt;When the new scale was introduced, we were given the following handy chart:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/10/nih_score_chart.png&#34; alt=&#34;NIH 9-point score chart&#34;&gt;&lt;/p&gt;
&lt;p&gt;As I understand it, there were two main reasons for revising the scoring system:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fix the &amp;ldquo;grade inflation&amp;rdquo; problem (too many good scores)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reviewers can&amp;rsquo;t score grants with 0.1 precision.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But as a fix for the grade inflation problem, revising the scoring system could only be a temporary solution. And as I understand it, the problem is now worse than ever.&lt;/p&gt;
&lt;p&gt;The big problem with the new scoring system is that reviewers have just 9 choices of scores, whereas before they had 41. Yes, a reviewer can&amp;rsquo;t really discriminate 1.3 from 1.4. &lt;strong&gt;But if you have 25 imprecise measure instruments, would it be better to&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;average and then round&lt;/em&gt;, or&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;round and then average&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It&amp;rsquo;s obviously better to &lt;em&gt;average and then round&lt;/em&gt;, but the new scoring system &lt;em&gt;rounds and then averages&lt;/em&gt;. (&lt;a href=&#34;https://www.jax.org/research-and-faculty/faculty/gary-churchill&#34;&gt;Gary Churchill&lt;/a&gt; pointed this out to me.)&lt;/p&gt;
&lt;p&gt;This leads to the frequent statements like, &amp;ldquo;I&amp;rsquo;d put this somewhere between a 1 and a 2.&amp;rdquo; And with line (or &amp;ldquo;band&amp;rdquo;) between funded and not funded being well above 20, it seems like, in many cases, &lt;em&gt;whether a grant is funded has to do with the proportion of reviewers that give it a 1&lt;/em&gt; rather than a 2.&lt;/p&gt;
&lt;h3 id=&#34;the-bullet-point-based-reviews-lead-to-superficial-and-incomplete-comments&#34;&gt;The bullet-point-based reviews lead to superficial and incomplete comments&lt;/h3&gt;
&lt;p&gt;It used to be that the written reviews of grant proposals were much like reviews of journal articles: for each aspect of a proposal (significance, approach, etc.), we&amp;rsquo;d write a few paragraphs, in some cases a full page. Such reviews were hard to write, were often long, and sometimes didn&amp;rsquo;t do a good job of making clear what were the really important issues and what were the less important ones.&lt;/p&gt;
&lt;p&gt;With the big review change in 2009, reviewers were asked to write bullet points for &amp;ldquo;Strengths&amp;rdquo; and &amp;ldquo;Weaknesses.&amp;rdquo; (And in a Microsoft Word template!)&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a lot easier to write a few bullet points than to construct coherent prose, but the bullet points that reviewers produce are generally shallow and incomplete. In some cases, a reviewer&amp;rsquo;s thinking about a proposal may be left in a shallow and incomplete state.&lt;/p&gt;
&lt;p&gt;The review at the top of this post is the best (or really &lt;em&gt;worst&lt;/em&gt;) instance of this problem.&lt;/p&gt;
&lt;h3 id=&#34;dont-drop-the-proposal-summary-from-the-beginning-of-the-discussion&#34;&gt;Don&amp;rsquo;t drop the proposal summary from the beginning of the discussion&lt;/h3&gt;
&lt;p&gt;In the old days, the discussion of a proposal would begin with the primary reviewer giving a brief summary: what are the investigators proposing to do? This is critical, as only 3 of the 25 or so people on the panel will have read the proposal.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t know if they&amp;rsquo;re still doing this, but with the other changes to the review process, we were asked to skip the summary of proposal and just discuss the significance of the work. But how on earth can you talk about the significance of the work without some mention of what the work actually is?&lt;/p&gt;
&lt;h3 id=&#34;the-electronic-grant-format-is-often-not-human-readable&#34;&gt;The electronic grant format is often not human readable.&lt;/h3&gt;
&lt;p&gt;When I first reviewed NIH grant proposals, we each got a copy-paper-sized box with all of the proposals (and when proposals were triaged, all 25 reviewers would simultaneously throw the proposal into a big pile). It was great to move to electronic versions of grants (initially scanned, then fully electronic), but the electronic versions of proposals are not constructed in a way that has a human reader in mind.&lt;/p&gt;
&lt;p&gt;The front page of grants used to be quite clear and informative, but now all of the form-generated pages are a design mess. For example, the pages listing the key personnel and their institutions are really hard to parse.&lt;/p&gt;
&lt;p&gt;Also, there are loads of useless pages describing what documents were included. Couldn&amp;rsquo;t the reviewers get a version without all of that crap?&lt;/p&gt;
&lt;p&gt;Finally, the PDF bookmarks are often off by a page. If you want to go to the biosketches, you need to click the biosketch bookmark and then page down one.&lt;/p&gt;
&lt;p&gt;These things aren&amp;rsquo;t &lt;em&gt;that&lt;/em&gt; big of a deal, but they&amp;rsquo;re a constant annoyance, and they should be easy to fix.&lt;/p&gt;
&lt;p&gt;Tony Scarpa, the former director of the &lt;a href=&#34;https://public.csr.nih.gov&#34;&gt;NIH Center for Scientific Review (CSR)&lt;/a&gt; who was responsible for the big change in the NIH review system, once visited U Wisconsin, and I asked him about whether these electronic proposals could be improved, and he said, &amp;ldquo;Oh, that&amp;rsquo;s not us; that&amp;rsquo;s grants.gov.&amp;rdquo; So I asked who I should talk to about the issue, and he said, &amp;ldquo;Call your Congressman.&amp;rdquo;&lt;/p&gt;
&lt;h3 id=&#34;there-needs-to-be-some-review-of-reviewers&#34;&gt;There needs to be some review of reviewers&lt;/h3&gt;
&lt;p&gt;One final comment: there needs to be some formal way for reviewers to comment on other reviewers. I think most reviewers are very careful and responsible, but there&amp;rsquo;s often at least one total jerk on a review panel: didn&amp;rsquo;t read the proposal carefully, didn&amp;rsquo;t write a coherent review, didn&amp;rsquo;t pay any attention to what the other reviewers said, gave completely unfair scores.&lt;/p&gt;
&lt;p&gt;There should be some system for other reviewers to say, &amp;ldquo;So-and-so on the panel was a complete jerk and shouldn&amp;rsquo;t be brought back.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Code review</title>
      <link>/2013/09/25/code-review/</link>
      <pubDate>Wed, 25 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/09/25/code-review/</guid>
      <description>&lt;p&gt;There was an &lt;a href=&#34;http://www.nature.com/news/mozilla-plan-seeks-to-debug-scientific-code-1.13812&#34;&gt;interesting news item&lt;/a&gt; in Nature on &lt;a href=&#34;http://en.wikipedia.org/wiki/Code_review&#34;&gt;code review&lt;/a&gt;.  It describes a project by some folks at Mozilla to review the code (well, really just 200-line snippets) from 6 selected papers in computational biology.&lt;/p&gt;
&lt;p&gt;There are very brief quotes from &lt;a href=&#34;http://ivory.idyll.org/blog/&#34;&gt;Titus Brown&lt;/a&gt; and &lt;a href=&#34;http://www.biostat.jhsph.edu/~rpeng/&#34;&gt;Roger Peng&lt;/a&gt;.  I expect that the author of the item, &lt;a href=&#34;http://www.nature.com/nature/about/editors/index.html#ErikaCheckHayden&#34;&gt;Erika Check Hayden&lt;/a&gt;, spoke to Titus and Roger at length but could just include short bits from each, and so what they say probably doesn&amp;rsquo;t fully (or much at all) characterize their view of the issue.&lt;/p&gt;
&lt;p&gt;Titus is quoted as follows, in reference to another scientist who retracted five papers due to an error in his code:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;That&amp;rsquo;s the kind of thing that should freak any scientist out&amp;hellip;. We don&amp;rsquo;t have good processes in place to detect that kind of thing in software.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Roger is quoted at the end, as follows:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;One worry I have is that, with reviews like this, scientists will be even more discouraged from publishing their code&amp;hellip;. We need to get more code out there, not improve how it looks.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I agree with both of them, but my initial reaction, from the beginning of the piece, was closer to Roger&amp;rsquo;s: We often have a heck of time getting any code out of people; if we are too hard on people regarding the quality of their code, they might become even less willing to share.&lt;/p&gt;
&lt;p&gt;On the one hand, we want people to produce good code:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;that works&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;that&amp;rsquo;s readable&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;that&amp;rsquo;s reusable&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And it would be great if, for every bit of code, there was a second programmer who studied it, verified that it was doing the right thing, and offered suggestions for improvement.&lt;/p&gt;
&lt;p&gt;But, on the other hand, it seems really unlikely that journals have the resources to do this. And I worry that a study showing that much scientific software is crap will make people even less willing to share.&lt;/p&gt;
&lt;p&gt;I would like to see the code associated with scientific articles made readily available, during the review process and beyond. But I don&amp;rsquo;t think we (as a scientific community) want to enforce rigorous code review prior to publication.&lt;/p&gt;
&lt;p&gt;Later, on twitter, &lt;a href=&#34;https://twitter.com/ctitusbrown/status/382862626692149248&#34;&gt;Titus took issue&lt;/a&gt; with the &amp;ldquo;not improve how it looks&amp;rdquo; part of what Roger said:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;.@kwbroman @simplystats @rdpeng Please read &lt;a href=&#34;http://en.wikipedia.org/wiki/Code_review&#34;&gt;http://en.wikipedia.org/wiki/Code_review&lt;/a&gt; you are deeply, significantly, and completely wrong about code review.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Characterizing code review as strictly cosmetic was an unfortunate, gross simplification. (And how code looks &lt;em&gt;is&lt;/em&gt; important.)&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t have enough time this morning to really clean up my thoughts on this issue, and I want to get this out and move on to reading that dissertation that I have to get through by tomorrow. So, let me summarize.&lt;/p&gt;
&lt;h3 id=&#34;summary&#34;&gt;Summary&lt;/h3&gt;
&lt;p&gt;We want scientific code to be &lt;em&gt;well written&lt;/em&gt;: does what it&amp;rsquo;s intended to do, readable, reusable.&lt;/p&gt;
&lt;p&gt;We want scientific code to be &lt;em&gt;available&lt;/em&gt;. (Otherwise we can&amp;rsquo;t verify that it does what it&amp;rsquo;s intended to do, or reuse it.)&lt;/p&gt;
&lt;p&gt;If we&amp;rsquo;re too hard on people for writing substandard code, we&amp;rsquo;ll discourage the availability. It&amp;rsquo;s an important trade-off.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hiring computational biologists</title>
      <link>/2013/09/25/hiring-computational-biologists/</link>
      <pubDate>Wed, 25 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/09/25/hiring-computational-biologists/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;https://morgridge.org&#34;&gt;Morgridge Institute for Research&lt;/a&gt; (MIR), a private research institute associated with UW-Madison, is looking to hire some computational folks working in biology. &lt;a href=&#34;https://www.biostat.wisc.edu/About/Jobs/adPLV77619.pdf&#34;&gt;One position&lt;/a&gt; is joint with my department,  &lt;a href=&#34;https://www.biostat.wisc.edu&#34;&gt;Biostatistics &amp;amp; Medical Informatics&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;yet-another-symposium&#34;&gt;Yet another symposium&lt;/h3&gt;
&lt;p&gt;Yesterday afternoon, they held a symposium on &amp;ldquo;Computation in Biology&amp;rdquo; (&lt;a href=&#34;https://kbroman.files.wordpress.com/2013/09/computation-in-biology-agenda.pdf&#34;&gt;Here&amp;rsquo;s the agenda.&lt;/a&gt;) Great speakers: &lt;a href=&#34;http://faculty.biomath.ucla.edu/msuchard/&#34;&gt;Marc Suchard&lt;/a&gt;, &lt;a href=&#34;http://shoichetlab.compbio.ucsf.edu/&#34;&gt;Brian Shoichet&lt;/a&gt;, &lt;a href=&#34;http://pages.cs.wisc.edu/~dpage/&#34;&gt;David Page&lt;/a&gt;, and &lt;a href=&#34;https://hsci.harvard.edu/people/winston-hide-phd&#34;&gt;Winston Hide&lt;/a&gt;. They were asked to speak broadly about computation in biology and on the key issues for the future, and there was plenty of time for discussion.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not sure what MIR was hoping to get out of the symposium, but if they were looking for guidance regarding their hiring efforts, it wasn&amp;rsquo;t effective. At the beginning, the discussion was quite heated but not terribly constructive. In the middle, it became more like the usual sort of question/answer after a seminar. I must admit I didn&amp;rsquo;t stay to the end. Perhaps some important insights were gained after I left. But it seems unlikely that the symposium provided much guidance about hiring in computational biology.&lt;/p&gt;
&lt;h3 id=&#34;the-key-issues&#34;&gt;The key issues&lt;/h3&gt;
&lt;p&gt;Here are what I think the key issues are, when a scientific organization is looking to hire some computational folks.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Do you want a targeted search (for particular kinds of applications or approaches), or do you want to leave it general and just pick the best folks who apply?. (&lt;em&gt;In my experience, targeted searches don&amp;rsquo;t work as well; you miss out on some great people.&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;What service role is expected of the person? Do you want them to meet some particular scientists&#39; needs, or are you going to let them do whatever they want, with the hope that they form useful (to the organization) collaborations? (&lt;em&gt;The expectations should be made explicit.&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At promotion time, who is going to evaluate the person? If it&amp;rsquo;s a separate academic department (say, Statistics, or maybe Biochemistry), do they share your organization&amp;rsquo;s values? (&lt;em&gt;Some of the best applied computational scientists may not be generating the NIH grants that a traditional biological sciences department might expect, nor the JASA or Biometrics papers that a Statistics department might expect.&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Will the person have appropriate mentors? Is there anyone at the institution who really understands the nature of their position and what they need to do to succeed? (&lt;em&gt;I worry particularly about computational scientists who are isolated from their computational peers.&lt;/em&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I don&amp;rsquo;t have any great answers, but those are the issues that I&amp;rsquo;m concerned about.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update&lt;/em&gt;: The real point I&amp;rsquo;m trying to make: academics doesn&amp;rsquo;t do a good job of rewarding tool building (eg, software tools). It&amp;rsquo;s often viewed as better to write papers with toy implementations than to make generally useful software. That&amp;rsquo;s a real problem for computational biology, and for folks seeking to hire truly useful computational biologists.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Department websites</title>
      <link>/2013/09/11/department-websites/</link>
      <pubDate>Wed, 11 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/09/11/department-websites/</guid>
      <description>&lt;p&gt;I was thinking about department websites, partly because &lt;a href=&#34;https://www.biostat.wisc.edu&#34;&gt;my own department&amp;rsquo;s website&lt;/a&gt; is terrible, and recently a colleague asked me whether I could suggest some &lt;em&gt;good&lt;/em&gt; department sites.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll describe the basic principles for a good department website, and then I&amp;rsquo;ll comment on a number of examples.&lt;/p&gt;
&lt;p&gt;But first: No discussion of academic web pages is complete without referring to the &lt;a href=&#34;https://xkcd.com/773/&#34;&gt;xkcd comic&lt;/a&gt; on University websites, so let&amp;rsquo;s start with that:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://xkcd.com/773/&#34;&gt;&lt;img src=&#34;https://imgs.xkcd.com/comics/university_website.png&#34; alt=&#34;xkcd comic: University Websites&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;basic-principles&#34;&gt;Basic principles&lt;/h3&gt;
&lt;p&gt;Here are what I see to be the basic principles for constructing a department website:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Think of the audiences and what they&amp;rsquo;d be looking for&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Prospective students&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Prospective/visiting faculty&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Current students&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Collaborators&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Administrators&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Current faculty&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Department staff&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keep the important stuff near the top; minimize bloat&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Here&amp;rsquo;s the key stuff that should be prominent:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Degree programs; courses; how to apply&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Faculty and student pages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Staff contact information&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Seminars&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Job opportunities&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t use stock photos or (even worse!) clip art&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Avoid deep nesting of information&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Have meaningful URLs (in particular, don&amp;rsquo;t let &lt;a href=&#34;https://drupal.org/&#34;&gt;drupal&lt;/a&gt; use &lt;code&gt;node/134&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Have a consistent style across the official pages &amp;ndash; particularly in the location and layout of menus of hyperlinks&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I prefer minimalism. Think &lt;a href=&#34;https://www.google.com&#34;&gt;google&lt;/a&gt; or &lt;a href=&#34;https://www.apple.com&#34;&gt;apple&lt;/a&gt; rather than &lt;a href=&#34;https://www.microsoft.com&#34;&gt;Microsoft&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;some-examples&#34;&gt;Some examples&lt;/h3&gt;
&lt;p&gt;I briefly perused a number of statistics and biostatistics department websites. Here are my first impressions. The sites for &lt;a href=&#34;https://statistics.berkeley.edu/&#34;&gt;Berkeley&lt;/a&gt;, &lt;a href=&#34;https://statistics.stanford.edu/&#34;&gt;Stanford&lt;/a&gt;, and &lt;a href=&#34;https://www.stat.umn.edu/&#34;&gt;Minnesota&lt;/a&gt; Statistics were my favorites.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The key bits are half-way down the page, due to unnecessary (in my mind) school-related crap along the top, plus the news items. The &amp;ldquo;Quick find&amp;rdquo; looks-like-a-drop-down-menu at the top right seems to just link to a &lt;em&gt;different department&amp;rsquo;s web page&lt;/em&gt;. The news items at the top result in the menu moving upward when you click on a link (as those news items don&amp;rsquo;t appear in the subsequent pages).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.hsph.harvard.edu/biostatistics&#34;&gt;Harvard Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s too much school-related crap at the top, but it&amp;rsquo;s not as bad as the &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins site&lt;/a&gt;. I like having pages &amp;ldquo;For Prospective Students,&amp;rdquo; &amp;ldquo;For Current Students,&amp;rdquo; etc., but they pop to pages that look totally different and lose that menu, so you have to go back and then forward again. &amp;ldquo;Student Profiles&amp;rdquo; maybe should just be called &amp;ldquo;Student Profile&amp;rdquo; as there doesn&amp;rsquo;t seem to be more than one. The &amp;ldquo;BIO&amp;rdquo; in &amp;ldquo;BIO Faculty&amp;rdquo; and &amp;ldquo;BIO Researchers&amp;rdquo; was a little confusing: Is it obvious what &amp;ldquo;BIO&amp;rdquo; means, and is it really necessary?  I&amp;rsquo;d put the Faculty and Researchers links closer to the top and may try to distinguish the different classes of links: the ones that people are really there for, and then all of the &amp;ldquo;For Such-and-Such&amp;rdquo; somewhat separately.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.washington.edu/&#34;&gt;Washington Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Reasonably clean, but a bit of the &lt;code&gt;node/134&lt;/code&gt; problem. And there are two kinds of menus: tabs at the top, and a menu at the right side. I think it&amp;rsquo;s okay, but it was a bit confusing initially: It wasn&amp;rsquo;t immediately obvious that I click a different tab to get a different set of menu choices.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sph.unc.edu/department-pages/biostatistics/&#34;&gt;UNC-Chapel Hill Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The main page looks nice, but the sub-pages have a different format.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.stat.ncsu.edu/&#34;&gt;NC State Statistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I generally like it, but why split the faculty list across multiple pages? I see no reason to limit the length of a web page; scrolling is our friend.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sph.umn.edu/biostatistics/&#34;&gt;Minnesota Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Way&lt;/em&gt; too much bloat at the top; links all over the place at the bottom&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.stat.umn.edu/&#34;&gt;Minnesota Statistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I like this one. I&amp;rsquo;m not sure about the color choices, but the site is clean, and it&amp;rsquo;s easy to navigate. And I like the choice and order of topics in the menu at the left.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://statistics.stanford.edu/&#34;&gt;Stanford Statistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I really like this one: Just the facts, plus a picture of Sequoia Hall. There&amp;rsquo;s a little menu bar at the top that has the key stuff. You want to know about courses or degree programs? Click &amp;ldquo;Academics.&amp;rdquo; You want to know about People or Seminars? They&amp;rsquo;re right there at the top. How do you apply? Click &amp;ldquo;Admissions.&amp;rdquo; They could maybe trim the news on the left of the front page; some of it is getting old and at least one of the links doesn&amp;rsquo;t work anymore.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://statistics.berkeley.edu/&#34;&gt;Berkeley Statistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Berkeley is slightly better than Stanford. The websites, I mean. It&amp;rsquo;s simple, there&amp;rsquo;s a clean little menu at the top, and the menus at the top have clear little drop-down menus when you hover over things. I like that they use more horizontal space. I guess I wouldn&amp;rsquo;t put &amp;ldquo;Seminars&amp;rdquo; under &amp;ldquo;Research&amp;rdquo; Nor would I put &amp;ldquo;Alumni Connections&amp;rdquo; under &amp;ldquo;Industry.&amp;rdquo; So there are ways in which Stanford is better than Berkeley.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.sph.umich.edu/biostat/&#34;&gt;Michigan Biostatistics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The front page looks a bit cluttered. And they list University rankings front and center, which is a bit of an embarrassment. There&amp;rsquo;s a bit of school-related stuff at the top, but it&amp;rsquo;s not as bothersome as some others. There may be too many choices on the left. It&amp;rsquo;s hard to pick out the ones you want, even if they&amp;rsquo;re there. And &amp;ldquo;Students&amp;rdquo; should really be &amp;ldquo;For Students,&amp;rdquo; while &amp;ldquo;Careers&amp;rdquo; should really be &amp;ldquo;Alumni Profiles.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Of course, I could look at a ton more, but I&amp;rsquo;m sort of sick of this. Go have a look yourself, and let me know if you find good ones.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#34;[&#34; and &#34;[[&#34; with the apply() functions</title>
      <link>/2013/08/20/and-with-the-apply-functions/</link>
      <pubDate>Tue, 20 Aug 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/08/20/and-with-the-apply-functions/</guid>
      <description>&lt;p&gt;Did you know you can use &lt;code&gt;&amp;quot;[&amp;quot;&lt;/code&gt; and &lt;code&gt;&amp;quot;[[&amp;quot;&lt;/code&gt; as function names for subsetting with calls to the &lt;code&gt;apply&lt;/code&gt;-type functions?&lt;/p&gt;
&lt;p&gt;For example, suppose you have a bunch of identifier strings like &lt;code&gt;&amp;quot;ZYY-43S-CWA3&amp;quot;&lt;/code&gt; and you want to pull off the bit before the first hyphen (&lt;code&gt;&amp;quot;ZYY&amp;quot;&lt;/code&gt; in this case).  (For code to create random IDs like that, see the end of this post.)&lt;/p&gt;
&lt;p&gt;Suppose the IDs are in a vector of character strings, &lt;code&gt;id&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If I wanted to grab the bit before the first hyphen, I would typically use &lt;code&gt;strsplit&lt;/code&gt; and then &lt;code&gt;sapply&lt;/code&gt; with &lt;code&gt;function(a) a[1]&lt;/code&gt;, as so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sapply&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strsplit&lt;/span&gt;(id, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(a) a[1])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But in place of &lt;code&gt;function(a) a[1]&lt;/code&gt;, you can use &lt;code&gt;&amp;quot;[&amp;quot;, 1&lt;/code&gt;, as follows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sapply&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strsplit&lt;/span&gt;(id, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I think that&amp;rsquo;s kind of cute. You can use &lt;code&gt;&amp;quot;[[&amp;quot;&lt;/code&gt; the same way, if you&amp;rsquo;re working with lists.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s some code to create random IDs of this form, to test out the above:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;nind &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;
lengths &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
id &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NULL&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt;(i in &lt;span style=&#34;color:#a6e22e&#34;&gt;seq&lt;/span&gt;(along&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;lengths)) {
  randchar &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;LETTERS&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;), nind&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lengths[i], replace&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
  randstring &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;apply&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;matrix&lt;/span&gt;(randchar, ncol&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;lengths[i]),
                   &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, paste, collapse&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;is.null&lt;/span&gt;(id)) id &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; randstring
  else id &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;paste&lt;/span&gt;(id, randstring, sep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Electronic lab notebook</title>
      <link>/2013/08/20/electronic-lab-notebook/</link>
      <pubDate>Tue, 20 Aug 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/08/20/electronic-lab-notebook/</guid>
      <description>&lt;p&gt;I was interested to read &lt;a href=&#34;http://ivory.idyll.org&#34;&gt;C. Titus Brown&lt;/a&gt;&amp;rsquo;s recent post, &amp;ldquo;&lt;a href=&#34;http://ivory.idyll.org/blog/is-version-control-an-electronic-lab-notebook.html&#34;&gt;Is version control an electronic lab notebook?&lt;/a&gt;&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I think version control &lt;em&gt;is&lt;/em&gt; really important, and I think all computational scientists &lt;em&gt;should&lt;/em&gt; have something equivalent to a lab notebook. But I think of version control as serving needs orthogonal to those served by a lab notebook.&lt;/p&gt;
&lt;p&gt;As Titus points out, a traditional lab notebook serves two purposes: provenance and protocol. Version control could be useful for provenance, but I don&amp;rsquo;t really care about provenance. And for protocol, version control doesn&amp;rsquo;t really matter.&lt;/p&gt;
&lt;h3 id=&#34;version-control&#34;&gt;Version control&lt;/h3&gt;
&lt;p&gt;I really like &lt;a href=&#34;https://git-scm.com/&#34;&gt;git&lt;/a&gt; with &lt;a href=&#34;https://github.com&#34;&gt;github&lt;/a&gt;. (See &lt;a href=&#34;https://kbroman.github.io/github_tutorial/&#34;&gt;my tutorial&lt;/a&gt;.) But for me, the basic need served by version control  is that embodied in the question, &amp;ldquo;This shit worked before; why isn&amp;rsquo;t it working now?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;You don&amp;rsquo;t want to edit working code &lt;em&gt;in place&lt;/em&gt; and so possibly break a working system. Version control lets you try things out, and to try something out in any version of your software, from any point in time.&lt;/p&gt;
&lt;p&gt;The other basic use of version control is for managing projects with multiple contributors. If there are multiple programmers working on a software project, or multiple authors working on a manuscript, version control is the best way to manage things, particularly for merging everyone&amp;rsquo;s efforts.&lt;/p&gt;
&lt;p&gt;These are really useful things, but version control is more about &lt;em&gt;merging&lt;/em&gt; and &lt;em&gt;history&lt;/em&gt; and not so much &lt;em&gt;reproducible research&lt;/em&gt;.&lt;/p&gt;
&lt;h3 id=&#34;make-is-the-thing&#34;&gt;Make is the thing&lt;/h3&gt;
&lt;p&gt;To me, the basic tool to make research reproducible is &lt;a href=&#34;https://www.gnu.org/software/make/&#34;&gt;GNU make&lt;/a&gt; (see my &lt;a href=&#34;https://kbroman.github.io/minimal_make/&#34;&gt;minimal tutorial&lt;/a&gt;). You create a &lt;code&gt;Makefile&lt;/code&gt; that documents all analysis steps in a project. (For example, &amp;ldquo;Use this script to turn these raw data files into that combined file, and use this script to create figure 1 and that script to create figure 2, then combine them with this LaTeX file to make the manuscript PDF.&amp;quot;)&lt;/p&gt;
&lt;p&gt;With GNU make (see also &lt;a href=&#34;http://rake.rubyforge.org/&#34;&gt;rake&lt;/a&gt;), you both document and automate these processes. With well-documented/commented scripts and an all-encompassing &lt;code&gt;Makefile&lt;/code&gt;, the research is reproducible.&lt;/p&gt;
&lt;h3 id=&#34;add-knitr-and-youve-got-a-notebook&#34;&gt;Add knitr, and you&amp;rsquo;ve got a notebook&lt;/h3&gt;
&lt;p&gt;The other ingredient to create the computational scientist&amp;rsquo;s equivalent of a lab notebook is &lt;a href=&#34;https://yihui.name/knitr/&#34;&gt;knitr&lt;/a&gt;, which allows one to combine text (e.g., in &lt;a href=&#34;https://daringfireball.net/projects/markdown/&#34;&gt;Markdown&lt;/a&gt; or &lt;a href=&#34;https://www.methods.co.nz/asciidoc/&#34;&gt;asciidoc&lt;/a&gt;) and code (e.g., in &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;) to make documents (e.g., in html or PDF) that both &lt;em&gt;do&lt;/em&gt; the work and &lt;em&gt;explain&lt;/em&gt; the work. Write such documents to describe what you did and what you learned, and you&amp;rsquo;ve got an electronic lab notebook.&lt;/p&gt;
&lt;p&gt;You could even get rid of your &lt;code&gt;Makefile&lt;/code&gt; by having an over-arching knitr-based document that does it all.  But I still like &lt;a href=&#34;https://www.gnu.org/software/make&#34;&gt;make&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;but-its-so-much-work&#34;&gt;But it&amp;rsquo;s so much work!&lt;/h3&gt;
&lt;p&gt;Going into a file and deleting a data point is a lot easier than writing a script that does it (and also documents &lt;em&gt;why&lt;/em&gt;). But I don&amp;rsquo;t think you should be going in and changing the data like that, even if it is being tracked by version control. (And that is the main complaint potential users have about version control: &amp;ldquo;Too time consuming!&amp;quot;)&lt;/p&gt;
&lt;p&gt;I think you have to expect that writing well-documented scripts and &lt;a href=&#34;https://yihui.name/knitr/&#34;&gt;knitr&lt;/a&gt;-based reports that capture the totality of a data analysis project will take a lot of work: perhaps double (or more!) the effort. But it will save a ton of time later (if others care about what you did).&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t really want to take this time in the midst of a bout of exploratory data analysis. I find it too inhibiting. So I tend to do a bunch of analyses, capturing the main ideas in a draft R script (or reconstructed later from the &lt;code&gt;.Rhistory&lt;/code&gt; file), and then go back later to make a clean knitr-based document that explains what I was doing and why.&lt;/p&gt;
&lt;p&gt;It can be hard to force myself to do the clean-up. I wish there were an easier way. But I expect that well-organized lab scientists devote a lot of time to constructing their lab notebooks, too.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Read the source code</title>
      <link>/2013/08/06/read-the-source-code/</link>
      <pubDate>Tue, 06 Aug 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/08/06/read-the-source-code/</guid>
      <description>&lt;p&gt;The other day, there was a bit of &lt;a href=&#34;https://twitter.com/hspter/status/363015797204992000&#34;&gt;a twitter conversation about &lt;code&gt;qqline&lt;/code&gt;&lt;/a&gt; in R.&lt;/p&gt;
&lt;p&gt;It made me think: how exactly is the line produced by &lt;code&gt;qqline&lt;/code&gt; chosen? I seemed to recall that the line was through the first and third quartiles.&lt;/p&gt;
&lt;p&gt;An advantage of R is that you can just type the name of the function and see the code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-R&#34; data-lang=&#34;R&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# qqline&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;function &lt;/span&gt;(y, datax &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, distribution &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; qnorm, probs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt;,
    &lt;span style=&#34;color:#ae81ff&#34;&gt;0.75&lt;/span&gt;), qtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;...&lt;/span&gt;)
{
    &lt;span style=&#34;color:#a6e22e&#34;&gt;stopifnot&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;length&lt;/span&gt;(probs) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;is.function&lt;/span&gt;(distribution))
    y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;quantile&lt;/span&gt;(y, probs, names &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; qtype, na.rm &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
    x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;distribution&lt;/span&gt;(probs)
    &lt;span style=&#34;color:#a6e22e&#34;&gt;if &lt;/span&gt;(datax) {
        slope &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;diff&lt;/span&gt;(x)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;diff&lt;/span&gt;(y)
        int &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; x[1L] &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; slope &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; y[1L]
    }
    else {
        slope &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;diff&lt;/span&gt;(y)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;diff&lt;/span&gt;(x)
        int &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; y[1L] &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; slope &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; x[1L]
    }
    &lt;span style=&#34;color:#a6e22e&#34;&gt;abline&lt;/span&gt;(int, slope, &lt;span style=&#34;color:#66d9ef&#34;&gt;...&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I was right: They take the 25th and 75th percentiles of the data and of the theoretical distribution, calculate the slope and y-intercept of the line that goes through those two points, and use &lt;code&gt;abline&lt;/code&gt; to draw the line.&lt;/p&gt;
&lt;p&gt;Open source means the source is open, so why not take the time to look at it?&lt;/p&gt;
&lt;p&gt;Sometimes typing the name of the function doesn&amp;rsquo;t tell you much:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-R&#34; data-lang=&#34;R&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# qqnorm&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;function &lt;/span&gt;(y, &lt;span style=&#34;color:#66d9ef&#34;&gt;...&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;UseMethod&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;qqnorm&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In such cases, you could try typing, for example, &lt;code&gt;qqnorm.default&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Still, the comments (if there were any) get stripped off, and for long functions, it&amp;rsquo;s not pretty.  So I like to keep a copy of the source code (for example, &lt;a href=&#34;http://cran.r-project.org/src/base/R-3/R-3.0.1.tar.gz&#34;&gt;&lt;code&gt;R-3.0.1.tar.gz&lt;/code&gt;&lt;/a&gt;; extract it with &lt;code&gt;tar xzf R-3.0.1.tar.gz&lt;/code&gt;). I use &lt;code&gt;grep&lt;/code&gt; to find the relevant files.&lt;/p&gt;
&lt;p&gt;For example,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grep -r &#39;qqline&#39; R-3.0.1/src/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;shows that I should look for &lt;code&gt;qqline&lt;/code&gt; in&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;R-3.0.1/src/library/stats/R/qqnorm.R
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For something like &lt;code&gt;cor&lt;/code&gt;, you might want to do:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grep -r &#39;cor &amp;lt;-&#39; R-3.0.1/src
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or maybe:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grep -r &#39;cor &amp;lt;-&#39; R-3.0.1/src/library/stats/R
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But for &lt;code&gt;cor&lt;/code&gt;, you probably also want to look at the C code, which is in&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;R-3.0.1/src/library/stats/src/cov.c
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can learn a lot about programming from the source code for R.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>More on Chutes &amp; Ladders</title>
      <link>/2013/05/20/more-on-chutes-ladders/</link>
      <pubDate>Mon, 20 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/20/more-on-chutes-ladders/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://twitter.com/mmaenner/status/335478612084006912&#34;&gt;Matt Maenner asked&lt;/a&gt; about the sawtooth pattern in the &lt;a href=&#34;https://kbroman.files.wordpress.com/2013/05/chutes_and_ladders_spins1.png&#34;&gt;figure&lt;/a&gt; in &lt;a href=&#34;https://kbroman.org/blog/2013/05/17/chutes-ladders-how-long-is-this-going-to-take/&#34;&gt;my last post on Chutes &amp;amp; Ladders&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Damn you, Matt!  I thought I was done with this.  Don&amp;rsquo;t feed my obsession.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/kwbroman/status/335499296193536000&#34;&gt;My response&lt;/a&gt; was that if the game ends early, it&amp;rsquo;s even more likely that it&amp;rsquo;ll be the kid who went first who won.  &lt;em&gt;But&lt;/em&gt;, my intuition was wrong: exactly the opposite is true. &lt;em&gt;It is&lt;/em&gt; the advantage to the first player that causes the sawtooth pattern, but that advantage &lt;em&gt;increases&lt;/em&gt; with the number of rounds rather than decreases.&lt;/p&gt;
&lt;h3 id=&#34;numerical-results&#34;&gt;Numerical results&lt;/h3&gt;
&lt;p&gt;While it&amp;rsquo;s fast and easy to study the Chutes &amp;amp; Ladders game by simulation, if you want to answer questions more precisely, it&amp;rsquo;s best to switch to more exact results.&lt;/p&gt;
&lt;p&gt;Consider a single individual playing the game, and let &lt;em&gt;X&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt; be
his/her location at round &lt;em&gt;n&lt;/em&gt;. The &lt;em&gt;X&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;
form a &lt;a href=&#34;https://en.wikipedia.org/wiki/Markov_chain&#34;&gt;&lt;em&gt;Markov chain&lt;/em&gt;&lt;/a&gt;,
in that the future (&lt;em&gt;X&lt;sub&gt;n+1&lt;/sub&gt;&lt;/em&gt;), given the present (&lt;em&gt;X&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;),
is conditionally independent of the history (&lt;em&gt;X&lt;sub&gt;1&lt;/sub&gt;&lt;/em&gt;, &amp;hellip;, &lt;em&gt;X&lt;sub&gt;n-1&lt;/sub&gt;&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s relatively easy to construct the transition matrix of the chain.  (See my &lt;a href=&#34;https://gist.github.com/kbroman/5600209/#file-chutes_and_ladders_numerical-r&#34;&gt;R code&lt;/a&gt;.)  This is a matrix &lt;em&gt;P&lt;/em&gt;, with &lt;em&gt;P&lt;sub&gt;ij&lt;/sub&gt;&lt;/em&gt; = Pr(&lt;em&gt;X&lt;sub&gt;n+1&lt;/sub&gt;&lt;/em&gt; = &lt;em&gt;j&lt;/em&gt; | &lt;em&gt;X&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt; = &lt;em&gt;i&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Then the probability that a player has reached state 100 by round &lt;em&gt;n&lt;/em&gt; is
(1, 0, &amp;hellip;, 0) &lt;em&gt;P&lt;sup&gt;n&lt;/sup&gt;&lt;/em&gt; (0, &amp;hellip;, 0, 1)’.  That&amp;rsquo;s the cumulative distribution function (cdf) of the number of rounds for a single player to finish the game.  Call this &lt;em&gt;q&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;.  You can get the probability distribution by differences, say &lt;em&gt;p&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt; = &lt;em&gt;q&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt; - &lt;em&gt;q&lt;sub&gt;n-1&lt;/sub&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;To calculate the number of rounds to complete a game with &lt;em&gt;k&lt;/em&gt; players, you want the minimum of &lt;em&gt;k&lt;/em&gt; independent draws from this distribution.  The probability that a game with &lt;em&gt;k&lt;/em&gt; players is complete by round n is 1 - (1-&lt;em&gt;q&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;)&lt;em&gt;&lt;sup&gt;k&lt;/sup&gt;&lt;/em&gt;.  And again you can get the probability distributions by differences.  Here&amp;rsquo;s a picture.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/chutes_and_ladders_rounds.png&#34; alt=&#34;No. rounds to complete Chutes &amp; Ladders&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;advantage-to-the-first-player&#34;&gt;Advantage to the first player&lt;/h3&gt;
&lt;p&gt;Now, regarding the advantage to the first player: note that the first
player wins in exactly &lt;em&gt;n&lt;/em&gt; steps if he gets to the finish at n steps
and none of the other players are done by &lt;em&gt;n-1&lt;/em&gt; steps.  So, with &lt;em&gt;k&lt;/em&gt;
players, the probability that the first player wins in exactly &lt;em&gt;n&lt;/em&gt; steps is &lt;em&gt;p&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt; (1-&lt;em&gt;q&lt;sub&gt;n-1&lt;/sub&gt;&lt;/em&gt;)&lt;em&gt;&lt;sup&gt;k-1&lt;/sup&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The chance that the second player wins in exactly n steps is
(1-&lt;em&gt;q&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;) &lt;em&gt;p&lt;sub&gt;n&lt;/sub&gt;&lt;/em&gt;
(1-&lt;em&gt;q&lt;sub&gt;n-1&lt;/sub&gt;&lt;/em&gt;)&lt;em&gt;&lt;sup&gt;k-2&lt;/sup&gt;&lt;/em&gt;, with the last term included only
if there are &lt;em&gt;k&lt;/em&gt; &amp;gt; 2 players.&lt;/p&gt;
&lt;p&gt;From this idea, it&amp;rsquo;s straightforward to calculate the probability that
the first player wins given that the game is complete at round &lt;em&gt;n&lt;/em&gt;.
Here&amp;rsquo;s a plot of that probability as a function of the number of
players, relative to the nominal probability (1/2, 1/3, 1/4).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/advantage_to_first_player1.png&#34; alt=&#34;Advantage to the first player in Chutes &amp; Ladders&#34;&gt;&lt;/p&gt;
&lt;p&gt;Note that &lt;em&gt;n&lt;/em&gt;=7 is the minimum number of rounds to complete the game.
I&amp;rsquo;d thought that the first player&amp;rsquo;s advantage went down over time, but
the opposite is true.&lt;/p&gt;
&lt;h3 id=&#34;no-spins-to-end-the-game&#34;&gt;No. spins to end the game&lt;/h3&gt;
&lt;p&gt;Combining these two results (on the number of rounds to complete the game and the probability that player i will win in n rounds), we can get a more precise version of &lt;a href=&#34;https://kbroman.files.wordpress.com/2013/05/chutes_and_ladders_spins1.png&#34;&gt;the simulation-based figure in my last post&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/chutes_and_ladders_spins_exact.png&#34; alt=&#34;No. spins to complete Chutes &amp; Ladders, numerical results&#34;&gt;&lt;/p&gt;
&lt;p&gt;As you can see, the sawtooth pattern becomes more pronounced with the number of rounds, but then it gets lost in the downward slope of the distribution on the right side.  (Again, see my &lt;a href=&#34;https://gist.github.com/kbroman/5600209/#file-chutes_and_ladders_numerical-r&#34;&gt;R code&lt;/a&gt;.)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Chutes &amp; ladders: How long is this going to take?</title>
      <link>/2013/05/17/chutes-ladders-how-long-is-this-going-to-take/</link>
      <pubDate>Fri, 17 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/17/chutes-ladders-how-long-is-this-going-to-take/</guid>
      <description>&lt;p&gt;I was playing Chutes &amp;amp; Ladders with my four-year-old daughter yesterday, and I thought, &amp;ldquo;How long is this going to take?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I saw an &lt;a href=&#34;https://datagenetics.com/blog/november12011/&#34;&gt;interesting mathematical analysis of the game&lt;/a&gt; a few years ago, but it seems to be offline, though &lt;a href=&#34;https://web.archive.org/web/20120819014527/http://www.datagenetics.com/blog/november12011/&#34;&gt;you can read it&lt;/a&gt; via the &lt;a href=&#34;https://web.archive.org/&#34;&gt;wayback machine&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But that didn&amp;rsquo;t answer my specific question, namely, &amp;ldquo;How long is this going to take?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;So I wrote a bit of &lt;a href=&#34;https://gist.github.com/kbroman/5600209&#34;&gt;R code to simulate the game&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s the distribution of the number of spins to complete the game, by number of players:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/chutes_and_ladders_spins1.png&#34; alt=&#34;No. spins in chutes &amp; ladders&#34;&gt;&lt;/p&gt;
&lt;p&gt;With two players, the average number of spins is 52, with a 90th percentile of 88.&lt;/p&gt;
&lt;p&gt;If you add a third player, the average increases to 65, and the 90th percentile increases to 103.  You&amp;rsquo;re playing fewer rounds, but each round is three times as long. If you add a fourth player, the average is 76 and the 90th percentile is 117.&lt;/p&gt;
&lt;p&gt;So, in trying to minimize the agony, it seems best to not encourage my eight-year-old son to join us in the game.  If he plays with us, there&amp;rsquo;s a 63% chance that it will take longer.&lt;/p&gt;
&lt;p&gt;And that&amp;rsquo;s particularly true because then the chance of my daughter winning drops from about 1/2 to about 1/3.&lt;/p&gt;
&lt;p&gt;That raises another question: if I let her go first, what advantage does that give her?  Not much.  The chance that the person who goes first will win is 50.9%, 34.4%, and 25.9%, respectively, when there are 2, 3, and 4 players.  So not a noticeable amount.  Thus I cheat (on her behalf). Really, though, I&amp;rsquo;m cheating in order to shorten the game as much as to ensure that she wins.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: There&amp;rsquo;s a close connection between this problem and my work on the multiple-strain recombinant inbred lines. (See &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/15545647&#34;&gt;this&lt;/a&gt; and &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/22345609&#34;&gt;that&lt;/a&gt;.)  I&amp;rsquo;m tempted to play around with it some more.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2013/05/20/more-on-chutes-ladders/&#34;&gt;Additional numerical results here.&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Stack Exchange: Why I dropped out</title>
      <link>/2013/05/13/stack-exchange-why-i-dropped-out/</link>
      <pubDate>Mon, 13 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/13/stack-exchange-why-i-dropped-out/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://stackexchange.com&#34;&gt;Stack Exchange&lt;/a&gt; is a series of question-and-answer sites, including &lt;a href=&#34;https://stackoverflow.com&#34;&gt;Stack Overflow&lt;/a&gt; for programming and &lt;a href=&#34;https://stats.stackexchange.com/&#34;&gt;Cross Validated&lt;/a&gt; for statistics.  I was &lt;a href=&#34;https://kbroman.org/blog/2011/09/26/gamified/&#34;&gt;introduced to these sites&lt;/a&gt; at a short talk by &lt;a href=&#34;https://geospaced.blogspot.com/&#34;&gt;Barry Rowlingson&lt;/a&gt; at the 2011 UseR! meeting, &amp;ldquo;Why R-help must die!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;These sites have a lot of advantages over R-help: The format is easier to read, math and code can be nicely formatted, the questions are tagged, search is easier, and there should be less redundancy.&lt;/p&gt;
&lt;h3 id=&#34;additional-pros&#34;&gt;Additional pros&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;It&amp;rsquo;s good to help people.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It&amp;rsquo;s fun to rack up reputation points for helping people.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It&amp;rsquo;s good exercise, in both thinking about statistical questions and in articulating useful answers (and there are some interesting questions).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;however-some-cons&#34;&gt;However, some cons&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The reputation points thing is a bit too addictive to me.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The easy questions go fast; you have to watch constantly if you want a chance at them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Far too many questions are either dreadfully dull or terribly sloppy.
(See &lt;a href=&#34;https://jeromyanglim.blogspot.com/&#34;&gt;Jeromy Anglim&lt;/a&gt;&amp;rsquo;s &amp;ldquo;&lt;a href=&#34;https://jeromyanglim.blogspot.com.au/2011/03/how-to-ask-me-statistics-question.html&#34;&gt;How to ask me a statistics question&lt;/a&gt;&amp;rdquo; and &lt;a href=&#34;http://catb.org/~esr/&#34;&gt;Eric S. Raymond&lt;/a&gt;&amp;rsquo;s &amp;ldquo;&lt;a href=&#34;http://catb.org/~esr/faqs/smart-questions.html&#34;&gt;How to ask questions the smart way&lt;/a&gt;.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Good answers are, at times, insufficiently appreciated.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;so-i-gave-up&#34;&gt;So I gave up&lt;/h3&gt;
&lt;p&gt;I started spending time on &lt;a href=&#34;https://stackoverflow.com&#34;&gt;stackoverflow&lt;/a&gt; and &lt;a href=&#34;https://stats.stackexchange.com&#34;&gt;cross-validated&lt;/a&gt; soon after returning from UseR! 2011, but I lost my patience and quit within three months.&lt;/p&gt;
&lt;p&gt;One needs to treat each question with respect, and I eventually seemed to lose my ability to sustain such goodwill.  I think I take things too personally.&lt;/p&gt;
&lt;h3 id=&#34;update&#34;&gt;Update&lt;/h3&gt;
&lt;p&gt;I should clarify: I &lt;em&gt;do&lt;/em&gt; continue to use Stack Exchange, mostly through google.  Many problems I run into have already been answered.  I just don&amp;rsquo;t have the right temperament to participate regularly in answering others&#39; questions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tutorials on git/github and GNU make</title>
      <link>/2013/05/10/tutorials-on-gitgithub-and-gnu-make/</link>
      <pubDate>Fri, 10 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/10/tutorials-on-gitgithub-and-gnu-make/</guid>
      <description>&lt;p&gt;If you&amp;rsquo;re not using version control, you should be.  &lt;em&gt;Learn &lt;a href=&#34;https://git-scm.com&#34;&gt;git&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re not on &lt;a href=&#34;https://github.com&#34;&gt;github&lt;/a&gt;, you should be.  That&amp;rsquo;s &lt;em&gt;real&lt;/em&gt; open source.&lt;/p&gt;
&lt;p&gt;To help some colleagues get started with &lt;a href=&#34;https://git-scm.com&#34;&gt;git&lt;/a&gt; and &lt;a href=&#34;https://github.com&#34;&gt;github&lt;/a&gt;, I wrote a &lt;a href=&#34;https://kbroman.org/github_tutorial&#34;&gt;minimal tutorial&lt;/a&gt;. There are lots of git and github resources available, but I thought I&amp;rsquo;d give just the bare minimum to get started; after using git and github for a while, other resources make a lot more sense and seem much more worthwhile.&lt;/p&gt;
&lt;p&gt;And for &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt; folks, note that it&amp;rsquo;s easy to install R packages that are hosted on github, using &lt;a href=&#34;http://hadley.nz&#34;&gt;Hadley Wickham&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/hadley/devtools&#34;&gt;devtools&lt;/a&gt; package.  For example, to install &lt;a href=&#34;https://github.com/nachocab&#34;&gt;Nacho Caballero&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/nachocab/clickme&#34;&gt;clickme&lt;/a&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;install.packages&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;devtools&amp;#34;&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(devtools)
&lt;span style=&#34;color:#a6e22e&#34;&gt;install_github&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nachocab/clickme&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Having written that git/github tutorial, I thought: I should write more such!&lt;/p&gt;
&lt;p&gt;So I immediately wrote &lt;a href=&#34;https://kbroman.org/minimal_make&#34;&gt;a similar short tutorial&lt;/a&gt; on &lt;a href=&#34;https://www.gnu.org/software/make&#34;&gt;GNU make&lt;/a&gt;, which I think is the &lt;em&gt;most important tool&lt;/em&gt; for reproducible research.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#34;My&#34; chromosome 8p inversion</title>
      <link>/2013/05/08/my-chromosome-8p-inversion/</link>
      <pubDate>Wed, 08 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/08/my-chromosome-8p-inversion/</guid>
      <description>&lt;p&gt;There was &lt;a href=&#34;https://twitter.com/Graham_Coop/status/331882743900303360&#34;&gt;lots of discussion on twitter yesterday&lt;/a&gt; about Graham Coop&amp;rsquo;s paper with Peter Ralph (or vice versa), on &lt;a href=&#34;http://www.plosbiology.org/article/info%3Adoi%2F10.1371%2Fjournal.pbio.1001555&#34;&gt;The geography of recent genetic ancestry across Europe&lt;/a&gt;, particularly regarding the &lt;a href=&#34;https://gcbias.org/european-genealogy-faq/&#34;&gt;FAQ&lt;/a&gt; they&amp;rsquo;d created.&lt;/p&gt;
&lt;p&gt;I was eager to take a look, and, it&amp;rsquo;s slightly embarrassing to say, I first did a search to see if they&amp;rsquo;d made a connection to any of my work. (I&amp;rsquo;m probably not the only one to do that.) Sure enough, they cited a paper of mine, but it was &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/11231899&#34;&gt;Giglo et al. (2001) Am J Hum Genet 68: 874–883&lt;/a&gt;, on &amp;ldquo;my&amp;rdquo; chr 8p inversion, and not what I&amp;rsquo;d expected, &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/10577902&#34;&gt;my autozygosity paper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;What did the chr 8p inversion have to do with this?  Search for &amp;ldquo;[36]&amp;rdquo; and you&amp;rsquo;ll find:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We find that the local density of IBD blocks of all lengths is relatively constant across the genome, but in certain regions the length distribution is systematically perturbed (see Figure S1), including around certain centromeres and the large inversion on chromosome 8 [36], also seen by [35].&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The chr 8p inversion presents an &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/inversion.pdf&#34;&gt;interesting data analysis story&lt;/a&gt; from my postdoc years.  In a nutshell: I was studying human crossover interference, found poor model fit for maternal chr 8 that was due to tight apparent triple-crossovers in two individuals in each of two families, hypothesized that there was an inversion in the region, but it would have to be both &lt;em&gt;long&lt;/em&gt; and with both orientations being &lt;em&gt;common&lt;/em&gt;. The inversion was confirmed via FISH, and it&amp;rsquo;s something like 5 Mbp long, with the frequencies of the two orientations being 40 and 60% in people of European ancestry.&lt;/p&gt;
&lt;h3 id=&#34;marshfield-maps-and-crossover-interference&#34;&gt;Marshfield maps and crossover interference&lt;/h3&gt;
&lt;p&gt;I was a postdoc with Jim Weber in Marshfield, Wisconsin, 1997-1999.  My main effort concerned the &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/9718341&#34;&gt;construction of human genetic maps&lt;/a&gt; using data from eight of the &lt;a href=&#34;http://www.cephb.fr/en/index.php&#34;&gt;CEPH&lt;/a&gt; families.  I was particularly interested in &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/10801387&#34;&gt;characterizing crossover interference&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I found that the &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/7713406&#34;&gt;gamma model&lt;/a&gt; fit the data quite well.  These are histograms of the inter-crossover distances, with expected distributions for different models:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/xodist.jpg&#34; alt=&#34;Distances between crossovers&#34;&gt;&lt;/p&gt;
&lt;p&gt;But the model fit poorly for maternal chromosome 8:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/xodist_chr8mat.jpg&#34; alt=&#34;XO dist, maternal chr 8&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;why-the-poor-model-fit&#34;&gt;Why the poor model fit?&lt;/h3&gt;
&lt;p&gt;Why was the model fit for maternal chromosome 8 so terrible?  It turned out that there was a set of four tight apparent triple-crossovers, two in each of two families.  The black and white dots indicate grandmother and grandfather DNA on different meiotic products:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/inversion_genotypes.jpg&#34; alt=&#34;Genotypes at inversion&#34;&gt;&lt;/p&gt;
&lt;p&gt;I saw these tight triple-crossovers and thought, &amp;ldquo;Oops!  I got the marker order wrong.&amp;rdquo; (Remember, this was before we had a physical map.)  But if you reverse the orientation of the region, crossovers in other individuals would become triple-crossovers.&lt;/p&gt;
&lt;p&gt;So I thought, perhaps this is an inversion polymorphism: some individuals have the region in one orientation and others have it in the opposite orientation.  But it would have to be long (it was an estimated 12 cM in females: something like 5 Mbp).  And both orientations would have to be common, since they would each need to be present in the homozygous state for there to be recombination events.&lt;/p&gt;
&lt;h3 id=&#34;the-inversion&#34;&gt;The inversion&lt;/h3&gt;
&lt;p&gt;Jim Weber contacted David Ledbetter, and folks in his group investigated the region and confirmed, via FISH, that there was indeed a long, common inversion polymorphisms on chromosome 8p.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/inversion_fish.jpg&#34; alt=&#34;Inversion, FISH&#34;&gt;&lt;/p&gt;
&lt;p&gt;They marked one side of the region in green and the other side red, and in the left panels green is above red on both chromosomes, in the right panels red is above green on both chromosomes, and in the center there is one chromosome with each orientation.  Analysis of further subjects indicated that the two orientations have allele frequencies 40 and 60% in people of European ancestry.&lt;/p&gt;
&lt;h3 id=&#34;authorship-order&#34;&gt;Authorship order&lt;/h3&gt;
&lt;p&gt;I &lt;a href=&#34;https://kbroman.org/blog/2012/04/27/positive-comments-on-peer-review/&#34;&gt;referred to this story in passing&lt;/a&gt; in the past.  A fortuitous clinical connection was made to this chr 8p inversion, and due a dispute over author order, what should have been one paper got split into two, and &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/inversion.pdf&#34;&gt;my half&lt;/a&gt; trickled down the journal chain to finally appear in &lt;a href=&#34;https://projecteuclid.org/DPubS?service=UI&amp;amp;version=1.0&amp;amp;verb=Display&amp;amp;page=toc&amp;amp;handle=euclid.lnms/1215091126&#34;&gt;Terry Speed&amp;rsquo;s Festschrift&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I try not to discuss author order anymore.  I care only about presence/absence.&lt;/p&gt;
&lt;h3 id=&#34;a-related-story-autozygosity&#34;&gt;A related story: autozygosity&lt;/h3&gt;
&lt;p&gt;This wasn&amp;rsquo;t the only surprising finding to come from my efforts on the &lt;a href=&#34;http://research.marshfieldclinic.org/genetics/GeneticResearch/compMaps.asp&#34;&gt;Marshfield genetic maps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;An important part of the map construction was data cleaning: identifying tight double-crossovers indicative of genotyping errors.  I looked at piles of &lt;a href=&#34;https://compgen.rutgers.edu/old/multimap/crimap/&#34;&gt;CRI-MAP&lt;/a&gt; &lt;em&gt;chrompic&lt;/em&gt; output, to find such double crossovers.  Here&amp;rsquo;s a somewhat nicer image:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/autozygosity.png&#34; alt=&#34;Autozygosity&#34;&gt;&lt;/p&gt;
&lt;p&gt;Pink and blue indicate grandmother and grandfather DNA, respectively, on the maternal and paternal chromosomes in each individual from a large sibship.  Yellow indicates missing data: if the mother or father was homozygous, the grandparental origin of DNA was indeterminate.  Why these long stretches of homozygosity?&lt;/p&gt;
&lt;p&gt;After publishing the genetic map paper, I went back to study these long stretches of homozygosity. And then I looked for such regions more systematically, and found lots of them:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/05/autozyg_table.jpg&#34; alt=&#34;Autozygosity table&#34;&gt;&lt;/p&gt;
&lt;p&gt;It &lt;a href=&#34;https://www.ncbi.nlm.nih.gov/pubmed/10577902&#34;&gt;turned out to be autozygosity&lt;/a&gt;: in two CEPH families, the grandparents were related, and so the parents where homozygous by descent (aka autozygous) for chunks of their genome.&lt;/p&gt;
&lt;h3 id=&#34;moral&#34;&gt;Moral&lt;/h3&gt;
&lt;p&gt;In both of these cases, apparent artifacts in the data led to the most interesting findings in the work. If your model doesn&amp;rsquo;t fit, or you see something odd, ask, &amp;ldquo;Why is that?&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>$18 for a two page PDF? I still don&#39;t get it.</title>
      <link>/2013/05/02/18-for-a-two-page-pdf-i-still-dont-get-it/</link>
      <pubDate>Thu, 02 May 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/05/02/18-for-a-two-page-pdf-i-still-dont-get-it/</guid>
      <description>&lt;p&gt;Yesterday, I saw &lt;a href=&#34;https://twitter.com/Ananyo/status/329545985149775873&#34;&gt;this tweet&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/Ananyo&#34;&gt;@Ananyo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Time that biologists stopped telling the public oversimplistic fairy
tales on Darwinian evolution, says P Ball ($) &lt;a href=&#34;http://www.nature.com/nature/journal/v496/n7446/full/496419a.html&#34;&gt;nature.com/nature/journal&amp;hellip;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I clicked the link to the Nature paper and realized, &amp;ldquo;Oh, yeah.  I&amp;rsquo;ve got to enter through the UW library website.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;But then I thought, &amp;ldquo;Wait&amp;hellip;$18 for a two-page Nature comment?  WTF?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;So I &lt;a href=&#34;https://twitter.com/kwbroman/status/329560393922002944&#34;&gt;tweeted&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;DNA: Celebrate the unknowns, like this Nature comment, which costs
$18. &lt;a href=&#34;http://www.nature.com/nature/journal/v496/n7446/full/496419a.html&#34;&gt;nature.com/nature/journal&amp;hellip;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And thinking about it some more, I got more annoyed, and &lt;a href=&#34;https://twitter.com/kwbroman/status/329566578024775683&#34;&gt;tweeted&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Why do publishers charge such high per-article fees? At $18/artcl, you&amp;rsquo;d have to be desperate or stupid to pay; at $1-2, prob&amp;rsquo;ly lots would.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And then I thought, I&amp;rsquo;ll &lt;a href=&#34;https://twitter.com/kwbroman/status/329575795716661250&#34;&gt;ask Nature directly&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@NatureMagazine Why is the per-article charge so high? It seems like you&amp;rsquo;d make more profit at $2/article.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And &lt;a href=&#34;https://twitter.com/NatureMagazine&#34;&gt;they&lt;/a&gt; &lt;a href=&#34;https://twitter.com/NatureMagazine/status/329655405355614210&#34;&gt;responded&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@kwbroman For a while now, individual papers can be rented through @readcube for $3-5. A full tablet subscription to Nature costs $35.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But that didn&amp;rsquo;t quite answer my question.  So I &lt;a href=&#34;https://twitter.com/kwbroman/status/329683444051365889&#34;&gt;asked&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;.@NatureMagazine So is the $18 charge for a 2 pg PDF just to discourage piracy?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I thought a lot about whether to put &amp;ldquo;piracy&amp;rdquo; in quotes or not, or whether to write &amp;ldquo;copyright infringement&amp;rdquo; instead.&lt;/p&gt;
&lt;p&gt;But anyway, they &lt;a href=&#34;https://twitter.com/NatureMagazine/status/329692960205725696&#34;&gt;responded&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@kwbroman just as with any product, the more you buy, the more you save. Media/publishing subscriptions have worked this way for decades.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That again didn&amp;rsquo;t quite answer my question.&lt;/p&gt;
&lt;h3 id=&#34;its-a-scam&#34;&gt;It&amp;rsquo;s a scam&lt;/h3&gt;
&lt;p&gt;I still don&amp;rsquo;t understand the $18 business.  It&amp;rsquo;s not &amp;ldquo;The more you buy, the more you save.&amp;rdquo;  It&amp;rsquo;s, &amp;ldquo;Buy the whole season for $35, or buy 5 min from Episode 1 for $18.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I understand that the cover price of &lt;a href=&#34;http://www.wired.com&#34;&gt;Wired&lt;/a&gt; is $5 per issue, while I could get a year&amp;rsquo;s subscription for $15-20.  But that&amp;rsquo;s not the same as $18 for &lt;em&gt;one article&lt;/em&gt; vs $200 per year.&lt;/p&gt;
&lt;p&gt;The $18 for a two-page PDF is like 900 numbers and paycheck advances.  These are &lt;em&gt;scams&lt;/em&gt; taking advantage of desperate or stupid people.&lt;/p&gt;
&lt;p&gt;If they don&amp;rsquo;t want to sell the PDFs for individual articles for a reasonable price, they should just not sell them at all.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Methods before results</title>
      <link>/2013/04/29/methods-before-results/</link>
      <pubDate>Mon, 29 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/29/methods-before-results/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s great that, in a step towards improved reproducibility, the Nature journals are &lt;a href=&#34;https://www.nature.com/articles/ng.2621&#34;&gt;removing page limits on Methods sections&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To allow authors to describe their experimental designs and methods in enough detail for others to interpret and replicate them, the participating journals are removing length restrictions on Methods sections.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But couldn&amp;rsquo;t they include the Methods section in the pdf for the article?  For example, consider &lt;a href=&#34;https://www.nature.com/articles/ng.2591&#34;&gt;this article in Nature Genetics&lt;/a&gt;; the Methods section is only available in the html version of the paper. The PDF says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Methods and any associated references are available in the online version of the paper.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Methods&lt;/em&gt; are important.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;They shouldn&amp;rsquo;t be separated from the main text.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They shouldn&amp;rsquo;t be placed after the results (as so many journals, including &lt;a href=&#34;https://journals.plos.org/plosbiology/&#34;&gt;PLoS&lt;/a&gt;, do).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They shouldn&amp;rsquo;t be in a smaller font than the main text (as &lt;a href=&#34;https://www.pnas.org&#34;&gt;PNAS&lt;/a&gt; does).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They certainly shouldn&amp;rsquo;t be endnotes (as &lt;a href=&#34;https://doi.org/10.1126/science.276.5316.1268&#34;&gt;Science&lt;/a&gt; used to do).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;supplements-annoy-me-too&#34;&gt;Supplements annoy me too&lt;/h3&gt;
&lt;p&gt;I love supplemental material: authors can give the full details, and they can provide as many supplemental figures and tables as they want.&lt;/p&gt;
&lt;p&gt;But supplements can be a real pain.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I don&amp;rsquo;t want to have to click on &lt;a href=&#34;https://www.plosgenetics.org/article/info%3Adoi%2F10.1371%2Fjournal.pgen.1003321#s5&#34;&gt;10 different links&lt;/a&gt;.  Put it all in one document.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I don&amp;rsquo;t want to have to open Word.  Put text and figures in a PDF.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I don&amp;rsquo;t want to have to open Excel.  Put data in a &lt;a href=&#34;https://bit.ly/3DdjoAN&#34;&gt;plain text file&lt;/a&gt;, preferably as part of a git repository with related code.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At least supplements are now included at the journal sites!&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://doi.org/10.1093/bioinformatics/btg126&#34;&gt;This paper&lt;/a&gt; in Bioinformatics refers to a separate site for supplemental information:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Expression data and supplementary information are available at
&lt;a href=&#34;http://www.rii.com/publications/2003/HE_SDS.htm&#34;&gt;http://www.rii.com/publications/2003/HE_SDS.htm&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But &lt;code&gt;rii.com&lt;/code&gt; doesn&amp;rsquo;t exist anymore.  I was able to find &lt;a href=&#34;http://web.archive.org/web/20080719125540/http://www.rii.com/publications/2003/HE_SDS.html&#34;&gt;the supplement&lt;/a&gt; using the &lt;a href=&#34;http://web.archive.org&#34;&gt;Wayback Machine&lt;/a&gt;, but&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The link in the paper was wrong: It should be &lt;code&gt;.html&lt;/code&gt; not &lt;code&gt;.htm&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The final version on Wayback has a corrupted PDF, though one can go back to previous versions that are okay.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;i-like-geneticshttpsacademicoupcomgenetics-and-g3httpsacademicoupcomg3journal&#34;&gt;I like &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; and &lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; and &lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt; put the Methods where they belong (before the results), and when you download the PDF for an article in Genetics, it includes the supplement.  For a G3 article, the supplement isn&amp;rsquo;t included in the article PDF, but at least you can the whole supplement as a single PDF.&lt;/p&gt;
&lt;p&gt;For example, consider my recent Genetics articles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://doi.org/10.1534/genetics.111.132647&#34;&gt;Genotype probabilities at intermediate generations in the construction of recombinant inbred lines&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://doi.org/10.1534/genetics.112.142448&#34;&gt;Mapping quantitative trait loci onto a phylogenetic tree&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you click on &amp;ldquo;&lt;img src=&#34;https://kbroman.org/icons16/pdf-icon.png&#34; alt=&#34;pdf&#34;&gt; PDF,&amp;rdquo; you get the article plus the 3 supplemental figures and 23 supplemental tables in the former case, and article plus the 17 supplemental figures and 2 supplemental tables in the latter case.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Use meaningful URLs</title>
      <link>/2013/04/10/use-meaningful-urls/</link>
      <pubDate>Wed, 10 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/10/use-meaningful-urls/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.slideshare.net/natesmoyer/qr-codes-are-stupid&#34;&gt;QR codes are stupid&lt;/a&gt;.  See the well-known &lt;a href=&#34;https://twitter.com/jcolman/status/320917928881033218&#34;&gt;flowchart&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And I don&amp;rsquo;t like &lt;a href=&#34;https://drupal.org&#34;&gt;Drupal&lt;/a&gt;.  Sites that use it
often give
things URLs like &lt;code&gt;https://www.genetics.wisc.edu/node/577&lt;/code&gt;
for their seminar list.&lt;/p&gt;
&lt;p&gt;And can we get rid of the &lt;code&gt;www&lt;/code&gt;?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;What&amp;rsquo;s your web site?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;double-u double-u double-u &amp;hellip;&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Zzz&amp;hellip;&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;URLs should be meaningful and short.  I like deep hierarchies of folders, but it makes for long URLs.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bitly.com&#34;&gt;URL-shorteners&lt;/a&gt; help, but you don&amp;rsquo;t really want to read out (or type) one of those short URLs.  And they tell you nothing about where they&amp;rsquo;re going.&lt;/p&gt;
&lt;p&gt;What you want is something like &lt;a href=&#34;http://bcaffo.com&#34;&gt;&lt;code&gt;bcaffo.com&lt;/code&gt;&lt;/a&gt; or &lt;a href=&#34;http://stodden.net&#34;&gt;&lt;code&gt;stodden.net&lt;/code&gt;&lt;/a&gt;.  Or &lt;a href=&#34;https://rqtl.org&#34;&gt;&lt;code&gt;rqtl.org&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But&amp;hellip;I guess you could just say &amp;ldquo;I&amp;rsquo;ll send you an email.&amp;rdquo;&lt;/p&gt;
&lt;h3 id=&#34;and-customize-title&#34;&gt;And customize &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;And while I have your attention, note that the title of your web page shows up on Google (and at the top of the browser).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s nice to see others make use of my html code, but you shouldn&amp;rsquo;t leave my name in the title of your publication page.&lt;/p&gt;
&lt;p&gt;Put the important words first, and perhaps nothing else. For example, the title shouldn&amp;rsquo;t include &amp;ldquo;Drupal&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update&lt;/em&gt;: Read this: &amp;ldquo;&lt;a href=&#34;http://web.archive.org/web/20130416035126/http://www.not-implemented.com/urls-are-for-people-not-computers/&#34;&gt;URLs are for People, not Computers&lt;/a&gt;&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I could have just given the URL (though it&amp;rsquo;s now dead so I&amp;rsquo;m linking
to archive.org.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://web.archive.org/web/20130416035126/http://www.not-implemented.com/urls-are-for-people-not-computers&#34;&gt;&lt;code&gt;http://www.not-implemented.com/urls-are-for-people-not-computers&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Knuth: Journal referees should assist authors</title>
      <link>/2013/04/08/knuth-journal-referees-should-assist-authors/</link>
      <pubDate>Mon, 08 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/08/knuth-journal-referees-should-assist-authors/</guid>
      <description>&lt;p&gt;When serving as referee for a journal, who are you working for?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;The editor&lt;/em&gt;: Will the paper add to the journal&amp;rsquo;s prestige?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;The reader&lt;/em&gt;: Is it worth reading?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;The author&lt;/em&gt;: How can it be improved?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;d long thought that the referee&amp;rsquo;s duty was to the journal editors and then to the readers.&lt;/p&gt;
&lt;p&gt;But Donald Knuth&amp;rsquo;s comments on refereeing persuaded me that I should focus primarily on helping the author to improve the manuscript.&lt;/p&gt;
&lt;p&gt;See pages 31-35 (as numbered; actually 33-37 in the pdf) in his &lt;a href=&#34;http://jmlr.csail.mit.edu/reviewing-papers/knuth_mathematical_writing.pdf&#34;&gt;notes on mathematical writing&lt;/a&gt;. And here&amp;rsquo;s the &lt;a href=&#34;http://www.ifs.tuwien.ac.at/~silvia/research-tips/Knuth.pdf&#34;&gt;missing page on &amp;ldquo;Hints for referees&amp;rdquo;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Even a terrible manuscript can be published, if the author is sufficiently persistent. Your primary job as referee should be to help the author to make it as good as it can be.&lt;/p&gt;
&lt;p&gt;Almost immediately after I first read Donald Knuth&amp;rsquo;s comments (back in 2002), I received one of the worst manuscripts I&amp;rsquo;ve ever read. It was one of those cases where I really wish the authors were anonymous, because I can&amp;rsquo;t forget who was responsible for it.&lt;/p&gt;
&lt;p&gt;It was hard for me to say, &amp;ldquo;You have no idea what you&amp;rsquo;re doing&amp;rdquo; in a constructive way. (&amp;ldquo;You should abandon this manuscript&amp;rdquo; is not constructive, but it could be good advice. The scientific literature could use a bit more self-censorship.)&lt;/p&gt;
&lt;p&gt;And I&amp;rsquo;ve learned to use the &amp;ldquo;Comments to the editor&amp;rdquo; as my opportunity to vent. (I would pity the poor editor on the other end, but she/he sent the thing to me!) I&amp;rsquo;d give an example of my venting, but I think I&amp;rsquo;ll leave that to another time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data science is statistics</title>
      <link>/2013/04/05/data-science-is-statistics/</link>
      <pubDate>Fri, 05 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/05/data-science-is-statistics/</guid>
      <description>&lt;p&gt;When physicists do mathematics, they don&amp;rsquo;t say they&amp;rsquo;re doing &amp;ldquo;number science&amp;rdquo;.  They&amp;rsquo;re doing math.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re analyzing data, you&amp;rsquo;re doing statistics.  You can call it data science or informatics or analytics or whatever, but it&amp;rsquo;s still statistics.&lt;/p&gt;
&lt;p&gt;If you say that one kind of data analysis is statistics and another kind is not, you&amp;rsquo;re not allowing innovation.  We need to define the field broadly.&lt;/p&gt;
&lt;p&gt;You may not like what &lt;a href=&#34;http://amstat.org&#34;&gt;some statisticians&lt;/a&gt; do.  You may feel they don&amp;rsquo;t share your values.  They may embarrass you.  But that shouldn&amp;rsquo;t lead us to abandon the term &amp;ldquo;statistics&amp;rdquo;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Beware of grep with a list</title>
      <link>/2013/04/03/beware-of-grep-with-a-list/</link>
      <pubDate>Wed, 03 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/03/beware-of-grep-with-a-list/</guid>
      <description>&lt;p&gt;Another &lt;a href=&#34;http://r-project.org&#34;&gt;R&lt;/a&gt; tip: beware of &lt;code&gt;as.character&lt;/code&gt; applied to a list.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; as.character( list(letters[1:3], letters[4:6]) )
[1] &amp;quot;c(\&amp;quot;a\&amp;quot;, \&amp;quot;b\&amp;quot;, \&amp;quot;c\&amp;quot;)&amp;quot; &amp;quot;c(\&amp;quot;d\&amp;quot;, \&amp;quot;e\&amp;quot;, \&amp;quot;f\&amp;quot;)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Really, beware of &lt;code&gt;grep&lt;/code&gt; with a list:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; grep(&amp;quot;c&amp;quot;, list(letters[1:3], letters[4:6]))
[1] 1 2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You might have thought that the result would be just &lt;code&gt;1&lt;/code&gt;, but &lt;code&gt;grep&lt;/code&gt; expects a vector of character strings.  If the input is not that, it uses &lt;code&gt;as.character()&lt;/code&gt;.  Since the result of that starts with &lt;code&gt;&amp;quot;c(&amp;quot;&lt;/code&gt;, &lt;code&gt;grep&lt;/code&gt; finds &lt;code&gt;&amp;quot;c&amp;quot;&lt;/code&gt; in each.&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&#34;http://stackoverflow.com/questions/7591632/why-this-behavior-when-coercing-a-list-to-character-via-as-character&#34;&gt;related discussion&lt;/a&gt; (from Sept 2011) on &lt;a href=&#34;http://stackoverflow.com&#34;&gt;stackoverflow&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>apply vs for</title>
      <link>/2013/04/02/apply-vs-for/</link>
      <pubDate>Tue, 02 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/02/apply-vs-for/</guid>
      <description>&lt;p&gt;It&amp;rsquo;s widely understood that, in &lt;a href=&#34;http://r-project.org&#34;&gt;R&lt;/a&gt; programming, one should avoid &lt;code&gt;for&lt;/code&gt; loops and always try to use &lt;code&gt;apply&lt;/code&gt;-type functions.&lt;/p&gt;
&lt;p&gt;But this isn&amp;rsquo;t entirely true.  It may have been true for Splus, back in the day: As  I recall, that had to do with the entire environment from each iteration being retained in memory.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a simple example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; x &amp;lt;- matrix(rnorm(4000*40000), ncol=4000)

&amp;gt; system.time({
+     mx &amp;lt;- rep(NA, nrow(x))
+     for(i in 1:nrow(x)) mx[i] &amp;lt;- max(x[i,])
+  })
   user  system elapsed
  3.719   0.446   4.164

&amp;gt; system.time(mx2 &amp;lt;- apply(x, 1, max))
   user  system elapsed
  5.548   1.783   7.333
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;There&amp;rsquo;s &lt;a href=&#34;http://www.r-project.org/doc/Rnews/Rnews_2008-1.pdf&#34;&gt;a great commentary on this point&lt;/a&gt; by Uwe Ligges and John Fox in the May, 2008, issue of R News (see the &amp;ldquo;R help desk&amp;rdquo;, starting on page 46, and note that R News is now the &lt;a href=&#34;http://journal.r-project.org&#34;&gt;R Journal&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Also see &lt;a href=&#34;http://stackoverflow.com/questions/7142767/why-are-loops-slow-in-r/7142982#7142982&#34;&gt;the related discussion&lt;/a&gt; at &lt;a href=&#34;http://stackoverflow.com&#34;&gt;stackoverflow&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;They say that &lt;code&gt;apply&lt;/code&gt; can be more readable.  It can certainly be more compact, but I usually find a &lt;code&gt;for&lt;/code&gt; loop to be more readable, perhaps because I&amp;rsquo;m a C programmer first and an R programmer second.&lt;/p&gt;
&lt;p&gt;A key point, from Ligges and Fox: &amp;ldquo;Initialize new objects to full length before the loop, rather than increasing their size within the loop.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Thoughts on statistical consulting</title>
      <link>/2013/04/02/thoughts-on-statistical-consulting/</link>
      <pubDate>Tue, 02 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/02/thoughts-on-statistical-consulting/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;https://www.stat.wisc.edu&#34;&gt;Statistics Department&lt;/a&gt; at &lt;a href=&#34;https://www.wisc.edu&#34;&gt;UW-Madison&lt;/a&gt; has a course on statistical consulting, offered each semester. I&amp;rsquo;m often asked to give a lecture, which I do in an informal way: summarizing my experiences and answering questions.&lt;/p&gt;
&lt;p&gt;I thought it might be useful write my thoughts on statistical consulting here: why, how, and difficulties.  This will be a bit rough, and long.  I&amp;rsquo;ll revert to bullet points, to be more compact (and because I&amp;rsquo;m lazy).&lt;/p&gt;
&lt;h3 id=&#34;my-situation&#34;&gt;My situation&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m an applied statistician at a university.  I have no defined consulting responsibilities.  Others at the university have a defined consulting role for a department or school, which pays part of their salary.  And then there are statisticians in industry (some effectively doing statistical consulting within a company), or working for a consulting company or as a contractor; I don&amp;rsquo;t know much about these things, but only about my own situation: I feel I should do my best to help colleagues who ask for my advice (though I &lt;em&gt;can&lt;/em&gt; say no, at least in theory).&lt;/p&gt;
&lt;h3 id=&#34;consulting-vs-collaboration&#34;&gt;Consulting vs. collaboration&lt;/h3&gt;
&lt;p&gt;To me, consulting is inherently short-term.  Someone comes to you for statistical advice, and you try to answer their questions within a week or two.  This is in contrast to collaboration, which is more long term, and gives you the opportunity to more fully understand the scientist&amp;rsquo;s grander schemes.&lt;/p&gt;
&lt;h3 id=&#34;my-experience&#34;&gt;My experience&lt;/h3&gt;
&lt;p&gt;In graduate school (in &lt;a href=&#34;https://www.stat.berkeley.edu&#34;&gt;Statistics&lt;/a&gt; at UC-Berkeley), there was a statistical consulting course that involved pairs of graduate students holding weekly office hours, to give free statistical advice to anyone at the university (generally other graduate students), and then we met as a group weekly, with a faculty advisor, to discuss consultees&#39; questions and get advice on what advice we might give.  I did the course three times, with &lt;a href=&#34;https://www.stat.columbia.edu/~gelman/&#34;&gt;Andrew Gelman&lt;/a&gt;, &lt;a href=&#34;https://www.wehi.edu.au/faculty_members/professor_terry_speed&#34;&gt;Terry Speed&lt;/a&gt;, and &lt;a href=&#34;https://www.stat.berkeley.edu/~freedman/&#34;&gt;David Freedman&lt;/a&gt;, who, I think, span the space of applied statistics.  (Well, the good part of the space.)  Learning by doing (or, at least, by offering advice) was how I really became an applied statistician.  And seeing Andrew, Terry, and David&amp;rsquo;s unique approaches was extremely influential.&lt;/p&gt;
&lt;p&gt;After graduate school, I was a postdoc with a geneticist (Jim Weber, then at the Marshfield Medical Research Foundation, in Marshfield, Wisconsin), where I was relatively isolated, as a statistician.  There were a few other statisticians around, but we were working on rather different things.&lt;/p&gt;
&lt;p&gt;Moving from postdoc to faculty member, I&amp;rsquo;ve had a relatively steady stream of statistical consulting experiences, with consultees from courses I taught, referred by my department chair or other friends/colleagues, or through my software (particularly &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt;) or publications (particularly my &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/twopart.pdf&#34;&gt;two-part model&lt;/a&gt; paper).&lt;/p&gt;
&lt;h3 id=&#34;why-do-it&#34;&gt;Why do it?&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m not paid to consult; there&amp;rsquo;s no requirement that I do so.  So why do it?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Learn more biology, and from the experts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;See new data.  (I &lt;em&gt;love&lt;/em&gt; new data!)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Think about new problems.  (And it&amp;rsquo;s nice to get an easy one every once in a while.  For example, it&amp;rsquo;s nice to be able to say, &amp;ldquo;Yes, a t-test is appropriate here.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Be useful: help people.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Publications.  (Deans may not read, but they do count. [I don&amp;rsquo;t mean you, &lt;a href=&#34;https://www.med.wisc.edu/about/administration/robert-golden-md/38&#34;&gt;Bob&lt;/a&gt;, but other Deans!])&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Can lead to long-term collaboration, and allows you to find out if you like the person.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-to-behave-at-the-initial-meeting&#34;&gt;How to behave at the initial meeting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Listen.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verify that you&amp;rsquo;re following (re-state according to your understanding).  (&lt;a href=&#34;https://www.stat.wisc.edu/~clayton/&#34;&gt;Murray Clayton&lt;/a&gt; recommended the book &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/1451663889/7210-20&#34;&gt;How to talk so kids will listen and listen so kids will talk&lt;/a&gt;, and I do, too.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t be embarrassed to admit ignorance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Focus particularly on: the scientific questions, the form of the data, where the data came from.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unless it&amp;rsquo;s really simple, I&amp;rsquo;ll usually delay giving specific advice to a second session.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A key difficulty: both parties must admit their ignorance, and need to be very patient.  At Berkeley, often a grad student was reporting on behalf of a faculty member, I think because the faculty member didn&amp;rsquo;t want to admit his/her ignorance.&lt;/p&gt;
&lt;p&gt;You generally need to force the scientist to back way up.  They&amp;rsquo;re hoping for a quick answer (they often don&amp;rsquo;t like this whole statistics business!), and so may not want to spend an hour explaining the full background.  But it can be critical.&lt;/p&gt;
&lt;p&gt;Also, the scientist often mentions the use of some statistic that you&amp;rsquo;ve never heard of or that you know with a different name. For example: the G test (which is what &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/0716786044/7210-20&#34;&gt;Sokal &amp;amp; Rohlf&lt;/a&gt; call the likelihood ratio test for contingency tables), or the Hairbrainer-Warstein-Edmundsun Test (which I made up, but might actually exist).  When you admit that you don&amp;rsquo;t know this statistical method that is so widely used in their field, they may question your credentials.  Ask for a reference; you&amp;rsquo;ll be able to figure it out.&lt;/p&gt;
&lt;p&gt;A very common experience: &amp;ldquo;I have a quick question&amp;hellip;&amp;rdquo;  There are no quick questions.&lt;/p&gt;
&lt;h3 id=&#34;difficulties-that-arise&#34;&gt;Difficulties that arise&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Communication.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Admitting ignorance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Getting the scientist to really explain things from the beginning&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You don&amp;rsquo;t have time to do the work, the consultee can&amp;rsquo;t do it, and there&amp;rsquo;s no one else to take over.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you think you see a major problem, be careful about how you explain this.  (I&amp;rsquo;m not known for my subtlety, so I can&amp;rsquo;t advise you on this.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Co-authorship on publications (This seems to be more of a problem if you&amp;rsquo;re being paid directly, in which case scientists, particularly MDs, seem to treat a statistical consultant like they do the person who repairs the PCR machine, or whatever.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They don&amp;rsquo;t want anything fancy, and you think it&amp;rsquo;s needed.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An example instance requiring subtlety: As a graduate student, I was giving advice to an immunology graduate student whose experiment seemed to show a large sex effect, and since he hadn&amp;rsquo;t blocked on sex, the whole thing seemed a wash.  I stated this point rather bluntly and never saw him again.&lt;/p&gt;
&lt;p&gt;The relative importance of co-authorship vs acknowledgement (vs nothing) changes over one&amp;rsquo;s career.  It&amp;rsquo;s never really been an issue for me (though there is that one paper where they should have made me a coauthor but didn&amp;rsquo;t, and then they acknowledged &amp;ldquo;Mark Broman&amp;rdquo; for statistical advice).  I feel a bit guilty being co-author on some papers, but it&amp;rsquo;s definitely been valuable to me.  And it can be that a few hours&#39; work on a manuscript can change it from unpublishable to easily publishable.&lt;/p&gt;
&lt;p&gt;For me, generally: if I created some figures and/or wrote a portion of the methods section, I feel I should be co-author.&lt;/p&gt;
&lt;p&gt;The following two sentences are remarkably different:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&amp;ldquo;Would you like to be a co-author?&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&amp;ldquo;We would like to include you as a co-author.&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;how-to-say-no&#34;&gt;How to say no&lt;/h3&gt;
&lt;p&gt;The hardest thing is to say no.  I haven&amp;rsquo;t really figured this out.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Can you find someone to take over?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Try to give at least a rough guide (something is better than nothing).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I probably shouldn&amp;rsquo;t state this publicly, but I try to apply a &amp;ldquo;two-week rule&amp;rdquo;: If someone I don&amp;rsquo;t know asks to meet with me, I&amp;rsquo;ll say, &amp;ldquo;I&amp;rsquo;m really busy right now, but I could meet with you in two weeks.&amp;rdquo;  Nothing productive occurs in the two weeks before a grant is due (which is the most common rush-rush type question).  The two-week rule seems to filter out much of the stuff that I don&amp;rsquo;t really want to help with, anyway.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;disadvantages-to-the-whole-thing&#34;&gt;Disadvantages to the whole thing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You generally don&amp;rsquo;t have time to do things properly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You don&amp;rsquo;t know in advance what you&amp;rsquo;re getting into.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You usually don&amp;rsquo;t get to see long-term results.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I hate power/sample size calculations, and experimental design is really hard, and a high proportion of consulting questions involve sample size calculations or experimental design.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;be-self-sufficient&#34;&gt;Be self-sufficient&lt;/h3&gt;
&lt;p&gt;This doesn&amp;rsquo;t exactly fit the topic under discussion, but I like to take this opportunity to emphasize the importance of applied statisticians being self-sufficient.&lt;/p&gt;
&lt;p&gt;Most importantly, one should learn to program in perl (or python or ruby), for data manipulation.  Don&amp;rsquo;t let the scientist do the data manipulation.  The answer to &amp;ldquo;How would you like to receive the data?&amp;rdquo; must always be &amp;ldquo;In it&amp;rsquo;s current form!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;R programming is obviously important (for interactive analysis and graphics).  But I also emphasize the need for a lower-level language (I use C), for intensive computations.  The crappiest C program will almost always beat the most refined R program.  (Learn &lt;a href=&#34;https://github.com/hadley/devtools/wiki/Rcpp&#34;&gt;Rcpp&lt;/a&gt;.)&lt;/p&gt;
&lt;h3 id=&#34;time-management&#34;&gt;Time management&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t let all of the small short-term things crowd out your long-term projects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Save big blocks of time for yourself.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;ve been reserving a full day each week to my own work, and I basically never agree to a meeting on that day.  (Don&amp;rsquo;t tell anyone I said this!)&lt;/p&gt;
&lt;h3 id=&#34;summary&#34;&gt;Summary&lt;/h3&gt;
&lt;p&gt;Statistical consulting is a fabulous part of being an applied statistician.  I see lots of great new problems, I learn a lot of science (because I can ask questions of the experts), and I help people.&lt;/p&gt;
&lt;p&gt;And I don&amp;rsquo;t feel I need to know the answer to people&amp;rsquo;s questions.  I view my role, as a statistical consultant, is to provide a connection, between the scientist with the question, and with some reasonable answer.  Once I understand the question, I&amp;rsquo;ll ask all my friends: &amp;ldquo;Say, I got this really interesting question: What would you do?&amp;rdquo;  Eventually I&amp;rsquo;ll find someone who can tell me what to say.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>x[[c(5,3)]]</title>
      <link>/2013/04/02/xc53/</link>
      <pubDate>Tue, 02 Apr 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/04/02/xc53/</guid>
      <description>&lt;p&gt;An &lt;a href=&#34;http://r-project.org&#34;&gt;R&lt;/a&gt; tip:
Did you know that &lt;code&gt;x[[c(5,3)]]&lt;/code&gt; is the same as &lt;code&gt;x[[5]][[3]]&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;I should make more thorough use of this.&lt;/p&gt;
&lt;p&gt;In the help file for &lt;code&gt;[[&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;[[&lt;/code&gt; can be applied recursively to lists, so that if the single index &lt;code&gt;i&lt;/code&gt; is a vector of length &lt;code&gt;p&lt;/code&gt;, &lt;code&gt;alist[[i]]&lt;/code&gt; is equivalent to &lt;code&gt;alist[[i1]]...[[ip]]&lt;/code&gt; providing all but the final indexing results in a list.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I never knew this; I came across it when playing around (i.e., not paying proper attention) in the back of the room at an R course.&lt;/p&gt;
&lt;p&gt;Did you know that &lt;code&gt;[[&lt;/code&gt; had a help file?  Type &lt;code&gt;?&amp;quot;[[&amp;quot;&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data structures are important</title>
      <link>/2013/03/19/data-structures-are-important/</link>
      <pubDate>Tue, 19 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/19/data-structures-are-important/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve created another &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; example, of QTL analysis for a phenotype measured over time. (Click on the image for the &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_by_time&#34;&gt;interactive version&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_by_time&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/lod_by_time.png&#34; alt=&#34;QTL analysis with phenotype over time&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The code is on &lt;a href=&#34;https://github.com/kbroman/d3examples/tree/master/lod_by_time&#34;&gt;github&lt;/a&gt;. It took me about a day.&lt;/p&gt;
&lt;p&gt;The hardest part was figuring out the right data structures.  A pixel here is linked to curves over there and over there and over there.  You need to set things up so it&amp;rsquo;s easy to traverse such linkages.&lt;/p&gt;
&lt;p&gt;If you hover over a point in the top-left image, you get views of the vertical and horizontal cross-sections.  If you click on a point, pointwise confidence bands are added to the &amp;ldquo;QTL effect&amp;rdquo; plot.  (You have to click, because if I included those confidence bands automatically, the graph became painfully slow to refresh.)&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not completely happy with the layout of the graph; it&amp;rsquo;s not particularly intuitive.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ENAR highs and lows</title>
      <link>/2013/03/19/enar-highs-and-lows/</link>
      <pubDate>Tue, 19 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/19/enar-highs-and-lows/</guid>
      <description>&lt;p&gt;I attended the &lt;a href=&#34;http://www.enar.org/meetings&#34;&gt;ENAR meeting&lt;/a&gt; in Orlando, Florida, last week. (&lt;a href=&#34;https://www.enar.org&#34;&gt;ENAR&lt;/a&gt; = &amp;ldquo;Eastern North American Region&amp;rdquo; of the &lt;a href=&#34;https://www.biometricsociety.org&#34;&gt;International Biometric Society&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;I had a great time, but I did come to the strong realization that what I view as important is distinctly different from what the typical ENAR attendee views as important.  (&lt;a href=&#34;https://rafalab.github.io&#34;&gt;Rafa&lt;/a&gt; said, incredulously, &amp;ldquo;You knew that already!&amp;quot;)&lt;/p&gt;
&lt;p&gt;Let me tell you about the high- and lowlights, for me.&lt;/p&gt;
&lt;p&gt;Also see the ENAR-related comments from &lt;a href=&#34;https://yihui.name/en/2013/03/on-enar-or-statistical-meetings-in-general/&#34;&gt;Yihui Xie&lt;/a&gt; and &lt;a href=&#34;https://alyssafrazee.wordpress.com/2013/03/18/ideas-for-super-awesome-conferences/&#34;&gt;Alyssa Frazee&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;highlights&#34;&gt;Highlights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Getting to know &lt;a href=&#34;https://yihui.name&#34;&gt;Yihui Xie&lt;/a&gt;, and the introductory part of his talk on &lt;a href=&#34;https://yihui.name/knitr/&#34;&gt;knitr&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Having lunch with &lt;a href=&#34;http://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostat&lt;/a&gt; students.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Twittering, particularly with &lt;a href=&#34;https://twitter.com/StrictlyStat&#34;&gt;@StrictlyStat&lt;/a&gt; and &lt;a href=&#34;https://twitter.com/hspter&#34;&gt;@hspter&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hadley Wickham&amp;rsquo;s &lt;a href=&#34;http://ggplot2.tidyverse.org&#34;&gt;ggplot2&lt;/a&gt; tutorial, in which I really learned how to teach.  (Can I put it into practice?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://stephenslab.uchicago.edu&#34;&gt;Matthew Stephens&lt;/a&gt;&amp;rsquo;s talk, and spending time with him.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://faculty.mdanderson.org/Jeffrey_Morris/Default.asp&#34;&gt;Jeff Morris&lt;/a&gt;&amp;rsquo;s orientation to Epcot.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The large data visualization session, with &lt;a href=&#34;https://twitter.com/StrictlyStat&#34;&gt;John&lt;/a&gt;, &lt;a href=&#34;http://hadley.nz&#34;&gt;Hadley&lt;/a&gt;, Amy Heineke, and &lt;a href=&#34;https://kbroman.org&#34;&gt;me&lt;/a&gt;.  (Thanks, &lt;a href=&#34;http://www.biostat.jhsph.edu/~bswihart/&#34;&gt;Bruce&lt;/a&gt;!)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lowlights&#34;&gt;Lowlights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;They should have emphasized the cheaper shuttle from the airport (vs taxi); the information was hard to find.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;They should have emphasized that wifi was actually free; ignore the $14.95/day charge as it gets waived from your bill.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Registration on Sunday closed early, so many at the poster session were without name badges.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The program guide PDF should have had bookmarks, and the schedule should have included links to the abstracts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Realism regarding the start time for the President&amp;rsquo;s invited address.  But I guess if we knew the awards ceremony would take not 15 min but 45, &lt;em&gt;everyone&lt;/em&gt; would skipped.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The venue was too isolated.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The hotel was too expensive.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The $85 admission to Epcot was a required part of the registration fee (23%).  The registration fee ($365) was the same as for ENAR 2012 in Washington DC, but it could have been $280.  And there&amp;rsquo;s a striking difference between &amp;ldquo;It&amp;rsquo;s free!&amp;rdquo; and &amp;ldquo;You already paid for it!&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The lighting in meeting rooms was not great.  We needed a ladder and a can of spray paint to &amp;ldquo;turn off&amp;rdquo; those lights shining on the screen.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As I said at the beginning, I had a good time. But I worry particularly about accessibility to students paying their own way.&lt;/p&gt;
&lt;p&gt;It was a really useful and inspirational meeting, right up there with the &lt;a href=&#34;https://kbroman.org/blog/2011/08/20/user-conference-2011-highlights/&#34;&gt;UseR 2011 meeting&lt;/a&gt; in the UK, but less from talks and more from individual interactions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>LaTeX &#43; Unicode → XeTeX</title>
      <link>/2013/03/19/latex-unicode-xetex/</link>
      <pubDate>Tue, 19 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/19/latex-unicode-xetex/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m co-organizing &lt;a href=&#34;https://rqtl.org/ctc2013&#34;&gt;a scientific meeting&lt;/a&gt; at the end of May.  The abstracts are all in.&lt;/p&gt;
&lt;p&gt;We get them in an Excel file, and I was working on a Perl script to parse the file to create a LaTeX file with the abstracts, so we could have nicely formatted versions for review.  (I&amp;rsquo;m using &lt;a href=&#34;https://search.cpan.org/~dmow/Spreadsheet-XLSX-0.13-withoutworldwriteables/lib/Spreadsheet/XLSX.pm&#34;&gt;Spreadsheet:XLSX&lt;/a&gt; for the first time; it&amp;rsquo;s really easy.  Why have I always converted Excel files to CSV before parsing them?)&lt;/p&gt;
&lt;p&gt;I spent way too much time trying to deal with special characters.  I was looking to do a search-and-replace for all possible &lt;a href=&#34;https://en.wikipedia.org/wiki/Unicode&#34;&gt;Unicode&lt;/a&gt; characters (for example, to change &lt;code&gt;\xE9&lt;/code&gt; aka e into &lt;code&gt;\&#39;{e}&lt;/code&gt;, or &lt;code&gt;\xD7&lt;/code&gt; aka × into &lt;code&gt;$\times$&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/times_symbol.png&#34; alt=&#34;MBT/Pas × BALB/cByJ&#34;&gt;&lt;/p&gt;
&lt;p&gt;But then I discovered that &lt;a href=&#34;https://en.wikipedia.org/wiki/XeTeX&#34;&gt;XeTeX&lt;/a&gt; supports Unicode, so there&amp;rsquo;s no need to do these sorts of substitutions.&lt;/p&gt;
&lt;p&gt;I changed &lt;code&gt;pdflatex&lt;/code&gt; to &lt;code&gt;xelatex&lt;/code&gt; in my &lt;code&gt;Makefile&lt;/code&gt;, and I&amp;rsquo;m done.  I think.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update&lt;/em&gt;: Now that I think about it, CSV is way more convenient than XLS(X) for simple data files, as you don&amp;rsquo;t have to traverse with the whole &lt;code&gt;$cell -&amp;gt; (Val)&lt;/code&gt; business.  But working with the Excel file directly is easier when the cells may contain lots of text with commas and such, like my abstracts.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Why aren&#39;t all of our graphs interactive?</title>
      <link>/2013/03/16/why-arent-all-of-our-graphs-interactive/</link>
      <pubDate>Sat, 16 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/16/why-arent-all-of-our-graphs-interactive/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve come to believe that, for high-dimensional data, visualizations (aka graphs), and particularly interactive graphs, can be more important than precise statistical inference.&lt;/p&gt;
&lt;p&gt;We first need to be able to view and explore the data, and when it is unusually abundant, that is especially hard.  This was a primary contributor to &lt;a href=&#34;https://kbroman.org/blog/2012/04/25/microarrays-suck/&#34;&gt;my recent embarrassments&lt;/a&gt;, in which clear problems in the data were not discovered when they should have been.&lt;/p&gt;
&lt;p&gt;I gave &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/InteractiveGraphs&#34;&gt;a talk on interactive graphs (with the title above)&lt;/a&gt; at Johns Hopkins last fall, and then &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/InteractiveGraphs2&#34;&gt;a related talk&lt;/a&gt; at ENAR earlier this week, and I have a few thoughts to add here.&lt;/p&gt;
&lt;h3 id=&#34;a-brief-digression&#34;&gt;A brief digression&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m giving a talk at a plant breeding symposium at Kansas State in a couple of weeks, and I&amp;rsquo;ve been pondering what to talk about.  A principal problem is that I don&amp;rsquo;t really work on plant breeding.  My most relevant talks are a bit too technical, and my more interesting talks are not relevant.&lt;/p&gt;
&lt;p&gt;Then I had the idea to talk about some of my recent work with my graduate student, Il-youp Kwak, on the genetic analysis of phenotypes measured over time.&lt;/p&gt;
&lt;p&gt;I realized that I could incorporate some interactive graphs into the talk.  Initially I was just thinking that the interactive graphs would make the talk more interesting and would allow me to talk about things that weren&amp;rsquo;t necessarily relevant but were interesting to me.&lt;/p&gt;
&lt;p&gt;But then I realized that this work really cries out for interactive graphs.  And as I begin to construct one of them, I thought of a whole bunch more I might create.  More importantly, I realized that these interactive graphs are extremely useful teaching tools.&lt;/p&gt;
&lt;h3 id=&#34;more-d3httpsd3jsorg-examples&#34;&gt;More &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; examples&lt;/h3&gt;
&lt;p&gt;Here&amp;rsquo;s an image of first graph I created for the talk; click on it to jump to the &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/manycurves&#34;&gt;interactive version&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Statisticians are often confronted with a large set of curves.  We&amp;rsquo;d like to show the individual curves, but there are too many.  The resulting &lt;a href=&#34;https://stats.idre.ucla.edu/stata/faq/how-can-i-make-spaghetti-plots-in-stata/&#34;&gt;spaghetti plot&lt;/a&gt; is a total mess.  An image plot (like the &lt;a href=&#34;https://journals.lww.com/epidem/Fulltext/2010/09000/Lasagna_Plots__A_Saucy_Alternative_to_Spaghetti.15.aspx&#34;&gt;lasagna plot&lt;/a&gt;) allows us to see all of the curves, but it can be hard to get a sense of what the actual curves look like.  The interactive version solves the problem.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/manycurves&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/manycurves2.png&#34; alt=&#34;Many curves&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a second example; again click on the image to jump to the &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect&#34;&gt;interactive version&lt;/a&gt;. (I&amp;rsquo;ve shown this before, but I want to use it to make another point.)&lt;/p&gt;
&lt;p&gt;Typically, in a lecture on complex trait analysis, I&amp;rsquo;d show one LOD curve (like the top panel in the image below) and a few different plots of phenotype vs genotype (the lower-right panel in the image).  I think the exploratory tool will be much more effective, in a lecture, for explaining what it all means.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/lod_and_effect.png&#34; alt=&#34;LOD and QTL effects&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;statisticians-need-to-be-doing-this-routinely&#34;&gt;Statisticians need to be doing this routinely&lt;/h3&gt;
&lt;p&gt;In constructing a graph, one must make some difficult choices.  For high-dimensional data, one must greatly compress the available information.  The resulting summaries, while potentially informative, take one far away from the original data.&lt;/p&gt;
&lt;p&gt;Interactive graphs provide a means through which one may view the overall summary but have immediate access to the underlying details.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Towards making my own papers reproducible</title>
      <link>/2013/03/10/towards-making-my-own-papers-reproducible/</link>
      <pubDate>Sun, 10 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/10/towards-making-my-own-papers-reproducible/</guid>
      <description>&lt;p&gt;Much has been written about &lt;a href=&#34;https://magazine.amstat.org/blog/2011/01/01/scipolicyjan11/&#34;&gt;reproducible research&lt;/a&gt;: that scientific papers should be accompanied by the data and software sufficient to reproduce the results.  It&amp;rsquo;s obviously a &lt;em&gt;Good Thing&lt;/em&gt;.  But it can be hard to stick to this ideal in practice.&lt;/p&gt;
&lt;p&gt;For my early papers, I&amp;rsquo;m not sure I can find the materials anymore, and that&amp;rsquo;s just 15 years back.&lt;/p&gt;
&lt;p&gt;For my recent papers, I have developed a sort of system so that I can reproduce the results myself.  I use a combination tools, including &lt;a href=&#34;https://www.r-project.org&#34;&gt;R&lt;/a&gt;, &lt;a href=&#34;https://en.wikipedia.org/wiki/Sweave&#34;&gt;Sweave&lt;/a&gt;, &lt;a href=&#34;https://www.cpan.org&#34;&gt;perl&lt;/a&gt;, and, of course, &lt;a href=&#34;https://www.gnu.org/software/make/&#34;&gt;make&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But I&amp;rsquo;ve not been distributing the detailed code behind my papers.  It&amp;rsquo;s not always pretty, and it is not well documented.  (And &amp;ldquo;not always&amp;rdquo; is a bit of a stretch &amp;ndash; more like &amp;ldquo;seldom.&amp;quot;)&lt;/p&gt;
&lt;p&gt;When &lt;a href=&#34;http://www.stodden.net&#34;&gt;Victoria Stodden&lt;/a&gt; visited Madison last fall, I was inspired to release this code, but I never carried through on that.&lt;/p&gt;
&lt;p&gt;But then last night I &lt;a href=&#34;https://twitter.com/kwbroman/status/310633718551293953&#34;&gt;twittered&lt;/a&gt; an example graph from &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/phyloqtl.pdf&#34;&gt;a paper&lt;/a&gt;, was (appropriately) &lt;a href=&#34;https://twitter.com/fellgernon/status/310647658387734528&#34;&gt;asked to produce code&lt;/a&gt;, and so created a &lt;a href=&#34;https://github.com/kbroman/phyloQTLpaper/&#34;&gt;github repository&lt;/a&gt; with the bulk of the code for that paper.&lt;/p&gt;
&lt;p&gt;The repository is incomplete: it doesn&amp;rsquo;t include the code to do the main analysis and simulations, but just to make the figures, starting from those results.  I&amp;rsquo;ll work to add those additional details.&lt;/p&gt;
&lt;p&gt;And, even once complete, it will be far from perfect.  The code is (or will be) there, but it would take a bit of work for an interested reader to figure out what it is doing, since much of it is undocumented and poorly written.&lt;/p&gt;
&lt;p&gt;But if we ask for perfection, we&amp;rsquo;ll get nothing.  If we ask for the minimal materials for reproducibility, we may get it.&lt;/p&gt;
&lt;p&gt;So that&amp;rsquo;s my goal: to focus first on &lt;em&gt;minimal accessibility&lt;/em&gt; of the code and data behind a paper, even if it is minimally readable and so might take quite a bit of effort for someone else to follow.&lt;/p&gt;
&lt;p&gt;One last point: I use local &lt;a href=&#34;https://git-scm.com&#34;&gt;git&lt;/a&gt; repositories for my draft analyses and for the whole process of writing a paper.  I could post that whole history, but &lt;a href=&#34;https://kbroman.org/blog/2011/08/17/the-stupidest-r-code-ever/&#34;&gt;as I said before&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Open source means everyone can see my stupid mistakes. Version control means everyone can see every stupid mistake I&amp;rsquo;ve ever made.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It would be easy to make my working repository public, but it would include things like referees&#39; reports and my responses to them, as well as the gory details on all of the stupid things that I might do along the way to publication.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m more comfortable releasing just a snapshot of the final product.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What a waste of paper</title>
      <link>/2013/03/07/what-a-waste-of-paper/</link>
      <pubDate>Thu, 07 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/07/what-a-waste-of-paper/</guid>
      <description>&lt;p&gt;A university press asked me to review a book manuscript, and the author &amp;ldquo;has asked that we not use electronic copies.&amp;rdquo; So they&amp;rsquo;re going to send me a hard copy.&lt;/p&gt;
&lt;p&gt;My response: &amp;ldquo;If you only give me a paper copy, I&amp;rsquo;m going to just scan it and toss the paper. That seems like a waste of time (and paper and postage).&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I should probably have said, &amp;ldquo;Then forget it.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Their response included, &amp;ldquo;What you do with it when it arrives I am just going to take a hear-no-evil approach to.&amp;rdquo;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interactive eQTL plot with d3.js</title>
      <link>/2013/03/06/interactive-eqtl-plot-with-d3-js/</link>
      <pubDate>Wed, 06 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/06/interactive-eqtl-plot-with-d3-js/</guid>
      <description>&lt;p&gt;I just finished an &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/cistrans&#34;&gt;interactive eQTL plot&lt;/a&gt; using &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;, in preparation for my &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/talks/InteractiveGraphs2&#34;&gt;talk on interactive graphics&lt;/a&gt; at the &lt;a href=&#34;https://www.enar.org/meetings/index.cfm&#34;&gt;ENAR meeting&lt;/a&gt; next week.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/cistrans&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/interactive_eqtl_plot.png&#34; alt=&#34;Static view of interactive eQTL plot&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The code (in &lt;a href=&#34;https://coffeescript.org&#34;&gt;CoffeeScript&lt;/a&gt;) is available at &lt;a href=&#34;https://github.com/kbroman/JSbroman/tree/master/cistrans&#34;&gt;github&lt;/a&gt;.  But beware: it&amp;rsquo;s pretty awful.&lt;/p&gt;
&lt;p&gt;The hardest part was setting up the data files.  Well, that plus the fact that I just barely know what I&amp;rsquo;m doing in D3.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Hopkins SPH logo, part 3: Karl&#39;s revenge</title>
      <link>/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/</link>
      <pubDate>Wed, 06 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m finally back to the story of the &lt;a href=&#34;https://www.jhsph.edu/&#34;&gt;Johns Hopkins Bloomberg School of Public Health&lt;/a&gt; logo.&lt;/p&gt;
&lt;p&gt;I wrote &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;Part 1&lt;/a&gt; in mid-November and &lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2/&#34;&gt;Part 2&lt;/a&gt; a week later.  I said that Part 3 was &amp;ldquo;coming soon,&amp;rdquo; but I&amp;rsquo;ve been a bit shy about revealing this.  You&amp;rsquo;ll see why.&lt;/p&gt;
&lt;p&gt;In August, 2005, &lt;a href=&#34;http://www.biostat.jhsph.edu/~iruczins/&#34;&gt;Ingo&lt;/a&gt;, &lt;a href=&#34;https://www.albany.edu/sph/19585.php&#34;&gt;Greg&lt;/a&gt;, and I were sitting in a pub in Minneapolis in the early morning hours.  I think maybe &lt;a href=&#34;http://www.bcaffo.com&#34;&gt;Brian&lt;/a&gt; was there, too.  We had a session, which Ingo had organized, at the &lt;a href=&#34;https://www.amstat.org/meetings/jsm/2005/&#34;&gt;Joint Statistical Meetings&lt;/a&gt; the next morning (really &lt;em&gt;that&lt;/em&gt; morning), and so we should have been sleeping.  (&lt;a href=&#34;https://sunduzkeles.org&#34;&gt;Sunduz&lt;/a&gt; was also in the session, but, sensibly, she wasn&amp;rsquo;t out drinking with us.)  I think this was later in the evening on the night I&amp;rsquo;d offended the guy from Insightful when I said that anyone who still used Splus rather than R was an idiot.  And it was just after Greg and I (and perhaps Brian, if he was there) paid the waitress to &lt;em&gt;not&lt;/em&gt; bring the round of drinks that Ingo had ordered.&lt;/p&gt;
&lt;p&gt;Of course, we were talking about the Hopkins SPH logo (otherwise, why would I be discussing this?) as well as an innovative alternative that Brian Caffo had devised, and Ingo bet me to include Brian&amp;rsquo;s alternative logo in my talk the next day (or really &lt;em&gt;that&lt;/em&gt; day): If I included the alternative logo in my talk, he&amp;rsquo;d buy me beer for a month.&lt;/p&gt;
&lt;p&gt;So, I did, though I had to stay up quite a bit later to get the images together.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kendzior/&#34;&gt;Christina&lt;/a&gt; and &lt;a href=&#34;https://www.stat.wisc.edu/~newton/&#34;&gt;Michael&lt;/a&gt; were in the back of the room.  Ingo was sitting in the front row.  We&amp;rsquo;d used Greg&amp;rsquo;s laptop, so there was evidence.  I made a bit of fun of the Bloomberg name change, and I made a bit of fun of the logo, by showing the &lt;a href=&#34;https://www.mcusa.org/Portals/8/Images/logo_251x130.gif&#34;&gt;Missionary Church&lt;/a&gt; logo.  And then on my third slide, I paused for a bit and looked at Ingo, and he looked at me and then up at the screen, and when I saw that he&amp;rsquo;d seen it, I flipped to the next slide.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s Brian&amp;rsquo;s alternative logo, next to the original.  Well, it&amp;rsquo;s Brian&amp;rsquo;s design but my rendering.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/logo.png&#34; alt=&#34;JHBSPH logo&#34;&gt; &lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/altlogo.png&#34; alt=&#34;Alternative logo&#34;&gt;&lt;/p&gt;
&lt;p&gt;And &lt;a href=&#34;https://kbroman.files.wordpress.com/2013/03/evidence.pdf&#34;&gt;here&amp;rsquo;s a PDF of the logos in context&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s the month of beer:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/month_of_beer.jpg&#34; alt=&#34;Month of beer&#34;&gt;&lt;/p&gt;
&lt;p&gt;Ingo was willing to restock if necessary, but that wasn&amp;rsquo;t allowed.  We still have most of those coasters; they&amp;rsquo;ve been great toys for the kids.&lt;/p&gt;
&lt;p&gt;In October that year, I used the alternative logo on the &amp;ldquo;&lt;a href=&#34;https://www.jhsph.edu/offices-and-services/marketing-and-communications/policies/wall_of_wonder.html&#34;&gt;Wall of Wonder&lt;/a&gt;&amp;rdquo; itself, on a second bet, with &lt;a href=&#34;https://www.jhsph.edu/faculty/directory/profile/3980/Pineda/Fernando_J.&#34;&gt;Fernando&lt;/a&gt; this time.&lt;/p&gt;
&lt;p&gt;I gave another of those informal statistics lectures, this time on &amp;ldquo;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/regression_ho.pdf&#34;&gt;What is regression?&lt;/a&gt;&amp;rdquo;  Of course, they were pre-screening slides at that point, because of the &lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2&#34;&gt;first such informal talk&lt;/a&gt;.  But I gave them a last-minute substitution, with just the one logo change.&lt;/p&gt;
&lt;p&gt;(I&amp;rsquo;m pretty sure that &lt;a href=&#34;https://www.biostat.jhsph.edu/people/staff/hubbard.shtml&#34;&gt;Patty&lt;/a&gt; caught me, but she didn&amp;rsquo;t turn me in.)&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s the second month of beer:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/second_month_of_beer.jpg&#34; alt=&#34;Second month of beer&#34;&gt;&lt;/p&gt;
&lt;p&gt;It all seems a bit juvenile in retrospect.  I guess I&amp;rsquo;m getting (or &lt;em&gt;have gotten&lt;/em&gt;) old.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Update&lt;/em&gt;: &lt;a href=&#34;http://www.biostat.jhsph.edu/~iruczins&#34;&gt;Ingo&lt;/a&gt; says that &amp;ldquo;juvenile&amp;rdquo; is another word for &amp;ldquo;hip and dynamic,&amp;rdquo; so I guess it&amp;rsquo;s just that I&amp;rsquo;m no longer hip and dynamic.&lt;/p&gt;
&lt;p&gt;Related posts on the Hopkins SPH logo: &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1&#34;&gt;part 1&lt;/a&gt; | &lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2/&#34;&gt;part 2&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>charset=&#34;utf-8&#34;</title>
      <link>/2013/03/02/charsetutf-8/</link>
      <pubDate>Sat, 02 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/02/charsetutf-8/</guid>
      <description>&lt;p&gt;To use the latest version of &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;, you need to use &lt;code&gt;charset=&amp;quot;utf-8&amp;quot;&lt;/code&gt; in the call to &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m giving a talk at &lt;a href=&#34;https://www.enar.org/meetings&#34;&gt;ENAR&lt;/a&gt; in just over a week, on interactive graphics.  My slides (still in preparation) are &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/InteractiveGraphs2&#34;&gt;on the web&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The slides were working fine locally on my laptop, but they weren&amp;rsquo;t working on my web server&amp;hellip;I was getting a syntax error regarding an illegal character.&lt;/p&gt;
&lt;p&gt;I figured out that I needed to add &lt;code&gt;charset=&amp;quot;utf-8&amp;quot;&lt;/code&gt;, like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;charset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;text/javascript&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;js/d3.js&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>A bit more on the fire</title>
      <link>/2013/03/01/a-bit-more-on-the-fire/</link>
      <pubDate>Fri, 01 Mar 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/03/01/a-bit-more-on-the-fire/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://host.madison.com/daily-cardinal/&#34;&gt;Daily Cardinal&lt;/a&gt; reports that &lt;a href=&#34;http://tinyurl.com/cuyhdtl&#34;&gt;there were no overhead sprinklers&lt;/a&gt; in the area of the fire yesterday.  Fire fighters thought that sprinklers had gone off, but it was really a broken water pipe.&lt;/p&gt;
&lt;p&gt;And there are no sprinklers in my office, either.  I thought they were required, but I guess only in new construction.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s a &lt;a href=&#34;http://www.nbc15.com/home/headlines/Fire-Reported-at-UW-Medical-Science-Building-193836731.html&#34;&gt;short TV report&lt;/a&gt; (after a commercial) at the &lt;a href=&#34;http://www.nbc15.com&#34;&gt;channel 15 site&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A graduate student interviewed said, &amp;ldquo;I have multiple copies of my data, but they&amp;rsquo;re all in that building.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;I hope we all learn from this: Off-site backups (at least with something like &lt;a href=&#34;http://www.dropbox.com&#34;&gt;DropBox&lt;/a&gt;) are important.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>There&#39;s a fire in the building...</title>
      <link>/2013/02/28/theres-a-fire-in-the-building/</link>
      <pubDate>Thu, 28 Feb 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/02/28/theres-a-fire-in-the-building/</guid>
      <description>&lt;p&gt;I was at work this morning at 8am.  At 8:45am I got a text asking what was going on in &lt;a href=&#34;https://www.map.wisc.edu/?initObj=bdg_MdScC&#34;&gt;my building&lt;/a&gt;, with this picture:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/02/fire_trucks.jpg&#34; alt=&#34;Fire trucks at MSC&#34;&gt;&lt;/p&gt;
&lt;p&gt;It was news to me.&lt;/p&gt;
&lt;p&gt;At 8:55am we got an alert saying &amp;ldquo;Avoid 1300 Univ Ave.  Fire and Police on scene for working fire.&amp;rdquo;  Hey, I&amp;rsquo;m at 1300 University Avenue!&lt;/p&gt;
&lt;p&gt;We could see out the window that there was a campus police officer preventing people from entering the building.  But the fire alarm had never gone off.&lt;/p&gt;
&lt;p&gt;At 9:05am I called the campus police to ask what was going on.  They said all the alarms were supposed to go off.  They asked me to leave the building.  I did immediately, but afterwards I wished I&amp;rsquo;d brought my lunch and laptop with me.&lt;/p&gt;
&lt;p&gt;Apparently no one was hurt, but there seems to be quite a mess.  This is on the same floor as my office, not too far away:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/02/smi.jpg&#34; alt=&#34;Fire-related mess, 4th floor SMI&#34;&gt;&lt;/p&gt;
&lt;p&gt;The fire seems to be around the corner from that shot, in the back-central part of the building.  I peaked around the corner and saw a bunch of people standing around, but I was too shy to take a picture of them.&lt;/p&gt;
&lt;p&gt;There is a related article in the &lt;a href=&#34;https://tinyurl.com/ccyggdl&#34;&gt;Wisconsin State Journal&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>UW-Madison joins Coursera</title>
      <link>/2013/02/21/uw-madison-joins-coursera/</link>
      <pubDate>Thu, 21 Feb 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/02/21/uw-madison-joins-coursera/</guid>
      <description>&lt;p&gt;UW-Madison is joining Coursera to offer four massive open online courses (MOOCs).&lt;/p&gt;
&lt;p&gt;I like &lt;a href=&#34;http://eduoptimists.blogspot.com/2013/02/the-illusory-appeal-of-uw-madison-moocs.html&#34;&gt;Sara Goldrick-Rab&amp;rsquo;s comments&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;MOOCs are a good thing, but I view them as &amp;ldquo;outreach&amp;rdquo;.  There are lots of problems with universities, but MOOCs don&amp;rsquo;t seem to be a solution to any of them.&lt;/p&gt;
&lt;p&gt;I like Sara&amp;rsquo;s point about MOOCs more being used more for continuing education for the already educated vs new access for the uneducated.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interactive MA plot</title>
      <link>/2013/02/11/interactive-ma-plot/</link>
      <pubDate>Mon, 11 Feb 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/02/11/interactive-ma-plot/</guid>
      <description>&lt;p&gt;The New York Times has &lt;a href=&#34;https://tinyurl.com/aqa9wum&#34;&gt;an interesting interactive graphic&lt;/a&gt; on boys&#39; and girls&#39; average scores on a science exam, by country.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://tinyurl.com/aqa9wum&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/02/science_scores.png&#34; alt=&#34;Science scores&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s nice to see a scatterplot. (Often one would see just a bar plot, with female and male bars side-by-side.) Even better, this is an &amp;ldquo;&lt;a href=&#34;https://en.wikipedia.org/wiki/MA_plot&#34;&gt;MA plot&lt;/a&gt;.&amp;rdquo; That is, rather than just plot males vs females, they show the difference vs the average.&lt;/p&gt;
&lt;p&gt;The wikipedia entry for &lt;a href=&#34;https://en.wikipedia.org/wiki/MA_plot&#34;&gt;MA plot&lt;/a&gt; says such a plot of difference vs average is in medical statistics known as a &lt;a href=&#34;https://en.wikipedia.org/wiki/Bland-Altman_plot&#34;&gt;Bland-Altman plot&lt;/a&gt; and in other fields is known as a Tukey mean-difference plot.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>D3.js difficulties</title>
      <link>/2013/02/08/d3-js-difficulties/</link>
      <pubDate>Fri, 08 Feb 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/02/08/d3-js-difficulties/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m pleased with my progress learning javascript and &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;. (I&amp;rsquo;m actually writing &lt;a href=&#34;https://coffeescript.org&#34;&gt;coffeescript&lt;/a&gt; rather than javascript.)&lt;/p&gt;
&lt;p&gt;But I spent a lot of time thrashing about yesterday, due mostly to two silly errors.&lt;/p&gt;
&lt;h3 id=&#34;put-the-script-in-the-body&#34;&gt;Put the script in the body&lt;/h3&gt;
&lt;p&gt;First, I&amp;rsquo;d tried to make a &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/error1/error1.html&#34;&gt;truly simple example&lt;/a&gt;, making just an SVG with a little rectangle.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;html&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lang&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;head&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;charset&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;&amp;gt;Put script in body&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;text/javascript&amp;#34;&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://d3js.org/d3.v3.min.js&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;

    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;text/javascript&amp;#34;&lt;/span&gt;&amp;gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;svg&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;d3&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;body&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;svg&amp;#34;&lt;/span&gt;)
                .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;);
    &lt;span style=&#34;color:#a6e22e&#34;&gt;svg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rect&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
                .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;);
    &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;head&lt;/span&gt;&amp;gt;

&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;body&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;body&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But this gives nothing.  You need to move the script from the &lt;code&gt;head&lt;/code&gt; to the &lt;code&gt;body&lt;/code&gt;, &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/error1/error1b.html&#34;&gt;as it is here&lt;/a&gt;.  Then it works.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t really understand this.  Perhaps I should go back to my reading.&lt;/p&gt;
&lt;p&gt;[&lt;strong&gt;Update&lt;/strong&gt;: I think I&amp;rsquo;ve figured this out.  If you put the script in the &lt;code&gt;head&lt;/code&gt;, the code gets run before the &lt;code&gt;body&lt;/code&gt; exists, and so there&amp;rsquo;s no &lt;code&gt;body&lt;/code&gt; in which to append the SVG.  &lt;em&gt;Conclusion&lt;/em&gt;: Put the link to your script at the very bottom of the html file.]&lt;/p&gt;
&lt;h3 id=&#34;dont-forget-enter&#34;&gt;Don&amp;rsquo;t forget &lt;code&gt;enter()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;In D3, you bind data to a bunch of objects, and attributes of the objects can be controlled by features of the data.  I write code sort of like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;svg&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;g&amp;#34;&lt;/span&gt;).&lt;span style=&#34;color:#a6e22e&#34;&gt;selectAll&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;empty&amp;#34;&lt;/span&gt;)
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;thedata&lt;/span&gt;)
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;enter&lt;/span&gt;()
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;append&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;rect&amp;#34;&lt;/span&gt;)
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;start&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;])
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;pad&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;top&lt;/span&gt;)
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;width&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;start&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;])
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;height&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hInner&lt;/span&gt;)
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fill&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;color&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;d&lt;/span&gt;])
   .&lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stroke&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;none&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;My most common mistake so far: I forget the &lt;code&gt;.enter()&lt;/code&gt; part.  You don&amp;rsquo;t get a error message, but the objects don&amp;rsquo;t get created.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Interactive graphics with d3.js</title>
      <link>/2013/02/08/interactive-graphics-with-d3-js/</link>
      <pubDate>Fri, 08 Feb 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/02/08/interactive-graphics-with-d3-js/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m making some progress learning &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt; (for interactive graphics), by which I mean I&amp;rsquo;ve gotten a couple of examples to work.&lt;/p&gt;
&lt;h3 id=&#34;many-box-plots&#34;&gt;Many box plots&lt;/h3&gt;
&lt;p&gt;First, an &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/manyboxplots&#34;&gt;example for displaying many distributions&lt;/a&gt;.  Here I&amp;rsquo;m considering a set of nearly 500 gene expression microarrays, each with 40,000 or so measurements.  It&amp;rsquo;s hard to look at 500 box plots side-by-side, and with 40k measurements, traditional box plots don&amp;rsquo;t give enough information about the tails.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/manyboxplots&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/02/manyboxplots.png&#34; alt=&#34;Many box plots&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In the top figure, the 500 arrays are aligned next to each other, sorted by their median, and then I show the 1, 5, 10, 25 50, &amp;hellip;, 99th percentiles.  The advantage of the interactive plot is that you can hover over a given array on the top and see a more detailed histogram below.  And if you click on an array, its histogram will be retained below, for easy comparison to other arrays.&lt;/p&gt;
&lt;h3 id=&#34;lod-curves-and-qtl-effects&#34;&gt;LOD curves and QTL effects&lt;/h3&gt;
&lt;p&gt;As a &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect&#34;&gt;second example&lt;/a&gt;, I plot the LOD curves from QTL analysis across the genome; click on a chromosome above and you get a more detailed view of that chromosome in the bottom-left; click on a marker position in the bottom-left, and you get a view of the QTL effect on the bottom-right.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/02/lod_and_effect1.png&#34; alt=&#34;LOD curves and QTL effects&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Likely none of that is understandable; let me try to explain.  QTL stands for &amp;ldquo;quantitative trait locus,&amp;rdquo; a region of the genome (i.e., locus) that influences some quantitative trait (like insulin level in serum).  To identify QTL, we look at the association between the quantitative trait and genotype at each of many genetic markers across the genome.  We&amp;rsquo;re basically doing analysis of variance, but we express the results as a log10 likelihood ratio, called the LOD score.&lt;/p&gt;
&lt;p&gt;The advantage of this interactive graph is that you have some ability to look at the underlying genotype/phenotype association, rather than just rely on LOD curves.  It would be nice to include the option of a dot-plot on the lower right, rather than just the within-group averages.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Microsoft Office</title>
      <link>/2013/01/30/microsoft-office/</link>
      <pubDate>Wed, 30 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/01/30/microsoft-office/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://www.nytimes.com&#34;&gt;New York Times&lt;/a&gt; has &lt;a href=&#34;http://nyti.ms/WdR6ya&#34;&gt;an article&lt;/a&gt; about how Microsoft will have users pay a yearly fee for MS Office, instead of buying it outright.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s some mention of competition from &lt;a href=&#34;http://docs.google.com&#34;&gt;Google Docs&lt;/a&gt;. Why should one still use Microsoft Office? The brilliant Excel graphs!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As for Google, Mr. DelBene said it has not &amp;ldquo;in any way diminished demand&amp;rdquo; for Office because Microsoft&amp;rsquo;s applications are &amp;ldquo;just so far beyond the capabilities that are in those alternative products.&amp;rdquo; As an example, he cited a feature in Excel that analyzes a batch of numbers selected by a user and automatically recommends the best way to represent the data in a chart.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>5/9 data journalists use Excel</title>
      <link>/2013/01/15/59-data-journalists-use-excel/</link>
      <pubDate>Tue, 15 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/01/15/59-data-journalists-use-excel/</guid>
      <description>&lt;p&gt;&amp;hellip;if I&amp;rsquo;ve &lt;a href=&#34;http://datajournalismhandbook.org/1.0/en/understanding_data_6.html&#34;&gt;counted correctly.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d not heard the term &amp;ldquo;data journalist&amp;rdquo; before. It&amp;rsquo;s nice that they have an &lt;a href=&#34;http://datajournalismhandbook.org/1.0/en/index.html&#34;&gt;open handbook&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NIH to hire Associate Director for Data Science</title>
      <link>/2013/01/15/nih-to-hire-associate-director-for-data-science/</link>
      <pubDate>Tue, 15 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>/2013/01/15/nih-to-hire-associate-director-for-data-science/</guid>
      <description>&lt;p&gt;See &lt;a href=&#34;http://www.nih.gov/news/health/jan2013/od-10a.htm&#34;&gt;the press release&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.genome.gov/27535200&#34;&gt;Eric Green&lt;/a&gt;, currently head of NHGRI, has been appointed the Acting Associate Director for Data Science.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>I don&#39;t want your irrelevant communications either</title>
      <link>/2012/12/12/i-dont-want-your-irrelevant-communications-either/</link>
      <pubDate>Wed, 12 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/12/12/i-dont-want-your-irrelevant-communications-either/</guid>
      <description>&lt;p&gt;I got some spam from Quintiles and clicked the &amp;ldquo;unsubscribe&amp;rdquo; button.  The form which came up said, &amp;ldquo;I would NOT like to receive future relevant communications from Quintiles.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/12/quintiles_sucks.png&#34; alt=&#34;Quintiles sucks&#34;&gt;&lt;/p&gt;
&lt;p&gt;I should just forget about it, but the thought of some marketing jerk writing that while preparing their crap spam just really pisses me off.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Child abuse and neglect is cancelled today</title>
      <link>/2012/11/29/child-abuse-and-neglect-is-cancelled-today/</link>
      <pubDate>Thu, 29 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/11/29/child-abuse-and-neglect-is-cancelled-today/</guid>
      <description>&lt;p&gt;On a classroom door:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/11/neglect_cancelled.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Hopkins SPH logo, part 2</title>
      <link>/2012/11/21/the-hopkins-sph-logo-part-2/</link>
      <pubDate>Wed, 21 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/11/21/the-hopkins-sph-logo-part-2/</guid>
      <description>&lt;p&gt;Last week, I wrote about the &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;Johns Hopkins &lt;strong&gt;Bloomberg&lt;/strong&gt; School of Public Health logo&lt;/a&gt;.  I now present part 2 of the story.&lt;/p&gt;
&lt;p&gt;Hopkins SPH had done some fancy renovations of part of the building, including an important new feature, the &amp;ldquo;&lt;a href=&#34;https://www.jhsph.edu/offices-and-services/marketing-and-communications/policies/wall_of_wonder.html&#34;&gt;Wall of Wonder&lt;/a&gt;&amp;quot;: a big display composed of nine LCD screens in the atrium of the building, to display various PR type stuff.  (&amp;ldquo;Wall of Wonder&amp;rdquo; (WOW) is the official name!  Consider the &lt;a href=&#34;https://www.jhsph.edu/offices-and-services/marketing-and-communications/policies/wall_of_wonder.html&#34;&gt;Wall of Wonder policies&lt;/a&gt;, inspired by the events I detail below.) Here&amp;rsquo;s a photo:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/graphs_photos/IMG_0213a.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;A number of us in &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Hopkins Biostatistics&lt;/a&gt; had the idea to have a short seminar series on Friday afternoon just before Happy Hour, making use of the WOW.  (Fridays at 4, biochemistry graduate students sell beer, and lots of SPH faculty, staff, and students gather to drink and chat.)  The concept was informal lectures about different statistics topics, suitable for a general audience.  Here&amp;rsquo;s the list of talks from 2005-2006.&lt;/p&gt;
&lt;p&gt;I volunteered to do the first one, on &amp;ldquo;How to display data badly,&amp;rdquo; a lecture I&amp;rsquo;d given in my &amp;ldquo;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/teaching/labstat/&#34;&gt;Statistics for laboratory scientists&lt;/a&gt;&amp;rdquo; course, inspired by &lt;a href=&#34;https://www.jstor.org/sici?sici=0003-1305%28198405%2938%3A2%3C137%3AHTDDB%3E2.0.CO%3B2-N&#34;&gt;Howard Wainer&amp;rsquo;s 1984 article&lt;/a&gt; in &lt;a href=&#34;https://www.amstat.org/publications/tas.cfm&#34;&gt;The American Statistician&lt;/a&gt;.  It took a lot of negotiations to get access to the WOW, and even more to get beer served early and at the seminar.  But &lt;a href=&#34;https://www.jhsph.edu/faculty/directory/profile/3859/Zeger/Scott&#34;&gt;we&lt;/a&gt; pulled it off.&lt;/p&gt;
&lt;p&gt;The concept of my talk was to take a reasonably good graph, like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/11/fig1a.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;and then show how to turn it into a terrible graph, like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/11/fig1h.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;In addition, as an ancillary commentary on the use of gratuitous animation in slides, I animated &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1/&#34;&gt;the School&amp;rsquo;s logo&lt;/a&gt; on each slide, with those animations becoming increasingly intrusive as the talk went on.  Then, at the summary slide, it was flying all around.  I wasn&amp;rsquo;t going to refer to the logo in any way, or say anything about slide animations at all.  I just thought it would be a funny backdrop.&lt;/p&gt;
&lt;p&gt;Well, to get the slides on the computer that drives the big screen, you need to send them to the &lt;a href=&#34;https://www.jhsph.edu/offices-and-services/marketing-and-communications/&#34;&gt;Office of Communications&lt;/a&gt;.  So I did that the morning of, and then went off to teach a class.  When I got back to my office, I had a voice mail from someone in Communications, saying that they had applied &lt;a href=&#34;https://www.jhsph.edu/identity/commonCommunications/pptPresentations.shtml&#34;&gt;the School&amp;rsquo;s PowerPoint template&lt;/a&gt; to my slides.  (This was back in the days when I was using PowerPoint; you can see the slides for all of the talks I&amp;rsquo;ve given since 1998 &lt;a href=&#34;https://kbroman.org/talks.html&#34;&gt;here&lt;/a&gt;; I stopped using PowerPoint in 2006.) The Communications person said that since she wasn&amp;rsquo;t as facile with PowerPoint as I was, I might want to take a look at the slides to be sure they were okay.&lt;/p&gt;
&lt;p&gt;Of course, the animated logo was gone.  But also my slides had a blue background, while the School&amp;rsquo;s template had a light background, and so all of my &amp;ldquo;nice&amp;rdquo; figures looked terrible, being big blue rectangles in the middle of a light background.  And this was a talk about good (well, actually bad) graphics!&lt;/p&gt;
&lt;p&gt;I could tell it would take all the time I had left before the talk to fix the figures, so I had to choose:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Fight, but probably lose, and then be stuck with ugly slides.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cave in, and clean up the slides.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I wish I could say I chose the former option, but I&amp;rsquo;m weak, and I chose the latter.&lt;/p&gt;
&lt;p&gt;After, there was considerable discussion in the Dean&amp;rsquo;s office about my &amp;ldquo;abuse&amp;rdquo; of the School&amp;rsquo;s logo.  And they created &lt;a href=&#34;https://www.jhsph.edu/offices-and-services/marketing-and-communications/policies/wall_of_wonder.html&#34;&gt;a formal policy&lt;/a&gt; on the use of the Wall of Wonder, which includes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When there are School events that involve external audiences the Office of External Affairs will manage the content of the Wall so that it is appropriate for the event.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can see the slides as presented, as well as the &amp;ldquo;Director&amp;rsquo;s Cut&amp;rdquo;, at &lt;a href=&#34;https://kbroman.org/talks.html#wow&#34;&gt;my web page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a slide from the Director&amp;rsquo;s Cut (the colors matched better originally; that they don&amp;rsquo;t now is one of the many reasons I hate PowerPoint):&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/11/before.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s how it was presented:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/11/after.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Related posts on the Hopkins SPH logo: &lt;a href=&#34;https://kbroman.org/blog/2012/11/16/the-hopkins-sph-logo-part-1&#34;&gt;part 1&lt;/a&gt; | &lt;a href=&#34;https://kbroman.org/blog/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/&#34;&gt;part 3&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Wireless router woes</title>
      <link>/2012/11/20/wireless-router-woes/</link>
      <pubDate>Tue, 20 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/11/20/wireless-router-woes/</guid>
      <description>&lt;p&gt;I had problems with my internet connection at home this morning.  The usual things didn&amp;rsquo;t work, but an unusual thing did work, so I thought I&amp;rsquo;d write about it.&lt;/p&gt;
&lt;p&gt;My internet connection worked last night, but it didn&amp;rsquo;t work this morning.  I did the usual things: turn off the cable modem and the wireless router, and then turn them back on again.  Turn off the computer and then turn it back on again, and then power cycle the modem and router again.   Go to network settings and renew the DHCP.  None of that worked.&lt;/p&gt;
&lt;p&gt;I called the cable company, to see if there was a problem on their end.  An automated system talked me through the whole turn on/off modem, router and computer.  (I stuck through the whole thing, hoping there might be a trick at the end, but no luck.)  I talked to a tech support person, who had me do the same things again; no luck.  (He did suggest that I call to ask to get a better deal on my services, which I later did, with success, so he made the call worth my time.)&lt;/p&gt;
&lt;p&gt;After getting off the phone with him (and after the kids were out of the house), I tried it all again, and then tried bypassing the router: plugging the computer straight into the cable modem.  I then had internet, so I could see it was a router problem.&lt;/p&gt;
&lt;p&gt;And I could do google searches, but search for &amp;ldquo;router internet connection problem&amp;rdquo; or such things, and you get 19 million pages that all seem to say to do what I&amp;rsquo;d already done and no more.  (I didn&amp;rsquo;t read all 19 million, though.)&lt;/p&gt;
&lt;p&gt;Finally, I found &lt;a href=&#34;http://tinyurl.com/az3ltws&#34;&gt;this page&lt;/a&gt; at this Cisco site, on connecting a Linksys router to a cable modem, which suggests enabling &amp;ldquo;clone my PC&amp;rsquo;s MAC address&amp;rdquo;.  I tried that, and it worked!  (My next plan was to reset the router to the factory settings, after first doing screen shots of all of the settings, so I could get back to how I wanted them; I&amp;rsquo;m glad I didn&amp;rsquo;t have to do that.)&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t know why that worked.  I&amp;rsquo;ve never done that before, and the router worked perfectly fine last night.  What could have changed over night?  Did the cable company change some setting on their end?&lt;/p&gt;
&lt;p&gt;What a fun way to spend two hours!  At least, in the end, I cut 25% off my monthly cable bill.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Hopkins SPH logo, part 1</title>
      <link>/2012/11/16/the-hopkins-sph-logo-part-1/</link>
      <pubDate>Fri, 16 Nov 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/11/16/the-hopkins-sph-logo-part-1/</guid>
      <description>&lt;p&gt;I was just telling &lt;a href=&#34;http://www.stodden.net&#34;&gt;a distinguished visitor&lt;/a&gt; a few of my various stories about the &lt;a href=&#34;https://www.jhsph.edu&#34;&gt;Johns Hopkins &lt;strong&gt;Bloomberg&lt;/strong&gt; School of Public Health&lt;/a&gt; &lt;a href=&#34;https://www.jhsph.edu/identity/coreIdentity/logoIntro.shtml&#34;&gt;logo&lt;/a&gt;. She suggested that it would be a great blog topic. And now that I&amp;rsquo;m a tenured faculty member at a &lt;a href=&#34;https://www.wisc.edu&#34;&gt;different university&lt;/a&gt; and so can&amp;rsquo;t get into any [further] trouble over this&amp;hellip;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s the logo:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2013/03/logo.png&amp;amp;h=150&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The logo was newly released while I was a faculty member in the &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Department of Biostatistics&lt;/a&gt; at Hopkins.  It was part of a &lt;a href=&#34;https://en.wikipedia.org/wiki/Brand_management&#34;&gt;&amp;ldquo;branding&amp;rdquo;&lt;/a&gt; effort for the school that was a near-constant source of amusement for me, though I think I did strain an eye muscle or two from all the rolling.&lt;/p&gt;
&lt;p&gt;When the logo was first revealed to the faculty, the website describing it (which was not unlike the current &lt;a href=&#34;https://www.jhsph.edu/identity/coreIdentity/logoIntro.shtml&#34;&gt;pedantic website&lt;/a&gt; describing the rules for its use) mentioned the &amp;ldquo;flame of leaning&amp;rdquo; rather than &amp;ldquo;of &lt;em&gt;learning&lt;/em&gt;.&amp;rdquo;  I made the tactical error of pointing this out to the web folks, so it was fixed before we had sufficient time to make fun of it.&lt;/p&gt;
&lt;p&gt;In addition, the day the logo was revealed, &lt;a href=&#34;https://www.biostat.jhsph.edu/people/staff/moffitt.shtml&#34;&gt;someone&lt;/a&gt; said it looked like the logo for some religious organization.  A google search for &amp;ldquo;globe flame logo&amp;rdquo; instantly revealed the logo for &lt;a href=&#34;https://www.mcusa.org&#34;&gt;Missionary Church&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.mcusa.org/Portals/8/Images/logo_251x130.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Can the similarity be due to chance?&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s more to come on the logo.&lt;/p&gt;
&lt;p&gt;And if you really care about the JHBSPH logo, be sure to pay close attention to the list of &lt;a href=&#34;https://www.jhsph.edu/identity/coreIdentity/incorrectLogoUsage.shtml&#34;&gt;Incorrect Logo Usages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Related posts on the Hopkins SPH logo: &lt;a href=&#34;https://kbroman.org/blog/2012/11/21/the-hopkins-sph-logo-part-2/&#34;&gt;part 2&lt;/a&gt; | &lt;a href=&#34;https://kbroman.org/blog/2013/03/06/the-hopkins-sph-logo-part-3-karls-revenge/&#34;&gt;part 3&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Puzzling typo</title>
      <link>/2012/10/27/puzzling-typo/</link>
      <pubDate>Sat, 27 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/27/puzzling-typo/</guid>
      <description>&lt;p&gt;There&amp;rsquo;s &lt;a href=&#34;https://www.nytimes.com/2012/10/27/opinion/a-failed-earthquake-prediction-a-crime.html&#34;&gt;a nice op-ed&lt;/a&gt; in the &lt;a href=&#34;https://www.nytimes.com&#34;&gt;NY Times&lt;/a&gt; about the &lt;a href=&#34;https://www.nytimes.com/2012/10/23/world/europe/italy-convicts-7-for-failure-to-warn-of-quake.html&#34;&gt;crazy conviction of seven Italian scientists for failure to warn about an unpredictable earthquake&lt;/a&gt;. But I spent quite a while puzzling over the following typo:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/10/nytimes_article_detail.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The third highlighted line should be in the middle of the fourth one, to give &amp;ldquo;&amp;hellip;who allow flimsy buildings to be built&amp;hellip;&amp;rdquo;  I&amp;rsquo;m not sure how such an error can occur.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kbroman.files.wordpress.com/2012/10/nytimes_article.pdf&#34;&gt;Here&amp;rsquo;s a PDF of the full article.&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Open access, animated</title>
      <link>/2012/10/25/open-access-animated/</link>
      <pubDate>Thu, 25 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/25/open-access-animated/</guid>
      <description>&lt;p&gt;Here&amp;rsquo;s a great interview with &lt;a href=&#34;http://phylogenomics.blogspot.com&#34;&gt;Jonathan Eisen&lt;/a&gt; and &lt;a href=&#34;http://www.arl.org/sparc/about/staff/shockey.shtml&#34;&gt;Nick Shockey&lt;/a&gt; on open access publishing, nicely animated by &lt;a href=&#34;http://www.phdcomics.com/about.htm&#34;&gt;Jorge Cham&lt;/a&gt;, who does the &lt;a href=&#34;http://www.phdcomics.com/comics.php&#34;&gt;Piled Higher and Deeper&lt;/a&gt; comic.&lt;/p&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/L5rVH1KGBCY&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>Helmets and bike sharing programs</title>
      <link>/2012/10/23/helmets-and-bike-sharing-programs/</link>
      <pubDate>Tue, 23 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/23/helmets-and-bike-sharing-programs/</guid>
      <description>&lt;p&gt;There was an interesting article in the New York Times several weeks ago about &lt;a href=&#34;http://www.nytimes.com/2012/09/30/sunday-review/to-encourage-biking-cities-forget-about-helmets.html&#34;&gt;helmets and bike sharing programs&lt;/a&gt;: That cities are giving up on encouraging people to wear helmets as that will just discourage people from biking.  One point that&amp;rsquo;s made is that promotion of helmets suggests &amp;ldquo;a sense of danger that just isn&amp;rsquo;t justified.&amp;rdquo;  And, of course, there&amp;rsquo;s discussion of the higher frequency of biking and lower frequency of helmet-wearing in Europe.&lt;/p&gt;
&lt;p&gt;My wife and I each bought extra helmets to keep in our offices, so that we could always have a helmet when we use the local bike sharing system, &lt;a href=&#34;http://bcycle.com&#34;&gt;Madison Bcycle&lt;/a&gt;.  But I must admit that I sometimes use a Bcycle without a helmet.  To me, it&amp;rsquo;s not about the sense of danger, but that lugging about a helmet can be inconvenient.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.nytimes.com/2012/09/30/sunday-review/to-encourage-biking-cities-forget-about-helmets.html&#34;&gt;The article&lt;/a&gt; would have been better if there had been more precise information about the risks and about the protection helmets provide.&lt;/p&gt;
&lt;p&gt;Several years ago I&amp;rsquo;d read an article about how helmet use might actually make biking less safe, as people might adopt less safe behaviors with a helmet.  I&amp;rsquo;m not convinced, though I have observed that people bike much more slowly in Europe and especially China.  If we were in less of a hurry, biking would be inherently safer.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Web-enabled publishing environment</title>
      <link>/2012/10/23/web-enabled-publishing-environment/</link>
      <pubDate>Tue, 23 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/23/web-enabled-publishing-environment/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.stat.wisc.edu/~karlrohe/&#34;&gt;Karl Rohe&lt;/a&gt; has &lt;a href=&#34;http://magazine.amstat.org/blog/2012/10/01/stats-view-oct12/&#34;&gt;an interesting commentary&lt;/a&gt; in &lt;a href=&#34;http://magazine.amstat.org&#34;&gt;Amstat News&lt;/a&gt; this month, on how our current publishing system is obstructing research progress, and what a better future might look like.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Wired on statistics</title>
      <link>/2012/10/23/wired-on-statistics/</link>
      <pubDate>Tue, 23 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/23/wired-on-statistics/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.wired.com&#34;&gt;Wired magazine&lt;/a&gt; had a short article last month on &lt;a href=&#34;http://www.wired.com/wiredscience/2012/10/mf-learn-to-read-a-scientific-report/&#34;&gt;how to read a scientific report&lt;/a&gt;, which basically was about how to interpret the statistical results.  It&amp;rsquo;s reasonably well done.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Curved arrows in R</title>
      <link>/2012/10/11/curved-arrows-in-r/</link>
      <pubDate>Thu, 11 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/11/curved-arrows-in-r/</guid>
      <description>&lt;p&gt;I briefly investigated how to draw curved arrows in R. Here&amp;rsquo;s a small piece of the figure that I ultimately created:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/10/sample_mix-ups.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;A google search for &amp;ldquo;curved arrows in R&amp;rdquo; revealed three options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;curvedarrow&lt;/code&gt; in the &lt;a href=&#34;https://cran.r-project.org/package=diagram&#34;&gt;diagram&lt;/a&gt; package&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The internal function &lt;code&gt;igraph.Arrows&lt;/code&gt; within the &lt;a href=&#34;https://cran.r-project.org/package=igraph&#34;&gt;igraph&lt;/a&gt; package (mentioned by Gabor Csardi &lt;a href=&#34;http://r.789695.n4.nabble.com/Curved-arrows-td886056.html&#34;&gt;in R help&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using &lt;code&gt;xspline&lt;/code&gt; for the shaft and adding the head &amp;ldquo;by hand&amp;rdquo; (&lt;a href=&#34;http://r.789695.n4.nabble.com/Curved-arrows-tt886056.html#a886057&#34;&gt;mentioned&lt;/a&gt; by Greg Snow)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I wasn&amp;rsquo;t too happy with how the arrow heads looked using the diagram package, and I didn&amp;rsquo;t want to have to fiddle around with &lt;code&gt;xspline&lt;/code&gt;, and igraph worked quite easily, so I went with that.&lt;/p&gt;
&lt;p&gt;Plotting multiple arrows with different colors in a single call to &lt;code&gt;igraph.Arrows&lt;/code&gt; didn&amp;rsquo;t work right (the arrow heads were all the first color), but using a loop and plotting one arrow per call worked fine.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/blog/igraph_arrows.R&#34;&gt;a bit of code I played with&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(igraph)
&lt;span style=&#34;color:#a6e22e&#34;&gt;par&lt;/span&gt;(mar&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rep&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;))
&lt;span style=&#34;color:#a6e22e&#34;&gt;plot&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;n&amp;#34;&lt;/span&gt;,xaxt&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, yaxt&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, xlab&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;, ylab&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;,
     xlim&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;), ylim&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;))

x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rep&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt;(k in &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;points&lt;/span&gt;(x, y&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;k&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)

iArrows &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; igraph&lt;span style=&#34;color:#f92672&#34;&gt;:::&lt;/span&gt;igraph.Arrows

mycolors &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rep&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;green&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;orange&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;red&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt;(i in &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;) {
  &lt;span style=&#34;color:#a6e22e&#34;&gt;iArrows&lt;/span&gt;(x[i], y[i], x[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+1&lt;/span&gt;], y[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+1&lt;/span&gt;],
          h.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.col&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mycolors[i],
          curve&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;%%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), width&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)

  &lt;span style=&#34;color:#a6e22e&#34;&gt;iArrows&lt;/span&gt;(x[i], y[i]&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;, x[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+1&lt;/span&gt;], y[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+1&lt;/span&gt;]&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;,
          h.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.col&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mycolors[i],
          curve&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;%%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), width&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)
}

&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt;(i in &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) {
  &lt;span style=&#34;color:#a6e22e&#34;&gt;iArrows&lt;/span&gt;(x[i], y[i]&lt;span style=&#34;color:#ae81ff&#34;&gt;+4&lt;/span&gt;, x[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;], y[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;]&lt;span style=&#34;color:#ae81ff&#34;&gt;+4&lt;/span&gt;,
          h.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.col&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mycolors[i],
          curve&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;%%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), width&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)

  &lt;span style=&#34;color:#a6e22e&#34;&gt;iArrows&lt;/span&gt;(x[i], y[i]&lt;span style=&#34;color:#ae81ff&#34;&gt;+6&lt;/span&gt;, x[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;], y[i&lt;span style=&#34;color:#ae81ff&#34;&gt;+2&lt;/span&gt;]&lt;span style=&#34;color:#ae81ff&#34;&gt;+6&lt;/span&gt;,
          h.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.col&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mycolors[i],
          curve&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(i &lt;span style=&#34;color:#f92672&#34;&gt;%%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), width&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)
}

x1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; x[1&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]
x2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; x[3&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;]
y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; y[1&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]&lt;span style=&#34;color:#ae81ff&#34;&gt;+8&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;iArrows&lt;/span&gt;(x1, y, x2, y,
        h.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.lwd&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, sh.col&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mycolors[1&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;],
        curve&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;((&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), width&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And here&amp;rsquo;s the corresponding figure:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/10/igraph_arrows1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Note that the arrows at the top all have green arrow heads.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The future of personalized medicine</title>
      <link>/2012/10/11/the-future-of-personalized-medicine/</link>
      <pubDate>Thu, 11 Oct 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/10/11/the-future-of-personalized-medicine/</guid>
      <description>&lt;p&gt;&amp;ldquo;Scientists&amp;rdquo; ripping people off by selling them basically useless genetic information with a bullshit report: &lt;a href=&#34;http://well.blogs.nytimes.com/2012/10/10/are-you-likely-to-respond-to-exercise/?smid=pl-share&#34;&gt;a genetic test for exercise&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What, no coffee?</title>
      <link>/2012/09/28/what-no-coffee/</link>
      <pubDate>Fri, 28 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/09/28/what-no-coffee/</guid>
      <description>&lt;p&gt;I was at a &lt;a href=&#34;http://www.cidr.jhmi.edu/about/CIDR%20Access%20Committee.pdf&#34;&gt;CIDR Access Committee&lt;/a&gt; meeting in DC a few weeks ago. We review proposals for genotyping or sequencing by the &lt;a href=&#34;http://www.cidr.jhmi.edu&#34;&gt;Center for Inherited Disease Research&lt;/a&gt;, a service funded by several of the NIH institutes.&lt;/p&gt;
&lt;p&gt;We had to buy our own coffee.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s silly to complain. There was a coffee shop across the hall from the meeting room, and the coffee there was suitable.&lt;/p&gt;
&lt;p&gt;But isn&amp;rsquo;t it silly to pay airfare for a dozen people for a 3 hr meeting and then chintz on the snacks?  Apparently it&amp;rsquo;s a &lt;a href=&#34;http://www.hhs.gov/asfr/ogapa/acquisition/appfundspol_att2.html&#34;&gt;new government rule&lt;/a&gt;.  (I&amp;rsquo;d thought the rule was maybe instituted following the &lt;a href=&#34;http://www.nytimes.com/2012/04/04/us/politics/gsa-las-vegas-trip-is-the-talk-of-washington.html&#34;&gt;GSA&amp;rsquo;s Las Vegas party&lt;/a&gt;, but it predates that.)&lt;/p&gt;
&lt;p&gt;Without coffee, &lt;a href=&#34;http://www.freestatebrewing.com&#34;&gt;grant reviewing does not seem to go as well&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Odd smoother</title>
      <link>/2012/09/27/odd-smoother/</link>
      <pubDate>Thu, 27 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/09/27/odd-smoother/</guid>
      <description>&lt;p&gt;I was flipping though the contents of &lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt; and saw &lt;a href=&#34;https://doi.org/10.1534/g3.112.003343&#34;&gt;this paper&lt;/a&gt;, which includes &lt;a href=&#34;https://www.luc.edu/biology/aboutus/facultyresearch/jamesmcheverud/&#34;&gt;Jim Cheverud&lt;/a&gt; as an author.&lt;/p&gt;
&lt;p&gt;I poked through the paper, and my eye was attracted to the following figure.  These are supposed to be functions, but some weird smoother was used, and the results are not functions.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://g3journal.org/content/2/9/1019/F3.large.jpg&#34;&gt;&lt;img src=&#34;https://www.biostat.wisc.edu/~kbroman/blog/F3.medium.gif&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bottle filling station</title>
      <link>/2012/09/24/bottle-filling-station/</link>
      <pubDate>Mon, 24 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/09/24/bottle-filling-station/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;http://www.msnairport.com&#34;&gt;Madison airport&lt;/a&gt; now has a bottle-filling machine, sort of like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./images/bottle_filler.jpeg&#34; alt=&#34;bottle filling station&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.elkayusa.com/cps/rde/xchg/elkay/hs.xsl/elkay-com-103031.aspx&#34;&gt;Bottle filler/drinking fountains&lt;/a&gt; are being installed all over the &lt;a href=&#34;http://www.wisc.edu&#34;&gt;UW-Madison campus&lt;/a&gt;, too.&lt;/p&gt;
&lt;p&gt;I really love these things.  All airports should have them.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hilarious graph</title>
      <link>/2012/09/11/hilarious-graph/</link>
      <pubDate>Tue, 11 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/09/11/hilarious-graph/</guid>
      <description>&lt;p&gt;I read &lt;a href=&#34;https://campaignstops.blogs.nytimes.com/2012/09/10/the-unexpected-impact-of-coded-appeals/?hp&#34;&gt;an interesting post&lt;/a&gt; on the &lt;a href=&#34;https://nytimes.com&#34;&gt;NY Times&lt;/a&gt; site this morning, which said:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Analyzing data from the 2008 American National Election Study, we found no relationship between negative feelings toward African-Americans and opposition to government-provided health care among whites without  college degrees. For college-educated whites, however, negative racial feelings were strongly associated with increased opposition to such reform. As the graph below shows, for whites without college degrees, feelings toward African-Americans are unrelated to whether respondents support or oppose government-provided health care. For college-educated whites, however, increases in negative feelings are associated with large increases in opposition to government-provided health care.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://graphics8.nytimes.com/images/2012/09/11/opinion/11campstops-graph/11campstops-graph-blog480.jpg&#34; alt=&#34;hilariously empty graph&#34;&gt;&lt;/p&gt;
&lt;p&gt;They must be right; they have a graph!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to evaluate faculty?</title>
      <link>/2012/09/08/how-to-evaluate-faculty/</link>
      <pubDate>Sat, 08 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/09/08/how-to-evaluate-faculty/</guid>
      <description>&lt;p&gt;&amp;hellip;rate their departments.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://d808bmy3b6p21.cloudfront.net/wp-content/uploads/sites/50/2019/05/PSci-Tenure-guidelines-2020-21.pdf&#34;&gt;tenure guidelines&lt;/a&gt;
for the &lt;a href=&#34;https://secfac.wisc.edu/tenure/physical-sciences-divisional-committee/tenure-documents/&#34;&gt;Physical Sciences Division&lt;/a&gt;
at &lt;a href=&#34;http://www.wisc.edu&#34;&gt;UW-Madison&lt;/a&gt; include the following instructions (see section J-1 on page 12):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Provide a list of the five leading institutions for research (and outreach/extension activities) in the candidate&amp;rsquo;s discipline. The committee recognizes that the best work in the candidate&amp;rsquo;s specialty may not be carried out at the top ranked institutions in the broader discipline.  However, it will look for a balance of evaluations from referees at the leading institutions who can evaluate the research and its impact on the broader field, and from the leaders in the subfield if they are at different institutions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They use the ranking of a referee&amp;rsquo;s institution as an indication of his/her ability to evaluate the importance of a candidate&amp;rsquo;s work.&lt;/p&gt;
&lt;p&gt;This disgusts me.&lt;/p&gt;
&lt;p&gt;I like the analogy of measuring the importance of an academic paper by the &amp;ldquo;impact factor&amp;rdquo; of the journal in which it appeared, with measuring the quality of a researcher by the quality of his/her institution.  I thought the absurdity of the latter would, by association, make plain the absurdity of the former.  I hadn&amp;rsquo;t thought that the absurdity of the latter might be in question.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Practicing talks</title>
      <link>/2012/06/22/practicing-talks/</link>
      <pubDate>Fri, 22 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/06/22/practicing-talks/</guid>
      <description>&lt;p&gt;Clay Johnson, the author of &lt;a href=&#34;https://www.amazon.com/gp/product/1449304680&#34;&gt;The Information Diet&lt;/a&gt;, recently wrote about &lt;a href=&#34;https://lifehacker.com/5920033/how-to-prep-for-a-presentation&#34;&gt;how to prepare to give a presentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I was shocked.&lt;/p&gt;
&lt;p&gt;First, he says&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When I started writing my book, I knew that authors generally make more money from speaking than they do from royalties, so I wanted my talks on the Information Diet to be great.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I probably should have stopped there, since we clearly have completely different goals.  He wrote a book and is giving talks in order to make money?&lt;/p&gt;
&lt;p&gt;He goes on to suggest a course of preparation that involves an &lt;em&gt;enormous&lt;/em&gt; amount of practice.&lt;/p&gt;
&lt;p&gt;I guess stand-up comics do that, but me: I&amp;rsquo;ll flip through my slides and think through the tricky bits, but mostly I rely on experience and innate ability.&lt;/p&gt;
&lt;p&gt;In &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/giving_talks.pdf&#34;&gt;a talk I gave about giving talks&lt;/a&gt;, I mentioned that others have said to do 10 practice runs for every presentation.  But for me, my practice run is the time I gave the talk to a different group.  I can&amp;rsquo;t stand the sound of my voice, and I&amp;rsquo;m certainly not going to watch myself on video, not even &lt;a href=&#34;https://tinyurl.com/7ulrh6z&#34;&gt;this short one&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Mr. Johnson suggests having a test audience, in part to try out one&amp;rsquo;s jokes.  The intended humor in my talks is almost entirely spontaneous; if I have idea for a joke in advance, I will generally abandon it, as if I think about it too much it will just seem stupid.&lt;/p&gt;
&lt;p&gt;The main reason I don&amp;rsquo;t practice talks is that I don&amp;rsquo;t want to waste time; it would take a lot of practice to get just a bit of improvement, and I could spend that time writing or programming or looking at data.&lt;/p&gt;
&lt;p&gt;Also, I think if I give a talk too much, by practicing or otherwise, I&amp;rsquo;ll be less excited and interested in the material.  Without practice, I&amp;rsquo;m not so polished, but I&amp;rsquo;m more enthusiastic.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Learning a new language</title>
      <link>/2012/06/21/learning-a-new-language/</link>
      <pubDate>Thu, 21 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/06/21/learning-a-new-language/</guid>
      <description>&lt;p&gt;It had been a very long time since I&amp;rsquo;d tried to learn a new programming language. I started C in 1987, S in 1992, and Perl in 1997, but nothing really new in the subsequent 15 years.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://blog.thebird.nl/&#34;&gt;A friend&lt;/a&gt; now has me doing &lt;a href=&#34;http://dlang.org&#34;&gt;D&lt;/a&gt;, wanting to find time to learn &lt;a href=&#34;http://www.ruby-lang.org&#34;&gt;ruby&lt;/a&gt;, and, most recently, playing with &lt;a href=&#34;https://developer.mozilla.org/en/JavaScript/Reference&#34;&gt;JavaScript&lt;/a&gt; and &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m really excited about &lt;a href=&#34;https://d3js.org&#34;&gt;D3&lt;/a&gt;. It&amp;rsquo;s long past time for dynamic, interactive graphics to be routine. And with D3, I think it can be.&lt;/p&gt;
&lt;p&gt;The object-oriented stuff is most foreign to me.  When your programming skills are stuck in the early 90s, there&amp;rsquo;s a lot to catch up on.  It&amp;rsquo;s hard to adapt to a new way of thinking.  But I&amp;rsquo;ve used &amp;ldquo;&lt;code&gt;this&lt;/code&gt;&amp;rdquo; a couple of times, which makes me feel quite accomplished.&lt;/p&gt;
&lt;p&gt;The hardest part has been slowing myself down; I&amp;rsquo;m too impatient. It&amp;rsquo;s critical to have a challenging problem for motivation, but I tend to want to jump into complicated things when I should be a bit more methodical.&lt;/p&gt;
&lt;p&gt;I want to make things like &lt;a href=&#34;https://mbostock.github.com/d3/talk/20111018/collision.html&#34;&gt;this&lt;/a&gt;. (I don&amp;rsquo;t really see a use for it yet, but it&amp;rsquo;s fun.)  So I start mucking about with code that I don&amp;rsquo;t yet understand and end up going nowhere for hours.&lt;/p&gt;
&lt;p&gt;The important thing is that I&amp;rsquo;m having fun; eventually I&amp;rsquo;ll be able to usefully apply some new skills.  For now I&amp;rsquo;ve got this: [&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_curve.html&#34;&gt;Click&lt;/a&gt; for the dynamic version.]&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/D3/lod_curve.html&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/06/lod_curve1.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;PS: I really like &lt;a href=&#34;http://alignedleft.com/tutorials/d3/&#34;&gt;Scott Murray&amp;rsquo;s tutorials on D3&lt;/a&gt;. After working through those, &lt;a href=&#34;https://github.com/mbostock/d3/wiki/Tutorials&#34;&gt;other tutorials&lt;/a&gt; became much more understandable.  &lt;a href=&#34;http://eloquentjavascript.net/&#34;&gt;Eloquent JavaScript&lt;/a&gt; is a super-cool, open source, interactive text on JavaScript; also take a look at the &amp;ldquo;fork&amp;rdquo; for &lt;a href=&#34;https://coffeescript.org/&#34;&gt;CoffeeScript&lt;/a&gt;, &lt;a href=&#34;http://autotelicum.github.com/Smooth-CoffeeScript/&#34;&gt;Smooth CoffeeScript&lt;/a&gt;.  (I&amp;rsquo;m thinking I&amp;rsquo;ll switch to CoffeeScript once I&amp;rsquo;ve learned a bit of JavaScript; the useful libraries and examples are mostly in JavaScript.)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A course in statistical programming</title>
      <link>/2012/05/25/a-course-in-statistical-programming/</link>
      <pubDate>Fri, 25 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/25/a-course-in-statistical-programming/</guid>
      <description>&lt;p&gt;Graduate students in statistics often take (or at least have the opportunity to take) a statistical computing course, but often such courses are focused on methods (like numerical linear algebra, the EM algorithm, and MCMC) and not on actual coding.&lt;/p&gt;
&lt;p&gt;For example, &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/teaching/statcomp/index.html&#34;&gt;here&amp;rsquo;s a course in &amp;ldquo;advanced statistical computing&amp;rdquo;&lt;/a&gt; that I taught at &lt;a href=&#34;https://www.biostat.jhsph.edu&#34;&gt;Johns Hopkins&lt;/a&gt; back in 2001.&lt;/p&gt;
&lt;p&gt;Many (perhaps most) good programmers learned to code outside of formal courses.  But many statisticians are terrible programmers and would benefit by a formal course.&lt;/p&gt;
&lt;p&gt;Moreover, applied statisticians spend the vast majority of their time interacting with a computer and would likely benefit from more formal presentations of how to do it well.  And I think this sort of training is particularly important for ensuring that &lt;a href=&#34;https://groups.google.com/forum/?fromgroups#!forum/reproducible-research&#34;&gt;research is reproducible&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;One really learns to code in private, struggling over problems, but I benefited enormously from a statistical computing course I took from &lt;a href=&#34;http://www.stat.berkeley.edu/~spector/&#34;&gt;Phil Spector&lt;/a&gt; at &lt;a href=&#34;http://www.stat.berkeley.edu&#34;&gt;Berkeley&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.biostat.jhsph.edu/~bcaffo&#34;&gt;Brian Caffo&lt;/a&gt;, &lt;a href=&#34;http://www.biostat.jhsph.edu/~iruczins/&#34;&gt;Ingo Ruczinski&lt;/a&gt;, &lt;a href=&#34;http://www.biostat.jhsph.edu/~rpeng&#34;&gt;Roger Peng&lt;/a&gt;, &lt;a href=&#34;http://www.biostat.jhsph.edu/~ririzarr/&#34;&gt;Rafael Irizarry&lt;/a&gt;, and &lt;a href=&#34;https://kbroman.org&#34;&gt;I&lt;/a&gt; developed a &lt;a href=&#34;http://www.biostat.jhsph.edu/~bcaffo/statcomp/&#34;&gt;statistical programming course&lt;/a&gt; at Hopkins that (I think) really did the job.&lt;/p&gt;
&lt;p&gt;I would like to develop a similar such course at &lt;a href=&#34;https://www.biostat.wisc.edu&#34;&gt;Wisconsin&lt;/a&gt;: on statistical programming, in the most general sense.&lt;/p&gt;
&lt;p&gt;I have in mind several basic principles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;be self-sufficient&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;get the right answer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;document what you did (so that you will understand what you did 6 months later)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;if primary data change, be able to re-run the analysis without a lot of work&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;are your simulation results reproducible?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reuse of code (others&#39; and your own) rather than starting from scratch every time&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;make methods accessible to (and used by) others&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here are my current thoughts about the topics to include in such a course.  The key aim would be to make students aware of the basic principles and issues: to give them a good base from which to learn on their own.  Homework would include interesting and realistic programming assignments plus create a Sweave-type document and an R package.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Basic unix tools (find; df; top; ps ux; grep); unix on Mac and windows&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Emacs/vim/other editors (rstudio/eclipse)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Latex (for papers; for presentations)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;slides for talks; posters; figures/tables&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Advanced R (fancy data structures; functions; object-oriented stuff)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Advanced R graphics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R packages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sweave/asciidoc/knitr&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;minimal Perl (or Python or Ruby); example of data manipulation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Minimal C (or C++); examples of speed-up&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;version control (eg git or mercurial); backups&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reproducible research ideas&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;data management&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;managing projects: data, analyses, results, papers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;programming style (readable, modular); general but not too general&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;debugging/profiling/testing&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;high-throughput computing; parallel computing; managing big jobs&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;finding answers to questions: man pages; documentation; web&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;more on visualization; dynamic graphics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;making a web page; html &amp;amp; css; simple cgi-type web forms?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;writing and managing email&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;managing references to journal articles&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Police</title>
      <link>/2012/05/24/police/</link>
      <pubDate>Thu, 24 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/24/police/</guid>
      <description>&lt;p&gt;The other day, I was sitting on campus, in the woods overlooking Lake Mendota, reading a journal article, and a campus police officer came up to me.&lt;/p&gt;
&lt;p&gt;The conversation went something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Police&lt;/em&gt;: What&amp;rsquo;s going on?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Me&lt;/em&gt;: I&amp;rsquo;m enjoying the day.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Police&lt;/em&gt;: Are you staff?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Me&lt;/em&gt;: I&amp;rsquo;m faculty.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Police&lt;/em&gt;: I&amp;rsquo;m enjoying the day, too.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And then he walked off.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not sure who was more suspicious, him of me or me of him.  Perhaps he was thinking through the &lt;a href=&#34;http://individual.utoronto.ca/somody/quiz.html&#34;&gt;Prof or Hobo&lt;/a&gt; quiz.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What should I do badly?</title>
      <link>/2012/05/23/what-should-i-do-badly/</link>
      <pubDate>Wed, 23 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/23/what-should-i-do-badly/</guid>
      <description>&lt;p&gt;One of the more painful things to learn as a faculty member is to accept that you will do some things badly.  There are too many things to do, so you can&amp;rsquo;t do them all well.  What should you do badly?&lt;/p&gt;
&lt;p&gt;As an undergraduate, the scope of work is reasonably precisely defined, and problem sets have relatively simple solutions.  I  finished things on time or even early, and I seldom felt guilty for not studying.&lt;/p&gt;
&lt;p&gt;In the first year of graduate school, problem sets are much harder, but they still all have solutions.  That there must be a short solution to every problem on an exam is generally the most important thing to recognize in attempting to solve them.&lt;/p&gt;
&lt;p&gt;Later in graduate school, identifying a solvable problem becomes part of the research effort, but you can focus all of your effort on that work and so do everything well.  For me, there was little need for time management, since I had loads of time.&lt;/p&gt;
&lt;p&gt;Even as a postdoc, when I&amp;rsquo;d started to do many more things at once, I still had few responsibilities aside from my own work, and so I could do everything well.  And basically what you need to get done is just defined as what you actually get done.&lt;/p&gt;
&lt;p&gt;Faculty life is quite a bit different.  I&amp;rsquo;m making real commitments to people.  And then there&amp;rsquo;s teaching, and reviews of papers and grants, and committees, and letters of recommendation or evaluation.  My personal research efforts often are pushed aside in favor of rush-rush collaborative work.  Or I&amp;rsquo;ll spend weeks doing little but read and comment on others&#39; work.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s just too much to do and not enough time to do it as well as you&amp;rsquo;d like.&lt;/p&gt;
&lt;h3 id=&#34;so-what-should-i-do-badly&#34;&gt;So, what should I do badly?&lt;/h3&gt;
&lt;p&gt;Well, definitely not &lt;a href=&#34;https://kbroman.org/pubs.html&#34;&gt;my own research papers&lt;/a&gt;; those will outlast me.  Maybe some day someone will read them.  Similarly, not &lt;a href=&#34;https://kbroman.org/talks.html&#34;&gt;seminars I give&lt;/a&gt;, as through such research talks, I may gain a reader.  I suppose family, health, and sleep should be mentioned here.  And biking.&lt;/p&gt;
&lt;p&gt;So:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Committee work.  If someone says, &amp;ldquo;I enjoyed reading the report you wrote&amp;rdquo;, you&amp;rsquo;ve clearly been focusing on the wrong things.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reviews of papers.  Sure, I want to help out the authors, but I can&amp;rsquo;t be doing their research for them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Teaching.  If you try to do your best, you&amp;rsquo;ll do nothing else.  The students may notice the difference between just dusting off last year&amp;rsquo;s notes and actually preparing (and fixing past mistakes), but will they really learn much more in the latter case?  To learn, they must struggle a bit, e.g., through the errors in my notes.  Is that just a rationalization?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reviews of grants.  Someone&amp;rsquo;s livelihood is at stake, but does it really matter if the text of my review is awkwardly phrased?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;My own grant.  Some of my colleagues will start writing a grant months in advance.  I say: if you start months in advance, then you&amp;rsquo;re going to spend months on the thing!  You should start as late as possible.  A perfect score on a grant is an indication that you spent too much time on it.  The best grant score is the worst possible that still gets funded.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As I said, it&amp;rsquo;s painful to do things that you know are crap (i.e., could be much better).  It&amp;rsquo;s hard to  accept one&amp;rsquo;s limitations.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Should I be nice?</title>
      <link>/2012/05/18/should-i-be-nice/</link>
      <pubDate>Fri, 18 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/18/should-i-be-nice/</guid>
      <description>&lt;p&gt;I got the following email.&lt;/p&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;Subject: i have a question?
Date: May 18, 2012 7:57:56 AM CDT

how can i enter the data of QTL analysis.
&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;
&lt;p&gt;That was the whole thing.&lt;/p&gt;
&lt;p&gt;I presume that the writer wishes to use my &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt; software.&lt;/p&gt;
&lt;p&gt;I could probably respond helpfully (for example, “See the &lt;a href=&#34;https://rqtl.org/sampledata&#34;&gt;sample data files and code&lt;/a&gt; at the R/qtl web site.”), but can&amp;rsquo;t I expect more from people seeking my help?&lt;/p&gt;
&lt;p&gt;I suppose there are three options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Just answer the inferred question.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Answer the inferred question, but in an offensive way.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ask the writer to provide further details.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I chose the third option, but I probably should have chosen the first.  &lt;a href=&#34;https://www.stats.ox.ac.uk/~ripley/&#34;&gt;A fabulously useful person who I greatly admire&lt;/a&gt; is well known for his use of the middle option.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;I responded&lt;/p&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;Your question is not answerable without further details.
&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;
&lt;p&gt;to which the correspondent replied&lt;/p&gt;
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;How can i analysis data the by RQTL?
&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;
&lt;p&gt;I responded with links to &lt;a href=&#34;https://rqtl.org/tutorials&#34;&gt;tutorials&lt;/a&gt;, &lt;a href=&#34;https://rqtl.org/sampledata&#34;&gt;sample data files&lt;/a&gt;, and &lt;a href=&#34;https://rqtl.org/book&#34;&gt;my book with Śaunak Sen&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Trees</title>
      <link>/2012/05/17/trees/</link>
      <pubDate>Thu, 17 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/17/trees/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m frequently picking pieces of paper up off the floor &amp;ndash; bits of the kids&#39; artwork.  Today I found one with this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/05/tree.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s actually mine, so I thought I&amp;rsquo;d share it.  Here&amp;rsquo;s a link to &lt;a href=&#34;https://kbroman.files.wordpress.com/2012/05/trees1.pdf&#34;&gt;the full page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;These scratchings are related to a bit of theory I&amp;rsquo;ve been working on (with &lt;a href=&#34;https://www.stat.wisc.edu/~ane&#34;&gt;considerable help&lt;/a&gt;), regarding phylogenetic trees.  It&amp;rsquo;s part of &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/phyloqtl_combined.pdf&#34;&gt;this paper&lt;/a&gt;, which I&amp;rsquo;m getting ready to re-submit.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Genetic testing of sperm donors</title>
      <link>/2012/05/16/genetic-testing-of-sperm-donors/</link>
      <pubDate>Wed, 16 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/16/genetic-testing-of-sperm-donors/</guid>
      <description>&lt;p&gt;A recent New York Times article &lt;a href=&#34;http://www.nytimes.com/2012/05/15/health/in-sperm-banks-a-matrix-of-untested-genetic-diseases.html&#34;&gt;discusses the potential need for genetic screening of sperm donors&lt;/a&gt;. A couple of points struck me as rather odd.&lt;/p&gt;
&lt;p&gt;One, the mention of fragile X syndrome, has been corrected:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An earlier version of this article erroneously included fragile X syndrome in a list of genetic diseases that have affected children conceived with donated sperm. (Although a sperm donor who is a carrier of the fragile X premutation may pass it along to his daughters, the disease, which affects twice as many boys as girls, is almost always inherited from the mother.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The other:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Sperm donors are no more likely to carry genetic diseases than anybody else, but they can father a far greater number of children: 50, 100 or even 150, each a potential inheritor of flawed genes, and each a vector for making those genes more pervasive in the general population.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But the frequency of offspring of sperm donors with genetic diseases would be the same whether there were many more donors with one child each or fewer donors with many children each, and so it&amp;rsquo;s not clear how sperm donors fathering many children is an argument for genetic testing, except that with fewer donors for the same number of offspring, one would not need to perform as many genetic tests, and so there would be a considerable cost savings.&lt;/p&gt;
&lt;p&gt;The article led with a story about a couple whose child, fathered by a sperm donor, has cystic fibrosis.  But the chance of that is the same whether or not the sperm came from a donor or in the usual way.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>No commuter bikes on sidewalk</title>
      <link>/2012/05/08/no-commuter-bikes-on-sidewalk/</link>
      <pubDate>Tue, 08 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/08/no-commuter-bikes-on-sidewalk/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m pretty sure you won&amp;rsquo;t find a street sign like this in Baltimore:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/05/bike_sign.jpg&#34; alt=&#34;&amp;ldquo;No commuter bikes on sidewalk&amp;rdquo;&#34;&gt;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s &lt;a href=&#34;https://g.co/maps/rwjdy&#34;&gt;on my usual commute&lt;/a&gt; to campus.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Boring us to submission</title>
      <link>/2012/05/07/boring-us-to-submission/</link>
      <pubDate>Mon, 07 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/07/boring-us-to-submission/</guid>
      <description>&lt;p&gt;The &lt;a href=&#34;https://www.wisc.edu&#34;&gt;University of Wisconsin-Madison&lt;/a&gt; has embarked on a big &lt;a href=&#34;https://www.hrdesign.wisc.edu&#34;&gt;human resources redesign&lt;/a&gt;.  I think the university administration has devised the ideal strategy to ensure little faculty input in the process: they&amp;rsquo;ve made it so dreadfully dull and full of business speak that we can&amp;rsquo;t bear to read through the material or show up to one of the many &amp;ldquo;engagement sessions&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;What reasonable faculty member would seek to attend an &amp;ldquo;engagement session&amp;rdquo;?&lt;/p&gt;
&lt;p&gt;And then there are diagrams like this:
&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/05/hrd_project_structure-1024x770.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;And stuff like this:
&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/05/hrd_vision.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;When they talk about market-based blah blah blah, my eyes glaze over and I want to take a nap.&lt;/p&gt;
&lt;p&gt;There was a great deal of discussion of this stuff at the &lt;a href=&#34;https://secfac.wisc.edu/governance/faculty-senate/&#34;&gt;faculty senate&lt;/a&gt; meeting today.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ci.education.wisc.edu/ci/people/faculty/noah-feinstein&#34;&gt;Noah Feinstein&lt;/a&gt; asked an important question: on what evidence are the &lt;a href=&#34;https://hrdesign.wisc.edu/work-team-draft-recommendations&#34;&gt;various recommendations&lt;/a&gt; based?  I&amp;rsquo;m pretty sure it involves a lot of exploding pie charts.&lt;/p&gt;
&lt;p&gt;Sara Goldrick-Rab made the most interesting point of the meeting: the market doesn&amp;rsquo;t reward good teaching. She has &lt;a href=&#34;https://eduoptimists.blogspot.com/2012/05/faculty-involvement-hr-design-at-uw.html&#34;&gt;much more to say&lt;/a&gt; at &lt;a href=&#34;https://eduoptimists.blogspot.com&#34;&gt;her blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That I&amp;rsquo;ve been introduced to &lt;a href=&#34;https://eduoptimists.blogspot.com&#34;&gt;Sara&amp;rsquo;s blog&lt;/a&gt; may be viewed as an early positive outcome of the process.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rob Tibshirani and Andy Clark named to NAS</title>
      <link>/2012/05/03/tibshirani-named-to-nas/</link>
      <pubDate>Thu, 03 May 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/05/03/tibshirani-named-to-nas/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www-stat.stanford.edu/~tibs/&#34;&gt;Rob Tibshirani&lt;/a&gt; and &lt;a href=&#34;http://mbg.cornell.edu/faculty-staff/faculty/clark.cfm&#34;&gt;Andy Clark&lt;/a&gt; are now &lt;a href=&#34;http://www.nasonline.org/news-and-multimedia/news/2012_05_01_NAS_Election.html&#34;&gt;members of the National Academy of Sciences&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Positive comments on peer review</title>
      <link>/2012/04/27/positive-comments-on-peer-review/</link>
      <pubDate>Fri, 27 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/04/27/positive-comments-on-peer-review/</guid>
      <description>&lt;p&gt;We all complain about peer review, particularly when &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/inversion.pdf&#34;&gt;our best work&lt;/a&gt; is rejected by every journal from Nature Genetics down to &lt;a href=&#34;https://www.biomedcentral.com/bmcgenet&#34;&gt;that journal that will publish anything&lt;/a&gt;, so that it finally appears in &lt;a href=&#34;https://projecteuclid.org/euclid.lnms/1215091126&#34;&gt;a volume&lt;/a&gt; to honor &lt;a href=&#34;https://www.stat.berkeley.edu/~terry/&#34;&gt;some guy&lt;/a&gt; that &lt;a href=&#34;https://kbroman.files.wordpress.com/2012/04/terry2.jpg&#34;&gt;only he will read&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, sometimes &lt;a href=&#34;https://medicine.yale.edu/ysph/people/hongyu_zhao.profile&#34;&gt;an anonymous reviewer&lt;/a&gt; will identify an important flaw in &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/interfer.pdf&#34;&gt;a paper&lt;/a&gt; that you can fix before it&amp;rsquo;s published, thus saving you from potential public embarrassment.&lt;/p&gt;
&lt;p&gt;That happened to me again today.  I finally got the reviews back for &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/phyloqtl_combined.pdf&#34;&gt;a paper&lt;/a&gt;, eight weeks after it was submitted.  I had become a bit impatient, but one of the reviewers identified a hole in our theory section, which we can now fix before publication (I think &lt;a href=&#34;https://www.stat.wisc.edu/~ane/&#34;&gt;we&lt;/a&gt; figured it out this afternoon), thus avoiding public embarrassment, except for the fact that I&amp;rsquo;m currently pointing it out publicly.&lt;/p&gt;
&lt;p&gt;Complaints about the peer review process are not unlike a common complaint about statisticians: that we are a barrier to scientists publishing what they know to be true.  That is sometimes the case, but at other times, both reviewers and statisticians can help you to avoid embarrassing yourself.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Microarrays suck</title>
      <link>/2012/04/25/microarrays-suck/</link>
      <pubDate>Wed, 25 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/04/25/microarrays-suck/</guid>
      <description>&lt;p&gt;Maybe it&amp;rsquo;s just that I&amp;rsquo;m stupid and haven&amp;rsquo;t been paying proper attention to &lt;a href=&#34;https://rafalab.github.io/&#34;&gt;Rafa&amp;rsquo;s work&lt;/a&gt; in the past decade, but microarray data have really been kicking my ass the last few weeks.  Here are a few of the lessons that I&amp;rsquo;ve re-learned.&lt;/p&gt;
&lt;h3 id=&#34;lesson-1-what-the-hell-is-that&#34;&gt;Lesson 1: What the hell is that?&lt;/h3&gt;
&lt;p&gt;Many (or all) of my interesting findings have been completely fortuitous results of exploring apparent artifacts in data (&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/autozyg.pdf&#34;&gt;autozygosity in the CEPH families&lt;/a&gt;, &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/inversion.pdf&#34;&gt;a large, common human inversion polymorphism&lt;/a&gt;, and most recently &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/enar2012.pdf&#34;&gt;sample mixups&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;A couple of weeks ago, I was working on writing up a paper, and saw an unusual plot, and thought, &amp;ldquo;Hmm, that&amp;rsquo;s interesting,&amp;rdquo; and so I made some more plots.  And then I saw this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/weird_correlation_matrix1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is an image of the correlations between samples, across genes, for a study with 500 microarrays on each of 6 tissues.  The samples are sorted by sex (female on bottom left; male on top right) and then by ID.  I was initially puzzling over the sex difference in other tissues (same-sex pairs are positively correlated; opposite-sex pairs are negatively correlated), but when I saw this tissue, I was struck by the plaid pattern.&lt;/p&gt;
&lt;p&gt;Following up on this, it seems that the plaid pattern is the result of a set of bad arrays that should have been but hadn&amp;rsquo;t been detected before.&lt;/p&gt;
&lt;h3 id=&#34;lesson-2-look&#34;&gt;Lesson 2: Look&lt;/h3&gt;
&lt;p&gt;Of course, I wouldn&amp;rsquo;t have found this array problem if I hadn&amp;rsquo;t looked.  And in my several years working on this project, I hadn&amp;rsquo;t looked.&lt;/p&gt;
&lt;p&gt;I was overwhelmed by the 500 microarrays × 6 tissues × 40,000 probes, and so didn&amp;rsquo;t make the sorts of plots that I should have.&lt;/p&gt;
&lt;p&gt;Plus, this is the first real microarray project I&amp;rsquo;ve been involved in, and I haven&amp;rsquo;t known what to look for.  (I should have looked at images of correlation matrices with arrays sorted by similarity as determined from hierarchical clustering.)&lt;/p&gt;
&lt;p&gt;You can&amp;rsquo;t make 3000 choose 2 scatterplots, but you can look at summaries of the marginal distributions of the 3000 arrays.  I was thinking about how to depict 500 box plots, and came up with this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/many_boxplots.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;There are ~500 arrays here, with the lines indicating quantiles: 1, 5, 10, 25, 50, 75, 90, 95, 99%iles.  The first batch of arrays are the bad ones.  You can see that those have a shift upward in median but also a heavy lower tail.&lt;/p&gt;
&lt;p&gt;I quite like the picture.&lt;/p&gt;
&lt;p&gt;The code is available within my &lt;a href=&#34;https://github.com/kbroman/broman&#34;&gt;R/broman&lt;/a&gt; package on &lt;a href=&#34;https://github.com&#34;&gt;github&lt;/a&gt;, though there&amp;rsquo;s not much to it.&lt;/p&gt;
&lt;h3 id=&#34;lesson-3-dont-trust-anyone&#34;&gt;Lesson 3: Don&amp;rsquo;t trust anyone&lt;/h3&gt;
&lt;p&gt;Don&amp;rsquo;t even trust yourself.&lt;/p&gt;
&lt;p&gt;I relied on others to do the data cleaning.  I should have checked things more carefully.&lt;/p&gt;
&lt;p&gt;I looked at the data quite closely a year or so ago and detected sample mix-ups.  In correcting those mistakes, I spent a lot of time looking at the array data and trying to identify bad arrays.  Clearly I didn&amp;rsquo;t look closely enough, or I just looked at the wrong things.&lt;/p&gt;
&lt;h3 id=&#34;lesson-4-take-your-time&#34;&gt;Lesson 4: Take your time&lt;/h3&gt;
&lt;p&gt;Scientists are under a lot of pressure to produce and often are not exploring data as thoroughly as the data deserve.&lt;/p&gt;
&lt;p&gt;But if you rush through data diagnostics, you could embarrass yourself later.&lt;/p&gt;
&lt;p&gt;More importantly, take the time to follow up on apparent artifacts.  For me, the unintended analyses are more interesting than the planned ones.&lt;/p&gt;
&lt;h3 id=&#34;my-basic-strategy-for-data-diagnostics&#34;&gt;My basic strategy for data diagnostics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Expect errors&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Think about what might have gone wrong and how such problems might be revealed&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make lots of specially-tailored plots&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a (potentially informal) pipeline of all of the useful diagnostics you&amp;rsquo;ve used in the past&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make more plots just because you think they might interesting&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If something looks odd, figure out why&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>ENAR 2012</title>
      <link>/2012/04/18/enar-2012/</link>
      <pubDate>Wed, 18 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/04/18/enar-2012/</guid>
      <description>&lt;p&gt;The annual &lt;a href=&#34;http://www.enar.org/meetings&#34;&gt;ENAR meeting&lt;/a&gt; (&lt;a href=&#34;http://www.enar.org/&#34;&gt;eastern North America portion&lt;/a&gt; of International Biometric Society) was a few weeks ago in Washington, DC. It was great to see &lt;a href=&#34;http://biostat.jhsph.edu&#34;&gt;old friends&lt;/a&gt;, and I learned a number of things outside of the sessions, but mostly I was annoyed by the meeting.&lt;/p&gt;
&lt;h3 id=&#34;ways-to-annoy-me&#34;&gt;Ways to annoy me&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Distorted aspect ratios: I&amp;rsquo;m often seeing LCD projectors set up in wide format, stretching a presentation that was developed in the old 4:3 style. Is it not obvious that preserving the aspect ratio is more important than filling the screen?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;This is especially bad with photographs:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/davidian.jpg&#34; alt=&#34;&#34;&gt;  &lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/davidian_stretch.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It also makes fonts ugly:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/davidian_slide.png&#34; alt=&#34;&#34;&gt; &lt;img src=&#34;https://kbroman.files.wordpress.com/2012/04/davidian_slide_stretch.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Outlines for talks (especially 15 min talks): If you have only 15 min, don&amp;rsquo;t waste any time telling us what you&amp;rsquo;re going to be telling us; just tell us.  And even if you&amp;rsquo;ve got 45 min, I find the &amp;ldquo;Background, Methods, Simulations, Application, Discussion&amp;rdquo; outline totally useless, and anything more complicated than that seldom makes sense until the speaker is part way through the talk.  Why try to explain terminology before you&amp;rsquo;ve gotten to the background section?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&amp;ldquo;I&amp;rsquo;m running out of time so I&amp;rsquo;m going to skip the real data analysis and go quickly through some asymptotic results.&amp;rdquo;  Someone actually said that.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Opening night poster session (and for three hours!): It actually seemed to be working, but I sure wouldn&amp;rsquo;t want to be standing next to a poster from 8-11pm.  I would prefer:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;posters available to look at throughout the meeting&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;multiple poster sessions (so presenters have some opportunity to talk to each other)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nothing happening at the time of a poster session&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dull talks by famous people: (I&amp;rsquo;m not talking about &lt;em&gt;you&lt;/em&gt;, fine reader, but the other famous people.)  Biology meetings will have a few invited speakers but the bulk of the talks will be chosen based on submitted abstracts.  Statistics meetings seem more often arranged to have people submit proposals for full sessions, with a slate of pre-selected speakers, and it is those sessions that are reviewed.  That seems the perfect design if you want crappy talks by famous people.  Perhaps I&amp;rsquo;m annoyed only because I&amp;rsquo;m a non-famous person who can give a good talk.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>as.character() for rownames()</title>
      <link>/2012/03/22/as-character-for-rownames/</link>
      <pubDate>Thu, 22 Mar 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/03/22/as-character-for-rownames/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://kbroman.org/blog/2012/03/21/row-names-in-data-frames-beware-of-1nrow/#comment-330&#34;&gt;Rainer pointed out&lt;/a&gt;, in response to my post, &lt;a href=&#34;https://kbroman.org/blog/2012/03/21/row-names-in-data-frames-beware-of-1nrow/&#34;&gt;Row names in data frames: Beware of 1:nrow&lt;/a&gt;, that if I&amp;rsquo;d used &lt;code&gt;rownames(x) &amp;lt;- as.character(1:3)&lt;/code&gt; rather than &lt;code&gt;rownames(x) &amp;lt;- 1:3&lt;/code&gt;, I wouldn&amp;rsquo;t have had the problem I&amp;rsquo;d seen.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; z &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(x) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(y) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;LETTERS&lt;/span&gt;[4&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(z) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.character&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbind&lt;/span&gt;(y,x)
  id
D  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
E  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
F  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbind&lt;/span&gt;(y,z)
  id
D  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
E  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
F  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you type &lt;code&gt;rownames(x)&lt;/code&gt; you see the same result as &lt;code&gt;rownames(z)&lt;/code&gt;, and &lt;code&gt;is.character(rownames(x))&lt;/code&gt; and &lt;code&gt;is.character(rownames(z))&lt;/code&gt; both return TRUE, but if you look at the &lt;code&gt;&amp;quot;row.names&amp;quot;&lt;/code&gt; attribute directly, you see they are different.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(x)
[1] &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(z)
[1] &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is.character&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(x))
[1] &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is.character&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(z))
[1] &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(x, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;row.names&amp;#34;&lt;/span&gt;)
[1] &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(z, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;row.names&amp;#34;&lt;/span&gt;)
[1] &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But why is &lt;code&gt;1:3&lt;/code&gt; treated so differently from &lt;code&gt;2:4&lt;/code&gt;?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; w &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(w) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;attr&lt;/span&gt;(w, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;row.names&amp;#34;&lt;/span&gt;)
[1] &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;rbind&lt;/span&gt;(y,w))
[1] &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;D&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;E&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;F&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Row names in data frames: beware of 1:nrow</title>
      <link>/2012/03/21/row-names-in-data-frames-beware-of-1nrow/</link>
      <pubDate>Wed, 21 Mar 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/03/21/row-names-in-data-frames-beware-of-1nrow/</guid>
      <description>&lt;p&gt;I spent some time puzzling over row names in data frames in R this morning. It seems that if you make the row names for a data frame, &lt;code&gt;x&lt;/code&gt;, as &lt;code&gt;1:nrow(x)&lt;/code&gt;, R will act as if you&amp;rsquo;d not assigned row names, and the names might get changed when you do &lt;code&gt;rbind&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an illustration:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; y &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(x) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rownames&lt;/span&gt;(y) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;LETTERS&lt;/span&gt;[4&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbind&lt;/span&gt;(x,y)
  id
&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
D  &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
E  &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
F  &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbind&lt;/span&gt;(y,x)
  id
D  &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
E  &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
F  &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see, if you give &lt;code&gt;x&lt;/code&gt; the row names &lt;code&gt;1:3&lt;/code&gt;, these are treated as generic row numbers and could get changed following &lt;code&gt;rbind&lt;/code&gt; if they end up in different rows.  This doesn&amp;rsquo;t happen if &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; are matrices.&lt;/p&gt;
&lt;p&gt;I often use row names as identifiers, so it seems I must be cautious to use something other than row numbers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>UW-Madison news item about Elsevier boycott</title>
      <link>/2012/02/21/uw-madison-news-item-about-elsevier-boycott/</link>
      <pubDate>Tue, 21 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/21/uw-madison-news-item-about-elsevier-boycott/</guid>
      <description>&lt;p&gt;There&amp;rsquo;s &lt;a href=&#34;http://www.news.wisc.edu/20348&#34;&gt;an article&lt;/a&gt; in the UW-Madison newsletter about the Elsevier boycott.  I&amp;rsquo;m quoted as follows:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;The main issue is that scientists want their papers to be read and available, and not just to scientists at well-funded universities. We are spending, collectively, a good amount of money that goes toward profit for these journal companies, and that could be redirected.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;At this point, Broman says scientists are in control. Although Elsevier is a giant among publishers,  &amp;ldquo;Authors have complete control over where they decide to send their papers. If one day, everybody decides not to send to Elsevier, but to open access journals instead, it would be done.&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Collaborative Cross papers</title>
      <link>/2012/02/16/collaborative-cross-papers/</link>
      <pubDate>Thu, 16 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/16/collaborative-cross-papers/</guid>
      <description>&lt;p&gt;A batch of 15 papers on the mouse Collaborative Cross appeared in &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; and &lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt; today, including two of my own:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Broman KW (2012) &lt;a href=&#34;https://doi.org/10.1534/genetics.111.132647&#34;&gt;Genotype probabilities at intermediate generations in the construction of recombinant inbred lines&lt;/a&gt;. &lt;em&gt;Genetics&lt;/em&gt; 190:403-412&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Broman KW (2012) &lt;a href=&#34;https://doi.org/10.1534/g3.111.001818&#34;&gt;Haplotype probabilities in advanced intercross populations&lt;/a&gt;. &lt;em&gt;G3&lt;/em&gt; 2:199-202&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>I just refused an Elsevier review</title>
      <link>/2012/02/10/i-just-refused-an-elsevier-review/</link>
      <pubDate>Fri, 10 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/10/i-just-refused-an-elsevier-review/</guid>
      <description>&lt;p&gt;This afternoon I refused a request from the American Journal of Human Genetics to review a paper, though the abstract was extremely interesting.  AJHG is published by Elsevier, and I&amp;rsquo;d signed the declaration at &lt;a href=&#34;http://thecostofknowledge.com&#34;&gt;http://thecostofknowledge.com&lt;/a&gt; to not publish or review for Elsevier journals.  If only AJHG were still with the University of Chicago Press&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.michaeleisen.org/blog/?p=890&#34;&gt;Michael Eisen recently wrote&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The boycott isn&amp;rsquo;t perfect. I wish they hadn&amp;rsquo;t focused exclusively on Elsevier – they are hardly the only bad actors in the field. And it&amp;rsquo;s crucial that the focus be on papers. Nobody views turning down invitations to review to be a big sacrifice – and publishers will just find someone else. Same thing with editors. But papers are their lifeblood.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I agree with him.  It&amp;rsquo;s easy to turn down a review. (I do so several times a week.)&lt;/p&gt;
&lt;p&gt;And so I was feeling quite unsure about turning down the review, but also unsure about breaking the pledge regarding Elsevier.  Nevertheless, I came down on the side of the pledge, and responded to AJHG with the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It sounds like an interesting paper, but&amp;hellip;&lt;/p&gt;
&lt;p&gt;I recently signed a public declaration to not publish or review for
Elsevier journals &lt;a href=&#34;http://thecostofknowledge.com&#34;&gt;http://thecostofknowledge.com&lt;/a&gt;.  I noticed at the time that Am J Hum Genet was published by Elsevier (if only it were still at U Chicago Press), which could be a problem.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m having second thoughts (especially in that refusing a review for this reason seems too easy&amp;hellip;I say no to review requests almost every day), but for now I&amp;rsquo;m sticking to my promise.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m not sure whether it was the right decision.&lt;/p&gt;
&lt;p&gt;I think the most important thing for me to do is to work to get &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; to become open-access, or at least encourage  discussion along those lines at the &lt;a href=&#34;https://www.genetics-gsa.org&#34;&gt;Genetics Society of America&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>James Crow</title>
      <link>/2012/02/06/james-crow/</link>
      <pubDate>Mon, 06 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/06/james-crow/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/02/jimcrow.jpeg&#34; alt=&#34;&#34;&gt; &lt;a href=&#34;https://en.wikipedia.org/wiki/James_F._Crow&#34;&gt;James Crow&lt;/a&gt; died a few weeks ago. He had definitely slowed down physically over the last few years (though not at all mentally!), but still it was a shock, and I&amp;rsquo;m sad to think that I won&amp;rsquo;t talk to him again. Jim was &lt;em&gt;the nicest person I&amp;rsquo;ve met&lt;/em&gt; . It&amp;rsquo;s been a privilege to get to know him in my time in Madison. His enthusiasm for my work was flattering and uplifting.&lt;/p&gt;
&lt;p&gt;There have been a number of obituaries: &lt;a href=&#34;https://www.nytimes.com/2012/01/11/science/james-f-crow-population-genetics-pioneer-dies-at-95.html&#34;&gt;New York Times&lt;/a&gt;, &lt;a href=&#34;https://www.nature.com/nature/journal/v481/n7382/full/481444a.html&#34;&gt;Nature&lt;/a&gt;, &lt;a href=&#34;https://doi.org/10.1534/genetics.112.138610&#34;&gt;Genetics&lt;/a&gt;. Also see &lt;a href=&#34;https://whyevolutionistrue.wordpress.com/2012/01/05/jim-crow-died/&#34;&gt;Jerry Coyne&amp;rsquo;s comments&lt;/a&gt;.  The one in Nature, by &lt;a href=&#34;https://en.wikipedia.org/wiki/Alexey_Kondrashov&#34;&gt;Alexey Kondrashov&lt;/a&gt;, is my favorite: it really captures his humor. Here are a couple of quotes from the final paragraph:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When asked about his religious views, he always cheerfully replied that the Bible is &amp;ldquo;important if true&amp;rdquo;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Crow also explained to an insistent advocate of a healthy lifestyle that exercise prolongs life only by as much time as one spends exercising, so he did not see a point in it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Another of Jim&amp;rsquo;s jokes: at the end of his recent talks, on the standard acknowledgement slide, he thanked the Social Security Administration for its financial support.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; is also publishing a series of commentaries on Jim&amp;rsquo;s life and work, commissioned to celebrate his 95th birthday. Dan Hartl &lt;a href=&#34;https://doi.org/10.1534/genetics.111.135160&#34;&gt;wrote about his teaching&lt;/a&gt;; Seymour Abrahamson &lt;a href=&#34;https://doi.org/10.1534/genetics.111.135186&#34;&gt;wrote about his public service&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Last summer, I sent him a couple of papers that I was writing. In response to, &amp;ldquo;I think you&amp;rsquo;ll find this interesting,&amp;rdquo; he said, &amp;ldquo;You are right. I did find it interesting.&amp;rdquo; He also wrote, &amp;ldquo;This is a masterful paper.&amp;rdquo; And later, &amp;ldquo;While I am writing let me mention something I forgot to say yesterday.  Your diagrams are very neat and very useful, both the chromosomes and the dominos.  The latter are particularly useful.  One picture is worth many words in this case.&amp;rdquo; I cherish those comments.&lt;/p&gt;
&lt;p&gt;The dominos he&amp;rsquo;s referring to are in the 20+ supplemental tables to one of the papers. Here&amp;rsquo;s an example:
&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/02/dominos.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;In August, I sat with Jim in his office, discussing the two papers. I asked him for advice on how to maintain a balanced life, referring particularly to my obsession, over several weeks, with the calculations in those papers. He did not offer any advice, but expressed that he had also experienced such intense periods of concentration and obsession about a problem, with a mixture of pleasure and pain, though in hindsight mostly pleasure.&lt;/p&gt;
&lt;p&gt;A few years ago, I gave a talk in the &lt;a href=&#34;https://www.evolution.wisc.edu/&#34;&gt;Evolution seminar series&lt;/a&gt;. Jim wasn&amp;rsquo;t able to attend, but later he mentioned that he enjoyed listening to the recording of my talk, though it was a bit hard to follow without the visuals. To think of Jim sitting at a computer listening to me speak without access to the slides&amp;hellip;&lt;/p&gt;
&lt;p&gt;I wish I could be more like him. In particular, I wish I paid as much attention to others&#39; work, and to science generally, as I do to my own work.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://www.genetics.wisc.edu&#34;&gt;Laboratory of Genetics&lt;/a&gt; at UW-Madison is raising money for a &lt;a href=&#34;https://genetics.wisc.edu/donations/&#34;&gt;James F. Crow Endowed Professorship&lt;/a&gt;. Consider &lt;a href=&#34;https://www.supportuw.org/giving?seq=6949&#34;&gt;making a donation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2012/02/jimcrow.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>I hate reading other people&#39;s code</title>
      <link>/2012/02/03/i-hate-reading-other-peoples-code/</link>
      <pubDate>Fri, 03 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/03/i-hate-reading-other-peoples-code/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://abstrusegoose.com/strips/you_down_wit_OPC-yeah_you_know_me.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;From &lt;a href=&#34;https://abstrusegoose.com/432&#34;&gt;Abstruse Goose&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>More on open access</title>
      <link>/2012/02/03/more-on-open-access/</link>
      <pubDate>Fri, 03 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/03/more-on-open-access/</guid>
      <description>&lt;p&gt;I am quite persuaded by &lt;a href=&#34;http://www.michaeleisen.org/blog/?p=890&#34;&gt;Michael Eisen&amp;rsquo;s recent comments on open access&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;it is simply unacceptable for any scientist who decries Elsevier&amp;rsquo;s actions and believes that the subscription based model is no longer serving science to send a single additional paper to journals that do not provide full OA [open access] to every paper they publish.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But how can I do that if &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; isn&amp;rsquo;t fully open?  Genetics charges an extra $1200 to make an article open access.  Would it really cost $1200 per article to make the journal fully open?&lt;/p&gt;
&lt;p&gt;Another follow-up to &lt;a href=&#34;https://kbroman.org/blog/2012/02/02/paying-for-scholarly-publications/&#34;&gt;my comments yesterday&lt;/a&gt;: I had suggested that copyright law might be changed to make papers coming from federal research grants fully open.  I later found an interesting paper in the &lt;a href=&#34;https://jla.oxfordjournals.org&#34;&gt;Journal of Legal Analysis&lt;/a&gt;, &lt;a href=&#34;https://jla.oxfordjournals.org/content/2/1/301.abstract&#34;&gt;Should copyright of academic works be abolished?&lt;/a&gt;  The author concludes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;if publication fees would be largely defrayed by universities and grantors, as I suggest would be to their advantage, then the elimination of copyright of academic works would likely be socially desirable: it would not compromise academic publication activity and would yield the social benefits of a copyright-free regime.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I haven&amp;rsquo;t read the whole paper, and there&amp;rsquo;s a bit of quantitative analysis that I don&amp;rsquo;t think I&amp;rsquo;ll like, but it does provide a thorough argument for what I see as the real need: to change copyright law.  Still, I&amp;rsquo;m not sure that monographs should be treated the same as journal articles.&lt;/p&gt;
&lt;p&gt;Another interesting point: The &lt;a href=&#34;https://jla.oxfordjournals.org&#34;&gt;Journal of Legal Analysis&lt;/a&gt; is open access (articles are published under the &lt;a href=&#34;https://creativecommons.org/licenses/by-nc/3.0/&#34;&gt;Creative Commons Attribution-Non Commercial licence&lt;/a&gt;), and it seems to be funded in part through the endowment model I&amp;rsquo;d mentioned:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The journal is underwritten by a generous grant from the Considine Family Foundation, and continues to enjoy the strong support of the Harvard Law School and the John M. Olin Center for Law, Economics, and Business.&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Paying for scholarly publications</title>
      <link>/2012/02/02/paying-for-scholarly-publications/</link>
      <pubDate>Thu, 02 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/02/paying-for-scholarly-publications/</guid>
      <description>&lt;p&gt;I have a couple of papers that I should be writing, but recent discussion (the whole PIPA/SOPA thing [see &lt;a href=&#34;http://www.eisenlab.org/eisen/&#34;&gt;Michael Eisen&amp;rsquo;s&lt;/a&gt; &lt;a href=&#34;http://www.nytimes.com/2012/01/11/opinion/research-bought-then-paid-for.html&#34;&gt;OpEd in the New York Times&lt;/a&gt;]; the &lt;a href=&#34;http://thecostofknowledge.com&#34;&gt;Elsevier boycott&lt;/a&gt;) has turned my thoughts to publishing generally.&lt;/p&gt;
&lt;p&gt;So I&amp;rsquo;ll take some time out (way &lt;em&gt;too much&lt;/em&gt; time out) to comment on the value and costs of publishing and peer review, how to pay for it, &lt;a href=&#34;http://www.ncbi.nlm.nih.gov/pmc/&#34;&gt;PubMedCentral&lt;/a&gt;, etc.&lt;/p&gt;
&lt;h3 id=&#34;the-value-of-publishing&#34;&gt;The value of publishing&lt;/h3&gt;
&lt;p&gt;Obviously the most important thing is to communicate the results of research. If you don&amp;rsquo;t publish your work (in a way that it gets seen and understood), there wasn&amp;rsquo;t much point in doing it. Write, and write well.&lt;/p&gt;
&lt;p&gt;Secondly, publications are central for evaluating a researcher&amp;rsquo;s value and productivity, both for grants and promotions.&lt;/p&gt;
&lt;p&gt;In any case, broad and easy access to publications is important, particularly for the former aspect: so that other researchers (or ordinary people) can study the work.  And we don&amp;rsquo;t want to have to wait a year.&lt;/p&gt;
&lt;h3 id=&#34;the-costs-of-publishing&#34;&gt;The costs of publishing&lt;/h3&gt;
&lt;p&gt;The cost of producing a paper comes from&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Conducting the research&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Writing the paper&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Peer review (including by editors) of the paper&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Administration of the journal&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copy editing and typesetting&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Distribution&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-to-pay-for-it&#34;&gt;How to pay for it&lt;/h3&gt;
&lt;p&gt;(1) and (2) are paid by research grants or institutional funds, and are definitely (most of the time) the bulk of the cost.&lt;/p&gt;
&lt;p&gt;(3) is generally provided by other researchers&#39; volunteer services (and so are also paid, indirectly, by research grants or institutional funds).&lt;/p&gt;
&lt;p&gt;(4-6) are what the arguments are about.&lt;/p&gt;
&lt;h4 id=&#34;the-traditional-model&#34;&gt;The traditional model&lt;/h4&gt;
&lt;p&gt;Traditionally, authors signed away copyright to a publisher, who charged libraries or individual researchers for subscriptions.  Part of the cost may be covered by a fee (&amp;ldquo;page charges&amp;rdquo;) to the authors.&lt;/p&gt;
&lt;p&gt;In the distant past, the author would also purchase a bunch of paper copies of the article to give to friends or others who were interested.  I still occasionally get a postcard, mostly from overseas, asking me to send a copy of an article.  We used to get lots of those.&lt;/p&gt;
&lt;p&gt;A potential reader without access to a library with a subscription may be charged a crazy amount, like $30, for access to a single paper.  (Cambridge University Press is apparently now &lt;a href=&#34;http://chronicle.com/blogs/wiredcampus/cambridge-u-press-would-like-to-rent-you-an-article/34500&#34;&gt;charging $6 rent for 24 hours of access to an article&lt;/a&gt;.  Who would want that?)&lt;/p&gt;
&lt;p&gt;Many journals make articles open after a year; many charge for access for forever.&lt;/p&gt;
&lt;h4 id=&#34;the-open-access-model&#34;&gt;The open access model&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://www.plos.org&#34;&gt;PLoS&lt;/a&gt; and &lt;a href=&#34;http://www.biomedcentral.com&#34;&gt;BMC&lt;/a&gt; charge authors large fees (&amp;ldquo;page charges&amp;rdquo;) to publish in their journals.  Readers can then get free access.  These page charges can be pretty hefty (&lt;a href=&#34;http://www.plos.org/publish/pricing-policy/publication-fees/&#34;&gt;PLoS charges&lt;/a&gt; $2900 for PLoS Biology, $2250 for PLoS Genetics, and $1350 for PLoS One.)&lt;/p&gt;
&lt;p&gt;Some pay journals have adopted an open access option.  For example, at &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; the standard charges are $70/page for members of &lt;a href=&#34;http://www.genetics-gsa.org&#34;&gt;GSA&lt;/a&gt; plus $40/figure, and you can pay an extra $1200 to make the article open access immediately (otherwise, non-subscribers must wait a year).  For a 10 page paper with 5 figures, that would be $900 regular and $2100 open access.&lt;/p&gt;
&lt;p&gt;This can give you an idea of the total cost of (4-6) for a typical journal.  Imagine $2000/paper x 20 year/issue x 12 issues/year = $500k/year.&lt;/p&gt;
&lt;h4 id=&#34;the-sagmb-model&#34;&gt;The SAGMB model&lt;/h4&gt;
&lt;p&gt;The journal &lt;a href=&#34;http://www.degruyter.com/view/j/sagmb&#34;&gt;Statistical Applications in Genetics and Molecular Biology (SAGMB)&lt;/a&gt; had some sort of point system where you would get points for reviewing articles and you had to have so many points in order to submit (and subsequently publish) an article with them; otherwise, you paid a fee.  But the journal seems to have moved from &lt;a href=&#34;http://www.bepress.com&#34;&gt;BePress&lt;/a&gt; to &lt;a href=&#34;http://www.degruyter.com&#34;&gt;De Gruyter&lt;/a&gt; and I can no longer find the details.  And it&amp;rsquo;s definitely not an open access journal.  (And I once had a painful argument with them over a point for a review that soured me on the whole business.)&lt;/p&gt;
&lt;h4 id=&#34;endowments&#34;&gt;Endowments&lt;/h4&gt;
&lt;p&gt;My postdoc advisor, Jim Weber (now at &lt;a href=&#34;http://www.preventiongenetics.com/&#34;&gt;Prevention Genetics&lt;/a&gt;), had the idea that particularly society-related journals might raise an endowment to cover the ongoing costs of the journal, so that it could otherwise be completely free and open.  I like that idea.&lt;/p&gt;
&lt;p&gt;These days, with something like 4% return on an endowment, you&amp;rsquo;d need $12.5 million to get $500k/year.  That seems like a lot.  But if a journal could raise half of that, they could cut page charges in half.&lt;/p&gt;
&lt;h3 id=&#34;publishers-profit&#34;&gt;Publishers&#39; profit&lt;/h3&gt;
&lt;p&gt;In the end, the cost for (4-6) come from research grants or other institutional funds, either indirectly (our libraries pay for subscriptions) or directly (authors pay page charges).  The main questions are how, and what cut does the publisher take?&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.wikipedia.org&#34;&gt;Wikipedia&lt;/a&gt; reports that &lt;a href=&#34;http://en.wikipedia.org/wiki/Elsevier&#34;&gt;Elsevier made a profit of ~$765 million&lt;/a&gt; in 2006.  Think of the research that might have been supported by that money.  Part of that comes from overpriced scholarly books, but still&amp;hellip;.&lt;/p&gt;
&lt;h3 id=&#34;pubmed-central&#34;&gt;PubMed Central&lt;/h3&gt;
&lt;p&gt;People seem to make a big deal about &lt;a href=&#34;http://www.ncbi.nlm.nih.gov/pmc/&#34;&gt;PubMed Central&lt;/a&gt;, like it&amp;rsquo;s been this great big thing for open access to research articles.  But I don&amp;rsquo;t see it.  I make good use of PubMed (for finding articles), but PubMed Central seems like a pain.&lt;/p&gt;
&lt;p&gt;Most of the journals I publish in send the articles straight to PMC, but the articles aren&amp;rsquo;t open until a year after publication, and there&amp;rsquo;s been no attempt to deal with the copyright release business.  And if you publish in a journal that doesn&amp;rsquo;t ship the things to PMC automatically, it&amp;rsquo;s really confusing what you need to do (a) with respect to the copyright release and (b) to actually get the appropriate version of the manuscript in there.&lt;/p&gt;
&lt;p&gt;I generally just go back to my university library website to get an article, and if I can&amp;rsquo;t get immediate access, I order it through interlibrary loan.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;http://publicaccess.nih.gov/&#34;&gt;NIH public access policy&lt;/a&gt; seems like a good thing, but it&amp;rsquo;s not enough to actually help me in any way.  They could have done more, and since they didn&amp;rsquo;t, I&amp;rsquo;m annoyed at what little they did do.&lt;/p&gt;
&lt;h3 id=&#34;what-about-peer-review-and-impact-factors-and-all-that&#34;&gt;What about peer-review and impact factors and all that?&lt;/h3&gt;
&lt;p&gt;The cost of publishing and access to research articles has gotten tied up with the whole peer-review model for publishing, plus the use of things like the ISI Impact Factor to measure the quality of a journal and then to measure the quality of the papers in a journal.  People seem to be saying, &amp;ldquo;Screw the whole page charges business; let&amp;rsquo;s just put articles in &lt;a href=&#34;http://arxiv.org&#34;&gt;arXiv&lt;/a&gt; and develop another system for finding relevant articles and measuring their quality.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;To me, the value of standard peer review versus post-publication measures of quality is a completely separate issue (which I hope to comment on more thoroughly soon).  Switching to an arXiv/tech report/working paper system just pushes the cost of (5) [copy editing] to the author (or, worse, to the reader); we still have to pay for (4) and (6) somehow.&lt;/p&gt;
&lt;h3 id=&#34;summary&#34;&gt;Summary&lt;/h3&gt;
&lt;p&gt;To summarize my thoughts: there are real costs of publishing, and in the end they all get paid for from the same pots (research grants or institutional funds).  The question is how (page charges or subscriptions or something else), and should for-profit publishers be making big bucks in the process?&lt;/p&gt;
&lt;p&gt;I personally prefer journals that are associated with a scientific society (as &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; is with the &lt;a href=&#34;http://www.genetics-gsa.org&#34;&gt;Genetics Society of America&lt;/a&gt;), and while I would like those societies to raise endowments to cover the full ongoing costs of their journals, in the meantime I prefer the open access model, where the publications costs are charged directly to the author and subsequently to the authors&#39; research grants.  It&amp;rsquo;s simpler that way.&lt;/p&gt;
&lt;h3 id=&#34;how-to-change-the-world&#34;&gt;How to change the world?&lt;/h3&gt;
&lt;p&gt;I would like to see journals become fully open, with costs either charged to research grants (through page charges to the authors), directly to granting agencies, or covered by endowments. If we continue to rely on subscriptions, then there will be uneven access to researchers and little access to ordinary people.&lt;/p&gt;
&lt;p&gt;But the most important thing is to remove the profit-driven bloated middlemen from the system. The &lt;a href=&#34;http://thecostofknowledge.com&#34;&gt;Elsevier boycott&lt;/a&gt; is one step towards that: it seeks to cut out one particularly bloated but basically useless player.&lt;/p&gt;
&lt;p&gt;But researchers (particularly junior researchers) have little incentive to participate in such efforts.  They want their masterly (or crappy) manuscript to be in a high-impact journal, since its status on their CV matters more than it actually being read.  In particular, why devote their limited start-up or grant dollars towards page charges when the cost can be pushed down to the (possibly nonexistent) reader?&lt;/p&gt;
&lt;p&gt;This requires considerable thought, but here are my preliminary ideas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If senior researchers send their best manuscripts to open access journals (&lt;a href=&#34;http://www.plosbiology.org&#34;&gt;PLoS Biology&lt;/a&gt; rather than Nature; &lt;a href=&#34;http://www.plosgenetics.org&#34;&gt;PLoS Genetics&lt;/a&gt; rather than Nature Genetics), those journals will become more influential and junior researchers will follow.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scientific societies might develop further awards or publication scholarships (or endowments!) to enable junior researchers to cover page charges (and further enhance their CVs).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If institutions care about open access, they might cut back on subscriptions to evil journals and use the savings to support researchers&#39; page charges to open journals.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Promotion committees and such might do more to actually read candidates&#39; papers rather than relying on journal reputation.  (Might they also take access into account?  Probably not.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copyright law might be changed to insist that publications coming from government-funded research be treated as are publications coming from government employees (namely, open: as I understand it, government employees aren&amp;rsquo;t allowed to sign over copyright).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Elsevier boycott</title>
      <link>/2012/02/01/elsevier-boycott/</link>
      <pubDate>Wed, 01 Feb 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/02/01/elsevier-boycott/</guid>
      <description>&lt;p&gt;I expect you&amp;rsquo;ve already heard about the &lt;a href=&#34;http://thecostofknowledge.com&#34;&gt;Elsevier boycott&lt;/a&gt;, started based on comments from &lt;a href=&#34;http://gowers.wordpress.com/2012/01/21/elsevier-my-part-in-its-downfall/&#34;&gt;Timothy Gowers&lt;/a&gt;.  While he focused on his own discipline (mathematics), the boycott site now has people broken down by subject.  On 1 Feb, there were 2700+ signatories, including 600+ mathematicians (but only 15 statisticians).  There have been a couple of articles about this in the &lt;a href=&#34;https://chronicle.com/&#34;&gt;Chronicle of Higher Education&lt;/a&gt;: &lt;a href=&#34;https://chronicle.com/blogs/wiredcampus/elsevier-publishing-boycott-gathers-steam-among-academics/35216&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://chronicle.com/article/As-Journal-Boycott-Grows/130600/?sid=wc&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I signed the boycott, and will refuse to review papers for Evilsevier journals, and will try to steer my coauthors away from them.  (I certainly wouldn&amp;rsquo;t send my own papers to such journals, but it&amp;rsquo;s hard to control papers on which I am one lowly author among many.)&lt;/p&gt;
&lt;p&gt;Most important to me is that the journals are expensive and publishing companies are reaping an enormous profit.  The former head of the library at UW-Madison mentioned recently that they spend $4 million per year on electronic resources (books and journals), and that they are &amp;ldquo;struggling to pay that Elsevier bill&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;I prefer society-related journals.  These days, my own papers all go to my favorite journal, &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt;, which is associated with the &lt;a href=&#34;http://www.genetics-gsa.org/&#34;&gt;Genetics Society of America&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I looked back at my reviews of journal articles in 2011.  I did 23.  They were for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Various &lt;a href=&#34;https://www.biomedcentral.com&#34;&gt;BMC&lt;/a&gt; journals (open access but mostly crappy)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.nature.com/ejhg/index.html&#34;&gt;European Journal of Human Genetics&lt;/a&gt; (&lt;a href=&#34;https://www.eshg.org/&#34;&gt;ESHG&lt;/a&gt;; published by Nature)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.wiley.com/bw/journal.asp?ref=1601-1848&#34;&gt;Genes, Brain and Behavior&lt;/a&gt; (&lt;a href=&#34;https://www.ibangs.org/&#34;&gt;IBANGS&lt;/a&gt;; published by Wiley)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt; (&lt;a href=&#34;http://www.genetics-gsa.org&#34;&gt;GSA&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.nrcresearchpress.com/journal/gen&#34;&gt;Genome&lt;/a&gt; (&lt;a href=&#34;https://www.nrcresearchpress.com&#34;&gt;National Research Council of Canada&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://genome.cshlp.org/&#34;&gt;Genome Research&lt;/a&gt; (Cold Spring Harbor)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://jag.igr.poznan.pl/&#34;&gt;Journal of Applied Genetics&lt;/a&gt; (Springer)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Journal of Statistical Planning and Inference (Elsevier!)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jstatsoft.org/&#34;&gt;Journal of Statistical Software&lt;/a&gt; (&lt;a href=&#34;https://www.amstat.org&#34;&gt;ASA&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.nature.com/nprot/index.html&#34;&gt;Nature Protocols&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Various &lt;a href=&#34;https://www.plos.org/&#34;&gt;PLoS&lt;/a&gt; journals (open access)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I did okay.  I am down on Springer and Wiley, too, in spite of the fact that I published &lt;a href=&#34;https://rqtl.org/book&#34;&gt;a book with Springer&lt;/a&gt; (and I like many of their books), but most of the above are society or open-access journals and there&amp;rsquo;s just one Elsevier journal.&lt;/p&gt;
&lt;p&gt;In the list of mathematics/statistics journals published by Elsevier, I only recognize &lt;em&gt;Computational Statistics &amp;amp; Data Analysis&lt;/em&gt; and &lt;em&gt;Journal of Statistical Planning and Inference&lt;/em&gt;.  &lt;em&gt;Genomics&lt;/em&gt; and &lt;em&gt;Trends in Genetics&lt;/em&gt; are their only genetics journals that I recognize, but I didn&amp;rsquo;t look so closely.  [I later realized that the American Journal of Human Genetics is published by Elsevier; that&amp;rsquo;s a big one.]&lt;/p&gt;
&lt;p&gt;In terms of &lt;a href=&#34;https://kbroman.org/pubs.html&#34;&gt;my publications&lt;/a&gt;, looking at 2011, 2012 and in press articles, I have 13.  Several of the journals were listed above: &lt;a href=&#34;https://www.plos.org&#34;&gt;PLoS&lt;/a&gt;, &lt;a href=&#34;https://genome.cshlp.org/&#34;&gt;Genome Research&lt;/a&gt;, &lt;a href=&#34;https://www.biomedcentral.com&#34;&gt;BMC&lt;/a&gt;, &lt;a href=&#34;https://academic.oup.com/genetics&#34;&gt;Genetics&lt;/a&gt;/&lt;a href=&#34;https://academic.oup.com/g3journal&#34;&gt;G3&lt;/a&gt;.  In addition:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.wiley.com/bw/journal.asp?ref=0962-1083&#34;&gt;Molecular Ecology&lt;/a&gt; (Wiley)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://neuro-oncology.oxfordjournals.org/&#34;&gt;Neuro-Oncology&lt;/a&gt; (&lt;a href=&#34;https://www.soc-neuro-onc.org/&#34;&gt;SNO&lt;/a&gt;; published by Oxford UP)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://physiolgenomics.physiology.org/&#34;&gt;Physiological Genomics&lt;/a&gt; (&lt;a href=&#34;https://www.the-aps.org/&#34;&gt;APS&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.springer.com/life+sciences/cell+biology/journal/335&#34;&gt;Mammalian Genome&lt;/a&gt; (&lt;a href=&#34;http://imgs.org&#34;&gt;IMGS&lt;/a&gt;; published by Springer)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://bioinformatics.oxfordjournals.org/&#34;&gt;Bioinformatics&lt;/a&gt; (&lt;a href=&#34;https://www.iscb.org/&#34;&gt;ISCB&lt;/a&gt;; published by Oxford UP)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, again, I did okay.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Muted startup</title>
      <link>/2012/01/26/muted-startup/</link>
      <pubDate>Thu, 26 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>/2012/01/26/muted-startup/</guid>
      <description>&lt;p&gt;It annoys me when my computer (or, even more, someone else&amp;rsquo;s computer) makes a gratuitous noise upon startup.&lt;/p&gt;
&lt;p&gt;While I know that, on my Mac, I can avoid the sound by either muting before shutdown or holding down the mute button while starting it up, I often forget. And I am especially prone to forgetting when it&amp;rsquo;s most important that the computer be quiet.&lt;/p&gt;
&lt;p&gt;So, I was very interested to read &lt;a href=&#34;https://lifehacker.com/5873140/how-to-silence-your-computers-startup-sound-and-boot-like-a-ninja&#34;&gt;how to disable the start up sound&lt;/a&gt; at &lt;a href=&#34;https://lifehacker.com&#34;&gt;lifehacker&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s nice and easy. Here are the scripts I use; the instructions are in the comments at the top of each file.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/scripts/mute.sh&#34;&gt;mute.sh&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/scripts/unmute.sh&#34;&gt;unmute.sh&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>12 deg F, but still good biking</title>
      <link>/2011/12/23/12-deg-f-but-still-good-biking/</link>
      <pubDate>Fri, 23 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/12/23/12-deg-f-but-still-good-biking/</guid>
      <description>&lt;p&gt;My last day biking to work for a while&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/12/20111223-081837.jpg&#34; alt=&#34;20111223-081837.jpg&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Here&#39;s what I need</title>
      <link>/2011/12/13/heres-what-i-need/</link>
      <pubDate>Tue, 13 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/12/13/heres-what-i-need/</guid>
      <description>&lt;p&gt;for riding in Wisconsin in the winter, the Surly Moonlander:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/12/moonlander.jpeg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Revised bicycle laws in Wisconsin</title>
      <link>/2011/12/01/revised-bicycle-laws-in-wisconsin/</link>
      <pubDate>Thu, 01 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/12/01/revised-bicycle-laws-in-wisconsin/</guid>
      <description>&lt;p&gt;A newsletter from the &lt;a href=&#34;https://madison.bcycle.com/&#34;&gt;Madison B-Cycle&lt;/a&gt; folks pointed out that the biking laws in Wisconsin have been &lt;a href=&#34;https://docs.legis.wisconsin.gov/2011/related/proposals/ab265&#34;&gt;revised somewhat&lt;/a&gt;, in interesting ways (at least to me).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;You can now stick your arm out to the right to signal a right turn.  (I didn&amp;rsquo;t realize that this was wrong.)
&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/12/bike_turn_signals.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Studded bike tires (important for riding on snow and ice) are now legal.  (I didn&amp;rsquo;t realize that they weren&amp;rsquo;t.  I wish I&amp;rsquo;d had them when I crashed and broke my elbow back in 2008; now I don&amp;rsquo;t need them as I&amp;rsquo;m not risking riding on snow in any case.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can have a rear light in place of a rear reflector. (Again, I didn&amp;rsquo;t realize that this would be wrong.)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Statistics comic</title>
      <link>/2011/11/23/statistics-comic/</link>
      <pubDate>Wed, 23 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/11/23/statistics-comic/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.smbc-comics.com&#34;&gt;Saturday Morning Breakfast Cereal&lt;/a&gt; has &lt;a href=&#34;https://www.smbc-comics.com&#34;&gt;a rather accurate representation of statisticians&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.smbc-comics.com/comics/20111123.gif&#34; alt=&#34;Saturday morning breakfast cereal comic&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sports statistics</title>
      <link>/2011/11/07/sports-statistics/</link>
      <pubDate>Mon, 07 Nov 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/11/07/sports-statistics/</guid>
      <description>&lt;p&gt;There was &lt;a href=&#34;http://www.nytimes.com/2011/11/06/education/edlife/at-moneyball-u-what-are-the-odds.html&#34;&gt;an article&lt;/a&gt; in the New York Times on Sunday about teaching statistics through sports examples.&lt;/p&gt;
&lt;p&gt;I personally would avoid sports entirely, as I view the subject to be insufficiently serious.  Maybe that&amp;rsquo;s an indication of my being a terrible instructor of introductory statistics: I don&amp;rsquo;t care that much what the students are interested in.&lt;/p&gt;
&lt;p&gt;Certainly lots of statisticians are interested in sports.  &lt;a href=&#34;http://www.stat.berkeley.edu/~brill/&#34;&gt;David Brillinger&lt;/a&gt; told me he&amp;rsquo;d learned a lot of statistics from studying sports.  And I&amp;rsquo;m not completely uninterested in sports: I like to watch football, particularly Nebraska, Green Bay, and Baltimore, and to see Notre Dame or any team from Florida or Texas lose.&lt;/p&gt;
&lt;p&gt;But statistics about sports?  Yawn.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Halloween 2011 count</title>
      <link>/2011/10/31/halloween-2011-count/</link>
      <pubDate>Mon, 31 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/31/halloween-2011-count/</guid>
      <description>&lt;p&gt;We don&amp;rsquo;t get many kids seeking candy at our house. I&amp;rsquo;m not sure if there just aren&amp;rsquo;t many kids in the neighborhood, or if it&amp;rsquo;s our location (next to the pond, with a big gap before the next house).&lt;/p&gt;
&lt;p&gt;I decided to keep track. As usual, we bought a huge bag of candy, and we still had about half of it left to hand out tonight. But only 19 kids came.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/10/halloween20111.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;They arrived pretty regularly from 5:50 to 7:50.&lt;/p&gt;
&lt;p&gt;I comment on the figure&amp;rsquo;s style below.&lt;/p&gt;
&lt;p&gt;In the above graph, I&amp;rsquo;m applying ideas learned from &lt;a href=&#34;http://statistics.gmu.edu/people_pages/carr.html&#34;&gt;Dan Carr&lt;/a&gt; when I visited the &lt;a href=&#34;http://statistics.gmu.edu&#34;&gt;statistics department&lt;/a&gt; at &lt;a href=&#34;https://www.gmu.edu&#34;&gt;George Mason&lt;/a&gt; in September, to give &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/presentations/gmu2011.pdf&#34;&gt;a seminar&lt;/a&gt;.  (I had a great time at GMU, particularly talking to Dan about graphics.  I had a copy of &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/142007573X/7210-20&#34;&gt;his book about micromaps&lt;/a&gt; on my iPad, but hadn&amp;rsquo;t really looked at it until after I met him.  Take a look at the first chapter; it&amp;rsquo;s full of good ideas and may convince you to read the rest.)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The gray background makes the figure stand out on the &amp;ldquo;page&amp;rdquo;.  (I had disliked this aspect of &lt;a href=&#34;http://had.co.nz/ggplot2/&#34;&gt;ggplot2&lt;/a&gt; plots, but Dan convinced me that it&amp;rsquo;s better.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The black border around the figure is important.  (Dan pointed out that it&amp;rsquo;s not the gray background I dislike about the default ggplot2 plots, but the lack of the border.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The white grid lines make it easy to see the details, and they still don&amp;rsquo;t get in the way of the plot.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;With the grid lines, you don&amp;rsquo;t need to include tick marks, but can just use proximity.  (Note that the labels can and should be closer to the plot when there are no &lt;del&gt;bristles&lt;/del&gt; ticks.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The use of color for the actual data makes them stand out better.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: The code I used for the figure is &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/blog/halloween2011.R&#34;&gt;here&lt;/a&gt;.  It&amp;rsquo;s old-fashioned and inefficient, but it works.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Caffeine</title>
      <link>/2011/10/27/caffeine/</link>
      <pubDate>Thu, 27 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/27/caffeine/</guid>
      <description>&lt;p&gt;A cute and useful menu bar application for Macs: &lt;a href=&#34;http://lightheadsw.com/caffeine/&#34;&gt;Caffeine&lt;/a&gt;, available in the &lt;a href=&#34;http://itunes.apple.com/us/app/caffeine/id411246225&#34;&gt;App store&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you click the little coffee cup in your menu bar (so that it&amp;rsquo;s full), it will prevent your Mac from displaying its screen saver or dimming its screen.  This is especially useful when you&amp;rsquo;re giving a talk.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SUV-driving bastards</title>
      <link>/2011/10/25/suv-driving-bastards/</link>
      <pubDate>Tue, 25 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/25/suv-driving-bastards/</guid>
      <description>&lt;p&gt;On my bike ride to work, in the rain, I was stopped at &lt;a href=&#34;http://g.co/maps/dpgfr&#34;&gt;stop light&lt;/a&gt;, in the bike lane, when a big black SUV pulled up behind me and honked, wanting to turn right.  Three seconds later the light turned green.  As the guy turned behind me, he yelled out his window, &amp;ldquo;Get the hell out of the way!&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Who would not flip him off?&lt;/p&gt;
&lt;p&gt;Madison can be great for biking, but it is not without assholes, though I suppose that is &lt;a href=&#34;http://walker.wi.gov/&#34;&gt;obvious&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tips on grant writing</title>
      <link>/2011/10/21/grant-writing/</link>
      <pubDate>Fri, 21 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/21/grant-writing/</guid>
      <description>&lt;p&gt;While some may feel that grant proposals should be perfect, I think they should be good enough to be funded and no better.  Only three or so people will read the thing, and they&amp;rsquo;re not allowed to talk about it; you should be devoting yourself as much as possible to the actual work rather than the grant writing.&lt;/p&gt;
&lt;p&gt;Having read many grants (some good, many bad), I&amp;rsquo;ve formed quite strong opinions about what constitutes a good grant.&lt;/p&gt;
&lt;h3 id=&#34;the-ideas-are-most-important&#34;&gt;The ideas are most important&lt;/h3&gt;
&lt;p&gt;Perhaps this is obvious, but in many grants, the real ideas are not apparent.  Don&amp;rsquo;t hide them (thinking the reviewers might steal them), and don&amp;rsquo;t just describe an important problem.  (We can all mostly agree on what problems are important; the question is: can you solve any of them?)  Focus more on what you will do than on what has been done.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t have a very good idea, it might be best to wait until you do.&lt;/p&gt;
&lt;h3 id=&#34;understand-the-process&#34;&gt;Understand the process&lt;/h3&gt;
&lt;p&gt;It is useful to know what happens to your grant once it is submitted: Who will read it?  What are they looking for?&lt;/p&gt;
&lt;p&gt;Talk to senior colleagues who are familiar with the funding agency.  Enroll in a grant writing course.  Read the material provided by the funding agency (such as on the web).&lt;/p&gt;
&lt;h3 id=&#34;get-feedback&#34;&gt;Get feedback&lt;/h3&gt;
&lt;p&gt;Write your proposal early enough that you can get feedback from colleagues and still have time to make use of their comments.&lt;/p&gt;
&lt;h3 id=&#34;reviewers-are-tired-and-scatterbrained-and-not-necessarily-experts-in-your-sub-discipline&#34;&gt;Reviewers are tired and scatterbrained and not necessarily experts in your sub-discipline&lt;/h3&gt;
&lt;p&gt;You may wish that the reviewers would spend a quiet day devoted to reading your grant front-to-back, but that won&amp;rsquo;t happen.  They may have ten grants to read and are still trying to do their real work.  They&amp;rsquo;re likely to read your grant in bits at a time, out of order, maybe on a plane. And they&amp;rsquo;re often old and wear glasses.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Include plenty of white space&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use large fonts&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use simple, blunt text (simple sentences, simple words)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensure that the organization of the proposal is absolutely clear&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Repeat text verbatim (e.g., of the aims) so there&amp;rsquo;s no question what you&amp;rsquo;re talking about&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Define jargon&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;write-their-review-for-them&#34;&gt;Write their review for them&lt;/h3&gt;
&lt;p&gt;If the reviewers can borrow your text to explain how the work is important and innovative and why you are the right person (or team) in the right place to do it, they&amp;rsquo;ll be happy and thus you&amp;rsquo;ll be happy.&lt;/p&gt;
&lt;h3 id=&#34;include-nice-illustrations&#34;&gt;Include nice illustrations&lt;/h3&gt;
&lt;p&gt;Illustrations can be a lot of work but can bring clarity to complicated things.  But they can be a waste of space.  Include some meaningful ones and omit those empty of content.&lt;/p&gt;
&lt;h3 id=&#34;pay-attention-to-details&#34;&gt;Pay attention to details&lt;/h3&gt;
&lt;p&gt;Avoid typos, misspellings, missing words, messed up figure numbers, missing letters of support, incomplete or out-of-date biosketches (especially those from collaborators), and inaccurate or missing references.&lt;/p&gt;
&lt;p&gt;If the reviewers are annoyed, confused, or sense sloppiness, they won&amp;rsquo;t write a good review (and some of this may not be conscious on their part).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fund people not projects?</title>
      <link>/2011/10/19/fund-people-not-projects/</link>
      <pubDate>Wed, 19 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/19/fund-people-not-projects/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://en.wikipedia.org/wiki/John_P._A._Ioannidis&#34;&gt;John Ioannidis&lt;/a&gt;, known for &lt;a href=&#34;http://www.plosmedicine.org/article/info:doi/10.1371/journal.pmed.0020124&#34;&gt;his comments on medical research&lt;/a&gt; (see also &lt;a href=&#34;http://www.theatlantic.com/magazine/archive/2010/11/lies-damned-lies-and-medical-science/8269/&#34;&gt;the Atlantic article&lt;/a&gt;), has an interesting opinion piece in Nature on saving researchers&#39; time writing and reviewing grants: &lt;a href=&#34;http://www.nature.com/nature/journal/v477/n7366/full/477529a.html&#34;&gt;fund people not projects&lt;/a&gt;.  As he concludes, &amp;ldquo;Requiring [scientists] to spend most of their time writing grants is irrational. It&amp;rsquo;s time to seriously consider another approach.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;It was thought provoking, but I don&amp;rsquo;t think any of his ideas will really work.  Lots of people complain about peer review, but I think it largely works well and none of the proposed alternatives would actually be better.  Here are my thoughts.&lt;/p&gt;
&lt;h4 id=&#34;we-pretty-much-already-do-this-in-part&#34;&gt;We pretty much already do this, in part&lt;/h4&gt;
&lt;p&gt;Prominent scientists can get sketchy ideas funded, while obscure researchers have to make an extremely strong case.  But obscure researchers with a fantastic idea &lt;em&gt;can&lt;/em&gt; get funding.&lt;/p&gt;
&lt;h4 id=&#34;spread-equally-or-at-random&#34;&gt;Spread equally or at random?&lt;/h4&gt;
&lt;p&gt;Ioannidis says, &amp;ldquo;the imperfections of peer review mean that as many as one-third of current grants are effectively being awarded at random.&amp;rdquo;  So why not use &amp;ldquo;aleatoric allocation&amp;rdquo;?&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d never seen the word &amp;ldquo;aleatoric&amp;rdquo; before.  I suppose now I&amp;rsquo;ll see it all the time.&lt;/p&gt;
&lt;p&gt;The idea of funding science via a lottery seems too crazy to consider further.&lt;/p&gt;
&lt;h4 id=&#34;merit&#34;&gt;Merit?&lt;/h4&gt;
&lt;p&gt;We could fund people on merit versus fund particular proposals.  Ioannidis points out that the MacArthur foundation does this.  He didn&amp;rsquo;t mention that the NIH also does this to some extent (MERIT awards, for &amp;ldquo;Method to Extend Research In Time&amp;rdquo;).&lt;/p&gt;
&lt;p&gt;Ioannidis suggests maybe doing this in an automated or semi-automated way: &amp;ldquo;The system could use indices that exclude self-citations and capture quality rather than quantity (such as average citations per paper instead of number of papers).&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Blech.&lt;/p&gt;
&lt;h4 id=&#34;reward-good-scientific-citizenship-practices&#34;&gt;&amp;ldquo;Reward good scientific citizenship practices&amp;rdquo;?&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;http://www.biostat.jhsph.edu/~rpeng/&#34;&gt;Roger&lt;/a&gt; would be interested to see this comment from Ioannidis: &amp;ldquo;Researchers might be rewarded for publishing reproducible data, protocols and algorithms.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;But Ioannidis further says, &amp;ldquo;Some citizenship practices are difficult to capture in automated databases, so would be subject to the disadvantages of peer assessment.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s an understatement.&lt;/p&gt;
&lt;h4 id=&#34;simplify-application&#34;&gt;Simplify application?&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;Researchers could be asked, for example, to submit short summaries of their intended research, describing broad goals only.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;The NIH has moved in that direction.  But the problem is: we can all generally agree on the important problems.  The question is: who is going to solve them and how?&lt;/p&gt;
&lt;h4 id=&#34;judging-quality&#34;&gt;Judging quality&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;Many institutions use the size of a scientist&amp;rsquo;s grant portfolio as a basis for tenure and promotion&amp;hellip;.Judging scientists by the size of their portfolio is equivalent to judging art by how much money was spent on paint and brushes, rather than the quality of the paintings.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Who could disagree?  Similarly, counting publications (perhaps considering the &amp;ldquo;impact factor&amp;rdquo; of the journals) is a poor measure of quality.&lt;/p&gt;
&lt;p&gt;The only alternative is to actually &lt;em&gt;read&lt;/em&gt; the papers.&lt;/p&gt;
&lt;h4 id=&#34;how-to-spread-out-the-money&#34;&gt;How to spread out the money?&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;All funding options face a tension over how many scientists should receive awards, and there is no good evidence on whether it is better to give fewer scientists more money or to distribute smaller amounts between more researchers.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;The NIH has indeed struggled over this.  But I think they do reasonably well.  There are some groups with a ton of funding and some that are struggling.  How to decide how much to give each?  Well, you could focus on the proposed projects rather than the researchers&amp;hellip;&lt;/p&gt;
&lt;h4 id=&#34;randomized-trials&#34;&gt;Randomized trials?&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;Controlled trials could randomize consenting scientists to different funding schemes, then compare surrogate metrics and long-term successes.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s hard to see anyone really doing this.  It would require a long study and the risk of destruction of individual careers.&lt;/p&gt;
&lt;h4 id=&#34;scandal&#34;&gt;Scandal?&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;It is a scandal that billions of dollars are spent on research without knowing the best way to distribute that money.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Similarly, Richard Smith wrote an interesting &lt;a href=&#34;http://breast-cancer-research.com/content/12/S4/S13&#34;&gt;opinion on peer-review&lt;/a&gt; (focusing on journal articles), in which he notes the lack of empirical evidence for the efficacy of peer review.&lt;/p&gt;
&lt;p&gt;But is it a scandal?  Do we know the best way to distribute money for anything?&lt;/p&gt;
&lt;h4 id=&#34;my-conclusions&#34;&gt;My conclusions&lt;/h4&gt;
&lt;p&gt;I would like to spend less time writing and reviewing grants, and I think the current system favors shorter, fashionable, less innovative projects.  However, while it is hard to gauge the value of proposed work, I still think it&amp;rsquo;s easier to evaluate proposed projects than it is to evaluate people.  What&amp;rsquo;s done at the NIH is a bit of a mixture (evaluating the individual investigator and their past work as well as the particular proposed project), and while I don&amp;rsquo;t always like it, I think it&amp;rsquo;s hard to improve upon.&lt;/p&gt;
&lt;p&gt;The biggest problem is the low level of current funding.  When only about 10% of proposals are funded, chance seems to play a larger role in what gets funded, and many more grants are submitted, which gives reviewers much more work.  We need to get it back up to 20% for the review process to be healthy again.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Parachutes</title>
      <link>/2011/10/19/parachutes/</link>
      <pubDate>Wed, 19 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/19/parachutes/</guid>
      <description>&lt;p&gt;I went to a great talk today by &lt;a href=&#34;http://humangenome.duke.edu/people/david-goldstein&#34;&gt;David Goldstein&lt;/a&gt;, which I might write about further later since he said many of things of considerable interest. But I had to quickly point to an interesting paper he mentioned: &lt;a href=&#34;http://www.bmj.com/content/327/7429/1459.full.pdf&#34;&gt;Parachute use to prevent death and major trauma related to gravitational challenge: systematic review of randomised controlled trials&lt;/a&gt;. The main conclusion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We think that everyone might benefit if the most radical protagonists of evidence based medicine organised and participated in a double blind, randomised, placebo controlled, crossover trial of the parachute.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Make sure to read the statement regarding the authors&#39; contributions.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>New title, new look</title>
      <link>/2011/10/15/new-title-new-look/</link>
      <pubDate>Sat, 15 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/15/new-title-new-look/</guid>
      <description>&lt;p&gt;My old title was too verbose, and the old &amp;ldquo;theme&amp;rdquo; was too messy (and the font too small).  Hopefully the changes are satisfactory.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Designer of C died</title>
      <link>/2011/10/14/designer-of-c-died/</link>
      <pubDate>Fri, 14 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/14/designer-of-c-died/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://cm.bell-labs.com/who/dmr/&#34;&gt;Dennis Ritchie&lt;/a&gt;, the designer of C and co-developer of Unix, &lt;a href=&#34;http://tinyurl.com/4y38mkt&#34;&gt;died on Wednesday&lt;/a&gt;.  He arguably had more impact on my life than &lt;a href=&#34;http://tinyurl.com/3fj8llw&#34;&gt;Steve Jobs&lt;/a&gt; did.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Resizing windows in Lion</title>
      <link>/2011/10/14/resizing-windows-in-lion/</link>
      <pubDate>Fri, 14 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/14/resizing-windows-in-lion/</guid>
      <description>&lt;p&gt;I upgraded my Macs to &lt;a href=&#34;http://www.apple.com/lion&#34;&gt;Lion&lt;/a&gt;; my favorite improvement is that we can now resize windows from any edge or corner.&lt;/p&gt;
&lt;p&gt;(Previously, you could only change the size from the lower-right corner, so I often found myself resizing and moving and then resizing and moving and then&amp;hellip;.  Why did it take so long for them to do it properly?)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Animal research</title>
      <link>/2011/10/12/animal-research/</link>
      <pubDate>Wed, 12 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/12/animal-research/</guid>
      <description>&lt;p&gt;Last night, I was an &amp;ldquo;expert&amp;rdquo; on a panel at a &lt;a href=&#34;http://tinyurl.com/45y2jny&#34;&gt;public discussion on animal research&lt;/a&gt;.  I was really nervous, but I ended up not saying much and learning quite a lot.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.ophth.wisc.edu/faculty/kaufman&#34;&gt;Paul Kaufman&lt;/a&gt;, Chair of Ophthalmology at UW-Madison, gave a 45 min talk about his research on glaucoma using monkeys.  In particular, he sought to articulate one case in which animal research had been useful, and it was a good one: the &lt;a href=&#34;http://www.ncbi.nlm.nih.gov/pubmed/3477218&#34;&gt;development of prostoglandins&lt;/a&gt; for lowering interocular pressure and so preventing or delaying the onset of glaucoma.  His talk was rather technical: great for me, but perhaps not so great for the audience (about 50 people, I would think mostly non-scientists).&lt;/p&gt;
&lt;p&gt;After his talk, the other two panelists and I spoke briefly: &lt;a href=&#34;http://www.law.wisc.edu/profiles/racharo@wisc.edu&#34;&gt;Alta Charo&lt;/a&gt;, a bioethicist from the Law School, talked about the protection of human subjects and its relation to protection of animal subjects, and the importance of empathy for the subjects of research; &lt;a href=&#34;http://medhist.wisc.edu/faculty/lederer/index.shtml&#34;&gt;Sue Lederer&lt;/a&gt;, Chair of Medical History and Bioethics, pointed out what Paul Kaufman hadn&amp;rsquo;t mentioned in his presentation (how the animals are actually treated) and also mentioned the ethical issues in how we choose to spend research dollars (studying glaucoma versus, for example, treating trachoma, which affects as many people worldwide but is easily treated).&lt;/p&gt;
&lt;p&gt;My own comments were the following:  I have some ambivalence about animal research: I&amp;rsquo;m personally rather squeamish and I&amp;rsquo;ve seen some bad experiments, but many scientific questions can only be answered through animal experiments.  I&amp;rsquo;m often asked about experimental design and sample size determination, but I don&amp;rsquo;t enjoy that aspect of things since a proper answer requires that you know the truth.   My usual response about sample size is: use as many animals as you can afford.  If your sample size is too large, you&amp;rsquo;ll have wasted a few excess animals, but if you&amp;rsquo;re sample size is too small, you&amp;rsquo;ll learn nothing and so will have wasted all of the animals.  Finally, I said that animal experiments, on the whole, are too small, and that large collaborative studies in which each animal provides more extensive information might actually lead to an overall reduction in animal numbers.  (Malcolm Macleod &lt;a href=&#34;http://www.nature.com/news/2011/110928/full/477511a.html&#34;&gt;wrote an opinion in Nature&lt;/a&gt; 2 weeks ago indicating some of the weaknesses of current animal experiments, in particular that they are too small.)&lt;/p&gt;
&lt;p&gt;I didn&amp;rsquo;t say anything else during the next hour of discussion.  There were a couple of places where I was inclined to comment, but it didn&amp;rsquo;t really seem necessary.&lt;/p&gt;
&lt;p&gt;The first member of the audience to speak pointed out that the panel had talked about the necessity of animal research but not about ethics; something may appear necessary but still be unethical.  Later, another person said that there is no humane animal experimentation.  I think the key discussion concerned the housing of the primate research subjects.  Currently, they are housed singly in cages.  Paul Kaufman said that this could be done differently (say, in groups in a natural environment), but the cost would be astronomical and so less research could be done.  But that&amp;rsquo;s the key question: should there be more research done but with the monkeys kept in unhappy conditions, or less research but with the monkeys in more humane conditions?&lt;/p&gt;
&lt;p&gt;The moderator, &lt;a href=&#34;https://mywebspace.wisc.edu/rstreiffer/web/&#34;&gt;Rob Streiffer&lt;/a&gt;, made some interesting points (for example, regarding reform versus abolition).  Paul Kaufman generally responded well to the questions, so I didn&amp;rsquo;t feel a need to back him up, though he may have gone a bit over the top at some points.  His answers were not always very friendly.&lt;/p&gt;
&lt;p&gt;If I were to have added anything to the discussion, it would have been to say: not all animal research is done well, and the course of experiments that Paul described were basically the ideal—most experiments don&amp;rsquo;t work out so well.&lt;/p&gt;
&lt;p&gt;Someone did come up to me afterwards to ask me to expand on my point larger collaborative experiments.  That made me happy.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Terry on communication</title>
      <link>/2011/10/03/terry-on-communication/</link>
      <pubDate>Mon, 03 Oct 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/10/03/terry-on-communication/</guid>
      <description>&lt;p&gt;Relevant to &lt;a href=&#34;https://kbroman.org/blog/2011/09/29/seminars-bad-and-good/&#34;&gt;my recent comments on seminars&lt;/a&gt;, Terry Speed&amp;rsquo;s &lt;a href=&#34;http://bulletin.imstat.org/2011/09/terence%e2%80%99s-stuff-speaking-reading-writing/&#34;&gt;latest commentary&lt;/a&gt; in the IMS Bulletin focuses on communication (talks and papers).&lt;/p&gt;
&lt;p&gt;He says: &lt;em&gt;read others&#39; work&lt;/em&gt; (which I would expand to say, &lt;em&gt;pay attention&lt;/em&gt;) and &lt;em&gt;practice&lt;/em&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Poster flop</title>
      <link>/2011/09/30/poster-flop/</link>
      <pubDate>Fri, 30 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/30/poster-flop/</guid>
      <description>&lt;p&gt;I gave &lt;a href=&#34;https://kbroman.org/blog/2011/09/16/my-first-fancy-poster/&#34;&gt;my first fancy poster&lt;/a&gt; yesterday, at MathBio3.&lt;/p&gt;
&lt;p&gt;I was hoping to use the experience as an opportunity to talk about how great poster sessions can be, and to refer to Terry Speed&amp;rsquo;s old &lt;a href=&#34;http://bulletin.imstat.org/category/terences-stuff/&#34;&gt;IMS bulletin column&lt;/a&gt; in praise of poster sessions [&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/terry/Bulletin34_06.pdf&#34;&gt;pdf&lt;/a&gt;], and then to go on to discuss how, for me, the interpersonal interactions at poster sessions are rather awkward. (For example, if you look at someone&amp;rsquo;s poster for a while, with the presenter standing there watching you, are you obliged to ask a question, or can you slink off?)&lt;/p&gt;
&lt;p&gt;However, other than two people I knew and lassoed over, I had just one person look at my poster. (He &lt;em&gt;was&lt;/em&gt; nice enough to ask me to explain it.)&lt;/p&gt;
&lt;p&gt;What went wrong?  Here are some possibilities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;There is some design flaw in my poster&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I&amp;rsquo;m scary to look at&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;My poster was in a bad location (at the end rather than the middle)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It was 5:30pm and people just wanted to drink&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I&amp;rsquo;m a loser&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;m going to conclude &lt;em&gt;location&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As at many conferences, the posters were not treated well.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The poster abstracts were not distributed (not even titles were given)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The poster session was at the end of the day (not last, but next-to-last)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The poster session was only 1 hour long, and it started 20 min late (the talks went over time)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They did have 10/30 poster presenters give a 1 minute introduction to their poster, right before the session.  That worked very well (for those 10 people).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Seminars, bad and good</title>
      <link>/2011/09/29/seminars-bad-and-good/</link>
      <pubDate>Thu, 29 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/29/seminars-bad-and-good/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://rafalab.jhsph.edu&#34;&gt;Rafael Irizarry&lt;/a&gt; &lt;a href=&#34;http://simplystatistics.tumblr.com/post/10686092687/25-minute-seminars&#34;&gt;recently proposed&lt;/a&gt; that the standard 50 min seminar be reduced to 25 min, with the extra time devoted to discussion. I &lt;a href=&#34;http://simplystatistics.tumblr.com/post/10686092687/25-minute-seminars#comment-320436760&#34;&gt;commented there&lt;/a&gt; but should have just written at greater length here. I&amp;rsquo;ll do so now.&lt;/p&gt;
&lt;h3 id=&#34;bad-seminars&#34;&gt;Bad seminars&lt;/h3&gt;
&lt;p&gt;The overriding characteristic of a bad seminar is a lack of empathy for the audience.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Skipping the motivation and jumping into a pile of theory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Covering way too much material too quickly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Talking about something that is boring and/or trivial.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mucking about in details, particularly regarding simulations results.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Going over time, even by a minute.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Self-censorship is important. If you don&amp;rsquo;t have something new and interesting to say, talk about something old and interesting or don&amp;rsquo;t talk.&lt;/p&gt;
&lt;h3 id=&#34;good-seminars&#34;&gt;Good seminars&lt;/h3&gt;
&lt;p&gt;An interesting topic (particularly, interesting data with an interesting question) trumps almost all else. I can be entertained with drivel, but afterwards I&amp;rsquo;ll realize it was drivel.&lt;/p&gt;
&lt;p&gt;Show the data first. Skip the outline slide and jump into the data. With the problem understood, you can then explain how you&amp;rsquo;ll spend the rest of our time.&lt;/p&gt;
&lt;p&gt;Focus on one thing and explain it well. I don&amp;rsquo;t want to see everything you&amp;rsquo;ve done in the last year or two, especially if it means it&amp;rsquo;ll be too fast to be understood; I just want to understand one thing that you&amp;rsquo;ve been thinking about.&lt;/p&gt;
&lt;p&gt;Know your audience. Know what you should explain and what you can leave unexplained. (If in doubt, explain it. Most people are happy to hear a nice summary of something they know well, and if you lose them, you&amp;rsquo;re not likely to ever get them back.) Know what people will find interesting and what they will want skipped over.  This will be different for different audiences.&lt;/p&gt;
&lt;p&gt;Skip the details of simulations results. Since you can modify the settings to get almost anything, I don&amp;rsquo;t really want to see detailed power curves (and definitely &lt;em&gt;don&amp;rsquo;t show me tables&lt;/em&gt;); skip to the bottom line.&lt;/p&gt;
&lt;p&gt;Show lots of pictures, a few words, and almost no formulas. (&lt;a href=&#34;http://rafalab.jhsph.edu&#34;&gt;Rafa&lt;/a&gt; has said to use no Greek letters, and has also said to use only pictures. I say: at least find a way to dispense with the subscripts.)&lt;/p&gt;
&lt;p&gt;Label your figures, and not with &lt;code&gt;x[,1]&lt;/code&gt; and &lt;code&gt;x[,2]&lt;/code&gt;.  Don&amp;rsquo;t copy-and-paste from a paper (unless perhaps it&amp;rsquo;s to demonstrate how crappy the paper is; &lt;em&gt;that&amp;rsquo;s entertainment!&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;Give a succinct summary at the end, in case the audience has lost track.&lt;/p&gt;
&lt;h3 id=&#34;25-minutes&#34;&gt;25 minutes?&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m warming to the 25 min concept, but I&amp;rsquo;m still cool.  I can generally see how to edit others&#39; talks down to 25 min, but my own?  I feel like I need that time.  But perhaps that&amp;rsquo;s because&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I work on such obscure problems that I have to spend 20 min on background.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I&amp;rsquo;m lazy.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I&amp;rsquo;ve been trained to talk for 50 min.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I just like to talk.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Still, it&amp;rsquo;s difficult or impossible to retain audience members&#39; attention for much more than 25 min, and I can edit even my own talks to 25 min if I make a few approximations.&lt;/p&gt;
&lt;h3 id=&#34;however&#34;&gt;However&lt;/h3&gt;
&lt;p&gt;If we&amp;rsquo;re going to cut seminars to 25 min, let&amp;rsquo;s not fill out the hour with questions and discussion.  Let&amp;rsquo;s just go home early (or chat over coffee).&lt;/p&gt;
&lt;p&gt;The discussion period of seminars is seldom so interesting that it deserves so much time.  Of course there are exceptions, but usually it&amp;rsquo;s a few people asking lame purposeless questions.&lt;/p&gt;
&lt;p&gt;Perhaps, though, the questions are lame only because we&amp;rsquo;re all tired and want to go home.  After a refreshing 25 min talk, maybe we&amp;rsquo;ll be keen to delve deeper in an unstructured way.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Meetings vs work</title>
      <link>/2011/09/28/meetings-vs-work/</link>
      <pubDate>Wed, 28 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/28/meetings-vs-work/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://rafalab.jhsph.edu&#34;&gt;Rafael Irizarry&lt;/a&gt; wrote about &lt;a href=&#34;http://simplystatistics.tumblr.com/post/10402321009/meetings&#34;&gt;how meetings at work get in the way of actual work&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I agree with his central point, that it can take some time to get back working on a project (whether data analysis, programming, or writing), and so blocks of less than a couple of hours can be inefficient.  Meetings that break up a work day can really erode one&amp;rsquo;s productivity: academics often spend too much time meeting and not enough actually working, and three hour-long meetings spaced evenly throughout the day can mean that you don&amp;rsquo;t get anything real done in the other five hours.&lt;/p&gt;
&lt;p&gt;For me, the &amp;ldquo;ramp up&amp;rdquo; time for a project is less about re-familiarizing myself with the data files (though that can be true if I&amp;rsquo;ve not kept them well organized) and is more about the procrastination barrier (ie, inertia) and not keeping a good record of small chunks of work to tackle.&lt;/p&gt;
&lt;p&gt;So, in addition to Rafa&amp;rsquo;s comment, that it&amp;rsquo;s best to pack meetings onto the same day (and I&amp;rsquo;m particularly happy when multiple meetings get scheduled at the same time, so I only have to go to one of them), I would add&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Keep files organized and documented (so you don&amp;rsquo;t have to spend much time figuring out where things are)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Keep a &amp;ldquo;to do&amp;rdquo; list that is split into small chunks (like, &amp;ldquo;do this, than that, than that, than that&amp;rdquo;) rather than as whole projects (&amp;ldquo;work on project X&amp;rdquo;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There&amp;rsquo;s a dual issue: many of my colleagues (wherever I&amp;rsquo;ve been):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t show up for meetings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t show up for seminars&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Don&amp;rsquo;t volunteer to meet or share a meal with visiting seminar speakers&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It&amp;rsquo;s important to protect one&amp;rsquo;s time and actually get things done, but you shouldn&amp;rsquo;t hide in your office with your door closed all week.&lt;/p&gt;
&lt;p&gt;One last point: I&amp;rsquo;m surprised that Rafa hadn&amp;rsquo;t mentioned his idea of having all meetings done with everyone standing (rather than sitting), to ensure that meetings are kept as short as possible (don&amp;rsquo;t let anyone relax).  You might extend that idea further and insist on some sort of stress position.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Ghastly R code</title>
      <link>/2011/09/27/ghastly-r-code/</link>
      <pubDate>Tue, 27 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/27/ghastly-r-code/</guid>
      <description>&lt;p&gt;My R package, &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt;, contains about 33k lines of R code (and 21k lines of C code).  Some of it is quite good; &lt;a href=&#34;https://kbroman.org/blog/2011/08/17/the-stupidest-r-code-ever/&#34;&gt;some of it is terrible&lt;/a&gt;.  Here&amp;rsquo;s another example of the terrible.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve long needed to revise the function &lt;a href=&#34;https://github.com/kbroman/qtl/blob/master/R/scantwo.R&#34;&gt;&lt;code&gt;scantwo&lt;/code&gt;&lt;/a&gt;, for performing a two-dimensional genome scan for pairs of loci.  I was looking at the function today, and was aghast to find that it&amp;rsquo;s 1354 lines long.  That&amp;rsquo;s &lt;strong&gt;4%&lt;/strong&gt; of the R code in the package!&lt;/p&gt;
&lt;p&gt;And the R code is just moving data and results around; the actual calculations are in C (in a series of files that comprise 4725 lines &amp;ndash; &lt;strong&gt;20%&lt;/strong&gt; of the C code in the package).&lt;/p&gt;
&lt;p&gt;Yuck.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Gamified</title>
      <link>/2011/09/26/gamified/</link>
      <pubDate>Mon, 26 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/26/gamified/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://geospaced.blogspot.com/&#34;&gt;Barry Rowlingson&lt;/a&gt; gave an interesting talk at &lt;a href=&#34;https://kbroman.org/blog/2011/08/20/user-conference-2011-highlights/&#34;&gt;UseR 2011&lt;/a&gt;, &amp;ldquo;Why R-help must die!&amp;rdquo; He suggested the Q-and-A type sites &lt;a href=&#34;https://stackoverflow.com&#34;&gt;Stack Overflow&lt;/a&gt; (on programming) and &lt;a href=&#34;https://stats.stackexchange.com&#34;&gt;Cross Validated&lt;/a&gt; (on statistics), both part of &lt;a href=&#34;https://stackexchange.com&#34;&gt;Stack Exchange&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;An interesting feature of these sites is that, in addition to voting up and down on the questions and answers, one accrues &lt;a href=&#34;https://stats.stackexchange.com/faq#reputation&#34;&gt;reputation points&lt;/a&gt;. I&amp;rsquo;ve found this to be surprisingly addictive, and perhaps that&amp;rsquo;s the goal. Consider the O&amp;rsquo;Reilly book &lt;a href=&#34;https://www.amazon.com/exec/obidos/ASIN/1449397670/7210-20&#34;&gt;Gamification by design&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I agree with Barry that these sites are an excellent replacement for &lt;a href=&#34;https://www.stat.math.ethz.ch/pipermail/r-help/&#34;&gt;R-help&lt;/a&gt;, which I stopped paying attention to years ago. The format is easier to read, math and code can be nicely formatted, the questions are tagged, search is easier, and there should be less redundancy.&lt;/p&gt;
&lt;p&gt;But currently &lt;a href=&#34;https://stackoverflow.com/questions/tagged/r&#34;&gt;the R questions at StackOverflow&lt;/a&gt; are rather advanced, and so I&amp;rsquo;ve found the general statistics site, &lt;a href=&#34;https://stats.stackexchange.com&#34;&gt;Cross Validated&lt;/a&gt;, a bit more fun (that is, I&amp;rsquo;m more able to answer the questions).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Infographic</title>
      <link>/2011/09/22/infographics/</link>
      <pubDate>Thu, 22 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/22/infographics/</guid>
      <description>&lt;p&gt;I saw this great infographic at Andrew Gelman&amp;rsquo;s blog:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.flickr.com/photos/smoy/6143338263/&#34;&gt;&lt;img src=&#34;https://farm7.static.flickr.com/6190/6143338263_d2497c02fe.jpg&#34; alt=&#34;MOST POPULAR INFOGRAPHICS&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m inclined to &lt;a href=&#34;https://society6.com/albyantoniazzi/MOST-POPULAR-INFOGRAPHICS-You-can-find-around-the-Web_Print?show=promoters#user_list&#34;&gt;buy an art print&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note the relationship between the central panel and the cover of the latest &lt;a href=&#34;https://magazine.amstat.org/&#34;&gt;Amstat News&lt;/a&gt; (always a good source for embarrassing figures):&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/09/amstatnews.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Lager yeast</title>
      <link>/2011/09/19/lager-yeast/</link>
      <pubDate>Mon, 19 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/19/lager-yeast/</guid>
      <description>&lt;p&gt;Last week, I attended an excellent seminar by &lt;a href=&#34;http://hittinger.genetics.wisc.edu/&#34;&gt;Chris Hittinger&lt;/a&gt; on the identification and evolution of &lt;a href=&#34;http://hittinger.genetics.wisc.edu/#Aug22_2011&#34;&gt;lager yeast&lt;/a&gt; (see &lt;a href=&#34;http://www.pnas.org/content/early/2011/08/17/1105430108.full.pdf+html&#34;&gt;the paper&lt;/a&gt;), part of &lt;a href=&#34;http://www.evolution.wisc.edu/node/30&#34;&gt;my favorite seminar series&lt;/a&gt;, on &lt;a href=&#34;http://www.evolution.wisc.edu&#34;&gt;evolution&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[Forgive me if this description is not fully accurate.] Ales are the original (proper, better tasting) type of beer; they&amp;rsquo;re brewed at a warmer temperature, with &amp;ldquo;top-fermenting&amp;rdquo; yeast (the yeast rises to the top or is suspended throughout the column). Lagers were developed in the 15th century in Bavaria and are brewed at a colder temperature, with &amp;ldquo;bottom-fermenting&amp;rdquo; yeast (the yeast settles to the bottom). Lagers spread world-wide in the 19th century, and now are the most popular fermented beverage (but that&amp;rsquo;s mostly &lt;a href=&#34;http://www.millercoors.com&#34;&gt;swill&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;(Chris explained the top vs bottom business: it has to do with &lt;a href=&#34;http://en.wikipedia.org/wiki/Yeast_flocculation&#34;&gt;flocculation&lt;/a&gt; genes; lager yeast clumps together and drop out of the suspension. Flocculation is different than precipitation; the latter concerns the case that the substance is first dissolved in the liquid rather than merely suspended.)&lt;/p&gt;
&lt;p&gt;The yeast for brewing ales is &lt;em&gt;Saccharomyces cerevisiae&lt;/em&gt;; it&amp;rsquo;s apparently long been known that lager yeast is a hybrid between the ale yeast and something else, but the origin of that something else has not been known. Previous efforts to identify it have not been successful.&lt;/p&gt;
&lt;p&gt;Chris and colleagues (the &lt;a href=&#34;http://www.saccharomycessensustricto.org/cgi-bin/s3&#34;&gt;SSS Consortium&lt;/a&gt;) sought to expand the known yeast species by gathering new strains in the wild on five continents. As part of that effort, they identified a new species in Argentina, adapted to fermenting in cold temperatures, that turned out to be the missing part of the hybrid that formed lager yeast. They believe that the yeast was brought from South America to Bavaria sometime after the 15th century (when lagers were first developed) but before the 19th century (when they became widespread).&lt;/p&gt;
&lt;p&gt;Who would have thought you&amp;rsquo;d have to go to Argentina to figure this out?&lt;/p&gt;
&lt;p&gt;Chris mentioned that he prefers lager, while his former postdoc advisor, &lt;a href=&#34;http://www.genetics.wustl.edu/mjlab/&#34;&gt;Mark Johnston&lt;/a&gt;, prefers ales, and that they&amp;rsquo;ve had more debate on that point than on the science. I agree with Mark.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My first fancy poster</title>
      <link>/2011/09/16/my-first-fancy-poster/</link>
      <pubDate>Fri, 16 Sep 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/09/16/my-first-fancy-poster/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m preparing my first large-format poster (for the MathBio3 conference, here in Madison in two weeks). Previously, my posters had just been on a series of pieces of regular paper. (Consider, for example, &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/posters/gaw11.pdf&#34;&gt;this poster&lt;/a&gt; from September, 1998.)  But no one does that anymore, and I don&amp;rsquo;t want to stand out as being archaic.  That is, I want to pretend to be modern.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s my draft:
&lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/posters/mathbio2011.pdf&#34;&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/09/poster.png&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I got a LaTeX template from Śaunak Sen, which originally came from &lt;a href=&#34;http://www.nathanieljohnston.com/2009/08/latex-poster-template/&#34;&gt;Nathaniel Johnston&lt;/a&gt; and uses the &lt;a href=&#34;http://www-i6.informatik.rwth-aachen.de/~dreuw/latexbeamerposter.php&#34;&gt;Beamer poster&lt;/a&gt; style. That made it super easy; I hardly even needed to know what I was doing.&lt;/p&gt;
&lt;p&gt;Not having a good sense of how this 1m x 1m poster is actually going to look, I  used Acrobat to print it onto a bunch of pieces of paper (&amp;ldquo;Tile all pages&amp;rdquo; in the print dialog), which I then reassembled with scissors and tape.&lt;/p&gt;
&lt;p&gt;It looks like it will be fine.
&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/09/photo_of_poster.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Maybe I should save the $50 or $100 and post the black-and-white, pasted-together version?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Quick labels within figures</title>
      <link>/2011/08/26/quick-labels-within-figures-done-right/</link>
      <pubDate>Fri, 26 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/08/26/quick-labels-within-figures-done-right/</guid>
      <description>&lt;p&gt;One of the coolest R packages I heard about at the &lt;a href=&#34;http://www.warwick.ac.uk/statsdept/user-2011/&#34;&gt;useR! Conference&lt;/a&gt;: &lt;a href=&#34;http://members.cbio.mines-paristech.fr/~thocking/&#34;&gt;Toby Dylan Hocking&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;http://directlabels.r-forge.r-project.org/&#34;&gt;directlabels&lt;/a&gt; package for putting labels directly next to the relevant curves or point clouds in a figure.&lt;/p&gt;
&lt;p&gt;I think I first learned about this idea from &lt;a href=&#34;https://www.andrewgelman.com&#34;&gt;Andrew Gelman&lt;/a&gt;: that a separate legend requires a lot of back-and-forth glances, so it&amp;rsquo;s better to put the labels right by the relevant bits. For example, like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/direct_by_hand.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;rather than this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/legend.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve adopted this approach as much as possible, though it often requires a bit of work (and thought) to get the labels in just the right place. Here&amp;rsquo;s the code I used for the first of those pictures. (It was relatively easy here.)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(con &amp;lt;- url(&amp;quot;https://www.biostat.wisc.edu/~kbroman/blog/mapexpansion.RData&amp;quot;))
close(con)

plot(dat[,1], dat[,4],
     xlab=expression(paste(&amp;quot;Generation &amp;quot;, F[k])),
     ylab=&amp;quot;Map expansion&amp;quot;,
     type=&amp;quot;l&amp;quot;, lwd=2, col=&amp;quot;black&amp;quot;, las=1,
     xaxs=&amp;quot;i&amp;quot;, yaxs=&amp;quot;i&amp;quot;, ylim=c(0, 7))

for(i in 2:3)
  lines(dat[,1], dat[,i], lwd=2, col=c(&amp;quot;blue&amp;quot;, &amp;quot;red&amp;quot;)[i-1])

text(17, dat[18,-1]-0.1, paste(colnames(dat)[-1], &amp;quot;-way&amp;quot;, sep=&amp;quot;&amp;quot;),
     adj=c(0,1), col=c(&amp;quot;blue&amp;quot;,&amp;quot;red&amp;quot;,&amp;quot;black&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The aim of the &lt;a href=&#34;http://directlabels.r-forge.r-project.org/&#34;&gt;directlabels&lt;/a&gt; package is get this without effort.&lt;/p&gt;
&lt;p&gt;I need to switch to either &lt;code&gt;lattice&lt;/code&gt; or &lt;code&gt;ggplot2&lt;/code&gt; (vs. base graphics). But I should be doing that anyway. I&amp;rsquo;ll try &lt;code&gt;lattice&lt;/code&gt; for this. I rearrange the data a bit, call &lt;code&gt;xyplot&lt;/code&gt; and then use &lt;code&gt;direct.labels&lt;/code&gt; to make the actual plot, as follows. (Note the use of &lt;code&gt;with&lt;/code&gt; and &lt;code&gt;gl&lt;/code&gt;, which I just learned about from &lt;a href=&#34;https://4dpiecharts.com/2011/08/22/more-useless-statistics/&#34;&gt;Richie Cotton&lt;/a&gt;.)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(lattice)
library(directlabels)

dat2 &amp;lt;- with(dat, data.frame(gen=rep(gen,3),
                             mapexpansion=c(two, four, eight),
                             cross=gl(3, nrow(dat), labels=c(&amp;quot;two&amp;quot;,&amp;quot;four&amp;quot;,&amp;quot;eight&amp;quot;))))

p &amp;lt;- xyplot(mapexpansion ~ gen, data=dat2, groups=cross, type=&amp;quot;l&amp;quot;, lwd=2)
direct.label(p)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And here&amp;rsquo;s what I get:
&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/from_directlabels.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;For a final figure for publication, one will want to do some editing by hand, but for day-to-day graphics, this looks really useful. The following is the &amp;ldquo;real&amp;rdquo; version of the above figure, from &lt;a href=&#34;https://www.biostat.wisc.edu/~kbroman/publications/preCCprob.pdf&#34;&gt;a paper under review&lt;/a&gt;, using a mixture of legend and direct labels:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/fig_in_paper.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s another figure I&amp;rsquo;m quite proud of, from a paper nearing submission.
&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/phyloqtl.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>useR! Conference 2011 highlights</title>
      <link>/2011/08/20/user-conference-2011-highlights/</link>
      <pubDate>Sat, 20 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/08/20/user-conference-2011-highlights/</guid>
      <description>&lt;p&gt;I was at the &lt;a href=&#34;http://www.warwick.ac.uk/statsdept/user-2011/&#34;&gt;useR! Conference&lt;/a&gt; at &lt;a href=&#34;http://www.warwick.ac.uk&#34;&gt;The University of Warwick&lt;/a&gt; in &lt;a href=&#34;http://maps.google.com/maps?q=Coventry,+United+Kingdom&amp;amp;hl=en&amp;amp;ll=52.40577,-1.51062&amp;amp;spn=0.772453,1.207123&amp;amp;sll=52.953395,-1.148586&amp;amp;sspn=0.095353,0.15089&amp;amp;vpsrc=6&amp;amp;z=10&#34;&gt;Coventry, UK&lt;/a&gt;, last week. My goal in going was to learn the latest things regarding (simple) dynamic graphics, (simple) web-based apps, parallel computing, and memory management (dealing with big data sets). I got just what I was hoping for and more. There are a lot of useful tools available that I want to adopt. I&amp;rsquo;ll summarize the high points below, with the particular areas of interest to me covered more exhaustively than just &amp;ldquo;highlights&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;I left feeling that my programming skills are crap. My biggest failing is in not making sufficient use of others&#39; packages, but rather just building what I need from scratch (with great effort) and skipping dynamic graphics completely.&lt;/p&gt;
&lt;h2 id=&#34;general&#34;&gt;General&lt;/h2&gt;
&lt;p&gt;There were 440 participants from 41 countries (342 Europe; 60 North America).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stats.ox.ac.uk/~ripley/&#34;&gt;Prof. Brian Ripley&lt;/a&gt; [&lt;a href=&#34;http://www2.warwick.ac.uk/fac/sci/statistics/user-2011/images/tuesday/img_5278.jpg&#34;&gt;picture&lt;/a&gt; taken from &lt;a href=&#34;http://www2.warwick.ac.uk/fac/sci/statistics/user-2011/images/&#34;&gt;here&lt;/a&gt;] spoke about the R development process.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;There are now &amp;gt;3000 packages on CRAN, with 110 submissions per week (of which 80 are successful), basically all handled by &lt;a href=&#34;http://statmath.wu.ac.at/~hornik/&#34;&gt;Kurt Hornik&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CRAN will throw out binaries of packages that are more than two years old.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;What&amp;rsquo;s within the base of R will shrink rather than grow.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There have been a lot of improvements in the rendering of graphics.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;R is heavily dependent on a small number of altruistic developers, many of whom feel their contributions are not treated with respect.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;library()&lt;/code&gt; is to be replaced by &lt;code&gt;use()&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;There will soon be a &lt;code&gt;parallel&lt;/code&gt; package for &lt;a href=&#34;http://cran.r-project.org/web/views/HighPerformanceComputing.html&#34;&gt;parallel computing&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://www.r-bloggers.com/author/david-smith/&#34;&gt;David Smith&lt;/a&gt; from &lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;, in &lt;a href=&#34;http://prezi.com/s1qrgfm9ko4i/the-r-ecosystem/&#34;&gt;his talk on the R Ecosystem&lt;/a&gt;, claimed that there are more than 2 million R users.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://geospaced.blogspot.com/&#34;&gt;Barry Rowlingson&lt;/a&gt; gave a great lightning talk, &amp;ldquo;Why R-help must die!&amp;rdquo; He suggested the Q-and-A type sites &lt;a href=&#34;http://stackoverflow.com/&#34;&gt;Stack Overflow&lt;/a&gt; (on programming) and &lt;a href=&#34;http://stats.stackexchange.com/&#34;&gt;Cross Validated&lt;/a&gt; (on statistics), both part of &lt;a href=&#34;http://stackexchange.com/&#34;&gt;Stack Exchange&lt;/a&gt;; they hope to create an R-specific site soon (currently R things are split between the two).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.r-statistics.com/&#34;&gt;Tal Galili&lt;/a&gt; (founder of &lt;a href=&#34;http://www.r-bloggers.com/&#34;&gt;R-bloggers&lt;/a&gt;) gave a lightning talk about blogging and R. He emphasized that one need not write frequent posts. At the &lt;a href=&#34;http://user2010.org/&#34;&gt;2010 useR! Conference&lt;/a&gt; he gave a more comprehensive introduction to blogging available &lt;a href=&#34;http://www.r-statistics.com/2010/07/blogging-about-r-presentation-and-audio/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.ams.med.uni-goettingen.de/amsneu/leha-en.shtml&#34;&gt;Andreas Leha&lt;/a&gt; talked about emacs &lt;a href=&#34;http://orgmode.org/&#34;&gt;org-mode&lt;/a&gt; for reproducible research: sort of like &lt;a href=&#34;http://www.stat.uni-muenchen.de/~leisch/Sweave/&#34;&gt;Sweave&lt;/a&gt; but it will take a large number of possible languages (R, python, Java, &amp;hellip;) and can produce html as well as pdf.&lt;/p&gt;
&lt;p&gt;Tobias Verbeke from &lt;a href=&#34;http://www.openanalytics.eu/&#34;&gt;OpenAnalytics&lt;/a&gt; talked about &lt;a href=&#34;http://www.walware.de/goto/statet&#34;&gt;StatET&lt;/a&gt;, an &lt;a href=&#34;http://www.eclipse.org/eclipse/&#34;&gt;Eclipse&lt;/a&gt;-based IDE for R (especially useful for debugging).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.portfolioprobe.com/blog&#34;&gt;Patrick Burns&lt;/a&gt; talked about &lt;a href=&#34;http://www.portfolioprobe.com/2011/08/23/random-input-software-testing/&#34;&gt;random input software testing&lt;/a&gt; and had a great analogy: if writing test suites is like digging ditches, random input testing is like digging in the sand (ie, fun). (I do random input testing, but with my users providing the inputs.) [&lt;a href=&#34;http://www.burns-stat.com/pages/Present/random_input_test_annotated.pdf&#34;&gt;slides (with transcript)&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Olaf Mersmann gave a cool talk about &lt;a href=&#34;http://cran.r-project.org/web/packages/microbenchmark/index.html&#34;&gt;microbenchmark&lt;/a&gt; to get accurate nanosecond timings of R expressions. Why do that? Because if you repeat something 1000 times in a &lt;code&gt;for&lt;/code&gt; loop and then time it with &lt;code&gt;system.time()&lt;/code&gt;, you are including the overhead of the &lt;code&gt;for&lt;/code&gt; loop.&lt;/p&gt;
&lt;p&gt;The next useR! Conference will be at Vanderbilt in Nashville, TN, June 12-15, 2012.&lt;/p&gt;
&lt;h2 id=&#34;graphics&#34;&gt;Graphics&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://cbio.ensmp.fr/~thocking/&#34;&gt;Toby Dylan Hocking&lt;/a&gt; had a poster about the &lt;a href=&#34;http://directlabels.r-forge.r-project.org/&#34;&gt;directlabels&lt;/a&gt; package for putting labels near curves or clusters of points in a plot rather than have a separate legend. I really like the technique and am eager to try out the package. For figures for a publication, one will probably want to edit things by hand, but for day-to-day, the package looks extremely useful.&lt;/p&gt;
&lt;p&gt;Sina Rüeger presented &lt;a href=&#34;http://uniplot.sinarueeger.ch/&#34;&gt;uniPlot&lt;/a&gt; to reduce time to polish reports, by making base graphics, ggplot2, and lattice all use the same style (otherwise the reader may be distracted by the differences). [&lt;a href=&#34;http://cran.r-project.org/web/packages/uniPlot/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Alexander Kowarik presented &lt;a href=&#34;http://cran.r-project.org/web/packages/sparkTable/&#34;&gt;sparkTable&lt;/a&gt; for creating html tables with very small graphs included.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://simon.urbanek.info/&#34;&gt;Simon Urbanek&lt;/a&gt; mentioned several new features in R graphics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;R will soon include &lt;code&gt;dev.hold()&lt;/code&gt; and &lt;code&gt;dev.flush()&lt;/code&gt; (written by &lt;a href=&#34;http://www.stats.ox.ac.uk/~ripley/&#34;&gt;Prof. Brian Ripley&lt;/a&gt;) so that you can tell a graphics device when you actually want to see a plot. This should improve graphics rendering.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;rasterImage()&lt;/code&gt; is way faster than &lt;code&gt;image()&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;osmap()&lt;/code&gt; to get &lt;a href=&#34;http://www.openstreetmap.org/&#34;&gt;OpenStreetMap&lt;/a&gt; maps in one line, with different zoom levels. [It&amp;rsquo;s in the &lt;a href=&#34;http://www.rforge.net/snippets/&#34;&gt;snippets&lt;/a&gt; package.]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;polypath()&lt;/code&gt; to plot polygons with holes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;dynamic-graphics&#34;&gt;Dynamic graphics&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stat.auckland.ac.nz/~paul/&#34;&gt;Paul Murrell&lt;/a&gt; gave an especially cool talk on turning a PDF of a campus map of the University of Aukland into a dynamic graph where mousing over a number in the legend lights up the number at the corresponding building (and vice versa). The pdf was converted to postscript, loaded into R via &lt;a href=&#34;http://cran.r-project.org/web/packages/grImport/index.html&#34;&gt;grImport&lt;/a&gt; and written to an SVG via &lt;a href=&#34;http://www.stat.auckland.ac.nz/~paul/&#34;&gt;gridSVG&lt;/a&gt;. There was a bit of javascript to write. [&lt;a href=&#34;http://www.stat.auckland.ac.nz/~paul/Talks/UseR2011/processing.pdf&#34;&gt;slides&lt;/a&gt; | &lt;a href=&#34;http://www.stat.auckland.ac.nz/~paul/Talks/UseR2011/&#34;&gt;page with the interactive maps&lt;/a&gt; (you may need &lt;a href=&#34;http://www.mozilla.com/en-US/firefox/new/&#34;&gt;Firefox&lt;/a&gt; for the maps)]&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stats.gla.ac.uk/~adrian/&#34;&gt;Adrian Bowman&lt;/a&gt; gave a talk on modeling 3d surfaces with some great dynamic graphics using &lt;a href=&#34;http://rgl.neoscientists.org/about.shtml&#34;&gt;RGL&lt;/a&gt; and &lt;a href=&#34;http://www.stats.gla.ac.uk/~adrian/rpanel/&#34;&gt;rpanel&lt;/a&gt;. He had some cool animations in his PDF, too, developed with the &lt;a href=&#34;http://www.tug.org/texlive/Contents/live/texmf-dist/doc/latex/animate/&#34;&gt;animate&lt;/a&gt; package for LaTeX.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://simon.urbanek.info/&#34;&gt;Simon Urbanek&lt;/a&gt; talked about &lt;a href=&#34;http://www.rosuda.org/iplots/&#34;&gt;iPlots&lt;/a&gt; eXtreme (currently: codename &lt;a href=&#34;http://rforge.net/Acinonyx/&#34;&gt;Acinonyx&lt;/a&gt;) which has fabulous and easy-to-create dynamic graphics. You basically just prefix the usual plot functions with an &amp;ldquo;i&amp;rdquo; (iplot, ihist). Super fast and can handle big data sets. It uses &lt;a href=&#34;http://www.opengl.org/&#34;&gt;OpenGL&lt;/a&gt; (a solution developed by the gaming industry).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://spotfire.tibco.com&#34;&gt;TIBCO Spotfire&lt;/a&gt; has some ways to develop interactive graphics tools, but it&amp;rsquo;s commercial and Windows only.&lt;/p&gt;
&lt;p&gt;Ian Hansel talked about Rocessing, for combining &lt;a href=&#34;http://processing.org/&#34;&gt;processing&lt;/a&gt; with &lt;a href=&#34;http://www.r-project.org&#34;&gt;R&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://4dpiecharts.com/&#34;&gt;Richie Cotton&lt;/a&gt; talked about the use of &lt;a href=&#34;http://cran.r-project.org/web/packages/gWidgets/index.html&#34;&gt;gWidgets&lt;/a&gt; for easy interactive graphics. [&lt;a href=&#34;http://4dpiecharts.com/2011/08/17/user2011-easy-interactive-ggplots-talk/&#34;&gt;data and code here&lt;/a&gt;; also see &lt;a href=&#34;http://4dpiecharts.com/2010/10/06/creating-guis-in-r-with-gwidgets/&#34;&gt;this blog post&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://adrian.waddell.ch/&#34;&gt;Adrian Waddell&lt;/a&gt; talked about &lt;a href=&#34;https://r-forge.r-project.org/projects/rnavgraph/&#34;&gt;RnavGraph&lt;/a&gt; for interactive graphics. He had some neat ideas about navigating among multiple scatterplots: a graph where nodes are images and where moving along an edge between two nodes involves morphing from one image to another. Moving from one scatterplot to another is like rotating a 3d scatterplot. [&lt;a href=&#34;http://cran.r-project.org/web/packages/RnavGraph/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;h2 id=&#34;simple-web-applications&#34;&gt;Simple web applications&lt;/h2&gt;
&lt;p&gt;Timothee Carayol gave a lightning talk about how to use &lt;a href=&#34;http://www.omegahat.org/RGoogleDocs/&#34;&gt;RGoogleDocs&lt;/a&gt; and &lt;a href=&#34;http://rapache.net/&#34;&gt;rApache&lt;/a&gt; for quick and easy deployment of a web interface. You set up a spreadsheet, which acts as a configuration file for rApache, so RGoogleDocs handles the inputs in place of what could be complex web programming.  It sounds neat but I don&amp;rsquo;t fully understand it. But Timothee wrote to say that he would write a tutorial in the coming weeks. [&lt;a href=&#34;http://dl.dropbox.com/u/2312517/RGoogleDocs_rApache_useR2011.pdf&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.embl.de/research/units/genome_biology/huber/&#34;&gt;Wolfgang Huber&lt;/a&gt; gave a cool talk on the analysis of images of cells from a large experiment in which each gene is knocked down, one at a time, by RNAi. They are creating interactive reports that are like Sweave but using html5 to give dynamic reports viewed in a browser. He gave examples using the &lt;a href=&#34;http://www.bioconductor.org/packages/2.1/bioc/html/arrayQualityMetrics.html&#34;&gt;arrayQualityMetrics&lt;/a&gt; package. One can identify points via tooltips; multiple plots are linked; click to select/highlight; collapse/expand sections. Callback processing is in javascript. It uses the gridSVG package (which makes it mostly easy).&lt;/p&gt;
&lt;p&gt;Eleni-Anthippi Chatzimichali talked about &lt;a href=&#34;http://cran.r-project.org/web/packages/iWebPlots/index.html&#34;&gt;iWebPlots&lt;/a&gt; for making dynamic, web-based scatterplots.&lt;/p&gt;
&lt;h2 id=&#34;comprehensive-web-applications-and-guis&#34;&gt;Comprehensive web applications and GUIs&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://stat.wvu.edu/Faculty/jharner.html&#34;&gt;E. James Harner&lt;/a&gt; spoke about &lt;a href=&#34;http://www.warwick.ac.uk/statsdept/useR-2011/abstracts/010411-rc2.pdf&#34;&gt;Rc2&lt;/a&gt; for collaborative use of R (including shared R sessions with voice chat), aimed to support distance learning. It seems really complicated and not easily adapted for others&#39; use.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.iplantcollaborative.org/connect/staff-collaborators/naim-matasci&#34;&gt;Naim Matasci&lt;/a&gt; had a poster about &lt;a href=&#34;http://iplantcollaborative.org&#34;&gt;iPlant&lt;/a&gt; which has a fancy web front end with interactive analysis (using R). They have something like 10 developers working on it, but he said that the source code will be available and that it could be adapted for other purposes.&lt;/p&gt;
&lt;p&gt;Xavier de Pedro Puente discussed the use of &lt;a href=&#34;http://tiki.org&#34;&gt;Tiki&lt;/a&gt; with R to make comprehensive web sites with wiki-like pages including R (converted to output or graphs on the fly) or web-based forms. It uses his &lt;a href=&#34;https://doc.tiki.org/PluginR&#34;&gt;PluginR&lt;/a&gt; package. It seems a great idea, but is likely too complicated for me. The key coding is with &lt;a href=&#34;http://www.smarty.net/&#34;&gt;Smarty&lt;/a&gt;. [&lt;a href=&#34;http://ueb.ir.vhebron.net/2011+UseR&#34;&gt;slides&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;Jason Waddell and Tobias Verbeke from &lt;a href=&#34;http://www.openanalytics.eu/&#34;&gt;OpenAnalytics&lt;/a&gt; talked about the use of the &lt;a href=&#34;http://www.openanalytics.eu/r-service-bus&#34;&gt;R service bus&lt;/a&gt; [&lt;a href=&#34;http://rsb.doc.openanalytics.eu/&#34;&gt;documentation&lt;/a&gt;] for lab automation.&lt;/p&gt;
&lt;p&gt;David Nicolaides from &lt;a href=&#34;http://accelrys.com/&#34;&gt;Accelrys&lt;/a&gt; talked about browser-based applications using &lt;a href=&#34;http://accelrys.com/products/pipeline-pilot/&#34;&gt;Pipeline Pilot&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sheri Gilley from &lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt; presented a GUI that they&amp;rsquo;re working on. It looks like it will be superb for the novice who wants a GUI. They&amp;rsquo;ll have a beta by the end of 2011, with the real release in 2012. Sheri spent 25 years doing UI design at SPSS (so I guess she was 10 or 15 when she started).&lt;/p&gt;
&lt;h2 id=&#34;companies&#34;&gt;Companies&lt;/h2&gt;
&lt;p&gt;I was surprised by the large number of companies forming around R.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.revolutionanalytics.com/&#34;&gt;Revolution Analytics&lt;/a&gt;: have code for handling large datasets and parallel computing and are developing a GUI.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://rstudio.org&#34;&gt;RStudio&lt;/a&gt;: aimed to be an IDE (supporting programmers) rather than a GUI. Upcoming features (including quick traversal of code across multiple files) look cool, but I&amp;rsquo;ll probably stay with emacs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.mango-solutions.com/index.html&#34;&gt;Mango Solutions&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.openanalytics.eu/&#34;&gt;OpenAnalytics&lt;/a&gt;: &lt;a href=&#34;http://www.openanalytics.eu/r-service-bus&#34;&gt;R service bus&lt;/a&gt; and &lt;a href=&#34;http://www.walware.de/goto/statet&#34;&gt;StatET&lt;/a&gt; (IDE via &lt;a href=&#34;http://www.eclipse.org/eclipse/&#34;&gt;Eclipse&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://spotfire.tibco.com/&#34;&gt;TIBCO&lt;/a&gt;: purchased Insightful (who had bought Splus) in 2008.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.cloudnumbers.com&#34;&gt;CloudNumbers&lt;/a&gt;: cloud-based computing, including the use of R.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;talks-i-wish-id-seen&#34;&gt;Talks I wish I&amp;rsquo;d seen&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://ablejec.nib.si/&#34;&gt;Andrej Blejec&lt;/a&gt; talked about his animatoR package for creating animations in R.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.maths.bris.ac.uk/~MAZJCR/&#34;&gt;Jonathan Rougier&lt;/a&gt; talked about nomograms (and donkeys).&lt;/p&gt;
&lt;p&gt;Markus Gesmann talked about using the &lt;a href=&#34;http://code.google.com/apis/chart/index.html&#34;&gt;Google visualization API&lt;/a&gt; with R: the &lt;a href=&#34;http://cran.r-project.org/web/packages/googleVis/index.html&#34;&gt;googleVis&lt;/a&gt; package. [&lt;a href=&#34;http://code.google.com/p/google-motion-charts-with-r/&#34;&gt;detailed info&lt;/a&gt;]&lt;/p&gt;
&lt;h2 id=&#34;things-particularly-packages-i-need-to-try-out&#34;&gt;Things (particularly packages) I need to try out&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Emacs &lt;a href=&#34;http://orgmode.org&#34;&gt;org-mode&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://mosaic-web.org&#34;&gt;mosaic&lt;/a&gt; package for teaching [&lt;a href=&#34;http://cran.r-project.org/web/packages/mosaic/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://directlabels.r-forge.r-project.org/&#34;&gt;directlabels&lt;/a&gt; package for automatically putting labels directly next to curves or clouds of points.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/hexbin/index.html&#34;&gt;hexbin&lt;/a&gt; package for dense scatterplots.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://iplots.org&#34;&gt;iPlots&lt;/a&gt; eXtreme (&lt;a href=&#34;http://rforge.net/Acinonyx/&#34;&gt;Acinonyx&lt;/a&gt;) for fast dynamic graphics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/animation/index.html&#34;&gt;animation&lt;/a&gt; for making animations in R&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;grid and &lt;a href=&#34;http://had.co.nz/ggplot2/&#34;&gt;ggplot2&lt;/a&gt; (I&amp;rsquo;m still just using base graphics)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://r-forge.r-project.org/R/?group_id=761&#34;&gt;gWidgets&lt;/a&gt; and &lt;a href=&#34;http://www.stats.gla.ac.uk/~adrian/rpanel/&#34;&gt;rpanel&lt;/a&gt; for making simple dynamic graphics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stat.auckland.ac.nz/~paul/&#34;&gt;gridSVG&lt;/a&gt; for making complex web-based dynamic graphics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/sparkTable/&#34;&gt;sparkTable&lt;/a&gt; for making html tables with small figures inserted&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://uniplot.sinarueeger.ch/&#34;&gt;uniPlot&lt;/a&gt; for making base graphics, ggplot2, and lattice all use the same style. [&lt;a href=&#34;http://cran.r-project.org/web/packages/uniPlot/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://cran.r-project.org/web/packages/compareGroups/index.html&#34;&gt;compareGroups&lt;/a&gt; for making complex tables with confidence intervals and p-values and such, like epidemiologists (and my collaborators) often want&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.cranfield.ac.uk/health/researchareas/bioinformatics/page53292.html&#34;&gt;iWebPlots&lt;/a&gt; for making web-based plots [&lt;a href=&#34;http://cran.r-project.org/web/packages/iWebPlots/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.bioconductor.org/packages/2.1/bioc/html/arrayQualityMetrics.html&#34;&gt;arrayQualityMetrics&lt;/a&gt; which creates fancy web-based dynamic reports&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;osmap (contained in &lt;a href=&#34;http://www.rforge.net/snippets/&#34;&gt;snippets&lt;/a&gt;) for making maps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;animatoR for making animations&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://code.google.com/p/google-motion-charts-with-r/&#34;&gt;googlevis&lt;/a&gt; package [&lt;a href=&#34;http://cran.r-project.org/web/packages/googleVis/index.html&#34;&gt;CRAN&lt;/a&gt;]&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Introduction</title>
      <link>/2011/08/17/introduction/</link>
      <pubDate>Wed, 17 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/08/17/introduction/</guid>
      <description>&lt;p&gt;I&amp;rsquo;m at the &lt;a href=&#34;http://www.warwick.ac.uk/statsdept/user-2011/&#34;&gt;useR! Conference&lt;/a&gt; in Coventry, UK, this week. It&amp;rsquo;s been every bit as inspiring, interesting and useful as I&amp;rsquo;d hoped.&lt;/p&gt;
&lt;p&gt;Particularly interesting were the &lt;a href=&#34;http://www.warwick.ac.uk/statsdept/user-2011/lightning.html&#34;&gt;Lightning talks&lt;/a&gt;: a series of 5 minute presentations with one minute in between, with each presentation having 15 slides of 20 sec each, moved forward automatically.  It worked extremely well; more talks should be done this way!&lt;/p&gt;
&lt;p&gt;And particularly interesting, among the lightning talks, was one by &lt;a href=&#34;http://www.r-statistics.com&#34;&gt;Tal Galili&lt;/a&gt;, who started the &lt;a href=&#34;http://www.r-bloggers.com/&#34;&gt;R-bloggers&lt;/a&gt; blog aggregator. He encouraged the R community to blog. A particularly important point, for me, was his emphasis on not feeling a need to blog at great frequency: even once per year would be worthwhile.&lt;/p&gt;
&lt;p&gt;I had a blog in the past, but I felt a constant urge to be posting, and so felt guilty for not posting.  I have enough feelings of guilt in my life, and so I decided to just drop the blog.&lt;/p&gt;
&lt;p&gt;Also, my previous effort focused largely on personal matters (particularly my experiences as a new parent).  It perhaps got a bit too personal.  Here, I&amp;rsquo;m going to focus on less personal things, or at least on things that might embarrass me but aren&amp;rsquo;t likely to embarrass my family.&lt;/p&gt;
&lt;p&gt;And I&amp;rsquo;ve been thinking about blogging recently.  There are a number of blogs that I read regularly and quite enjoy, particularly those of &lt;a href=&#34;http://andrewgelman.com&#34;&gt;Andrew Gelman&lt;/a&gt;, &lt;a href=&#34;http://scienceblogs.com/pharyngula/&#34;&gt;PZ Myers&lt;/a&gt;, &lt;a href=&#34;http://genome.fieldofscience.com&#34;&gt;Steven Salzberg&lt;/a&gt;, &lt;a href=&#34;http://whyevolutionistrue.wordpress.com&#34;&gt;Jerry Coyne&lt;/a&gt;, and &lt;a href=&#34;http://www.blaghag.com&#34;&gt;Jen McCreight&lt;/a&gt;.  (Apologies to Prof. Coyne; his is a web site, &lt;a href=&#34;http://http://whyevolutionistrue.wordpress.com/2011/04/18/encomium/&#34;&gt;not a blog&lt;/a&gt;.)  I have strong opinions, I like to share them, and I&amp;rsquo;m not often asked to share them, and here I can share freely without prompting.&lt;/p&gt;
&lt;p&gt;So: statistics (especially graphics and computing), genetics (especially recombination and QTL mapping), programming (particularly R), and academics (the mistakes I&amp;rsquo;ve made and what I&amp;rsquo;ve learned).&lt;/p&gt;
&lt;p&gt;Since I generally still feel like an amateur in all of these matters (and I like to say: &amp;ldquo;You know you&amp;rsquo;re an expert when everyone else&amp;rsquo;s work looks just as crappy as your own.&amp;quot;), I won&amp;rsquo;t worry too much about getting everything right.  I certainly will want to avoid comparing myself to the people mentioned above.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The stupidest R code ever</title>
      <link>/2011/08/17/the-stupidest-r-code-ever/</link>
      <pubDate>Wed, 17 Aug 2011 00:00:00 +0000</pubDate>
      
      <guid>/2011/08/17/the-stupidest-r-code-ever/</guid>
      <description>&lt;p&gt;Let me tell you about my stupidest R mistake.&lt;/p&gt;
&lt;p&gt;In the R package that I write, &lt;a href=&#34;https://rqtl.org&#34;&gt;R/qtl&lt;/a&gt;, one of the main file formats is a comma-delimited file, where the blank cells in the second row are important, as they distinguish the initial phenotype columns from the genetic marker columns.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d gotten some reports that if there were &lt;em&gt;many&lt;/em&gt; phenotypes, the import of such a file could take an extremely long time. I ignored the problem (as it wasn&amp;rsquo;t a problem for me), but eventually it &lt;em&gt;did&lt;/em&gt; become a problem for me, and when I investigated, I found the following code.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# determine number of phenotypes based on initial blanks in row 2&lt;/span&gt;
n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ncol&lt;/span&gt;(data)
temp &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rep&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;,n)
&lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt;(i in &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n) {
  temp[i] &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;all&lt;/span&gt;(data[2,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;i]&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;temp[i]) break
}
&lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;any&lt;/span&gt;(temp)) &lt;span style=&#34;color:#75715e&#34;&gt;# no phenotypes!&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;stop&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;You must include at least one phenotype (e.g., an index).&amp;#34;&lt;/span&gt;)
n.phe &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;max&lt;/span&gt;((&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n)[temp])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here &lt;code&gt;data&lt;/code&gt; is the input matrix, and I use a &lt;code&gt;for&lt;/code&gt; loop over columns, looking for the first cell for which all preceding cells were empty. If you can understand the code above, I&amp;rsquo;m sure you&amp;rsquo;ll agree that it is really stupid. I think the code was in the package for at least five years, possibly even eight.&lt;/p&gt;
&lt;p&gt;For a file with 200 individuals and 1500 phenotypes, it would take about 60 seconds to load; after the fix (below), it took about 2 seconds. I spent 58 seconds looking for the first non-blank cell in the second row!&lt;/p&gt;
&lt;p&gt;In April, 2009, I fixed it (see the &lt;a href=&#34;https://github.com/kbroman/qtl/commit/4cd486&#34;&gt;commit&lt;/a&gt; at the &lt;a href=&#34;https://github.com/kbroman/qtl&#34;&gt;github repository&lt;/a&gt;) by replacing the above with the following.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;(data[2,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;stop&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;You must include at least one phenotype (e.g., an index).&amp;#34;&lt;/span&gt;)
n.phe &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;which&lt;/span&gt;(data[2,] &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;))&lt;span style=&#34;color:#ae81ff&#34;&gt;-1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you don&amp;rsquo;t quite understand what I&amp;rsquo;m talking about, here&amp;rsquo;s a picture of one of these comma-delimited files; this one has three phenotypes.
&lt;img src=&#34;https://kbroman.files.wordpress.com/2011/08/examplecsv.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Open source means everyone can see my stupid mistakes.  Version control means everyone can see every stupid mistake I&amp;rsquo;ve ever made.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
