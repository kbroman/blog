<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.40.1" />


<title>Interactive graphics with d3.js - the stupidest thing...</title>
<meta property="og:title" content="Interactive graphics with d3.js - the stupidest thing...">



  







<link rel="stylesheet" href="https://kbroman.org/blog/css/fonts.css" media="all">
<link rel="stylesheet" href="https://kbroman.org/blog/css/main.css" media="all">

<link rel="stylesheet" href="https://kbroman.org/blog/css/custom.css">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://kbroman.org/blog/" class="nav-logo">
    <img src="https://kbroman.org/blog/images/karl.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <a href="https://kbroman.org/blog/" class="nav-title">the stupidest thing...</a>

  <ul class="nav-links">
    
    <li><a href="https://kbroman.org/blog/about">
            <img alt="about" src="../../../../images/about_logo.png" class="nav-link"/>
            </a></li>
    
    <li><a href="https://github.com/kbroman">
            <img alt="github" src="../../../../images/github_logo.png" class="nav-link"/>
            </a></li>
    
    <li><a href="https://twitter.com/kwbroman">
            <img alt="twitter" src="../../../../images/twitter_logo.png" class="nav-link"/>
            </a></li>
    
    <li><a href="https://kbroman.org">
            <img alt="web" src="../../../../images/web_logo.png" class="nav-link"/>
            </a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">2 min read</span>
    

    <h1 class="article-title">Interactive graphics with d3.js</h1>

    
    <span class="article-date">2013/02/08</span>
    

    <div class="article-content">
      

<p>I&rsquo;m making some progress learning <a href="https://d3js.org">D3</a> (for interactive graphics), by which I mean I&rsquo;ve gotten a couple of examples to work.</p>

<h3 id="many-box-plots">Many box plots</h3>

<p>First, an <a href="https://www.biostat.wisc.edu/~kbroman/D3/manyboxplots">example for displaying many distributions</a>.  Here I&rsquo;m considering a set of nearly 500 gene expression microarrays, each with 40,000 or so measurements.  It&rsquo;s hard to look at 500 box plots side-by-side, and with 40k measurements, traditional box plots don&rsquo;t give enough information about the tails.</p>

<p><a href="https://www.biostat.wisc.edu/~kbroman/D3/manyboxplots"><img src="https://kbroman.files.wordpress.com/2013/02/manyboxplots.png" alt="Many box plots" /></a></p>

<p>In the top figure, the 500 arrays are aligned next to each other, sorted by their median, and then I show the 1, 5, 10, 25 50, &hellip;, 99th percentiles.  The advantage of the interactive plot is that you can hover over a given array on the top and see a more detailed histogram below.  And if you click on an array, its histogram will be retained below, for easy comparison to other arrays.</p>

<h3 id="lod-curves-and-qtl-effects">LOD curves and QTL effects</h3>

<p>As a <a href="https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect">second example</a>, I plot the LOD curves from QTL analysis across the genome; click on a chromosome above and you get a more detailed view of that chromosome in the bottom-left; click on a marker position in the bottom-left, and you get a view of the QTL effect on the bottom-right.</p>

<p><a href="https://www.biostat.wisc.edu/~kbroman/D3/lod_and_effect"><img src="https://kbroman.files.wordpress.com/2013/02/lod_and_effect1.png" alt="LOD curves and QTL effects" /></a></p>

<p>Likely none of that is understandable; let me try to explain.  QTL stands for &ldquo;quantitative trait locus,&rdquo; a region of the genome (i.e., locus) that influences some quantitative trait (like insulin level in serum).  To identify QTL, we look at the association between the quantitative trait and genotype at each of many genetic markers across the genome.  We&rsquo;re basically doing analysis of variance, but we express the results as a log10 likelihood ratio, called the LOD score.</p>

<p>The advantage of this interactive graph is that you have some ability to look at the underlying genotype/phenotype association, rather than just rely on LOD curves.  It would be nice to include the option of a dot-plot on the lower right, rather than just the within-group averages.</p>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  
  var disqus_config = function () {
    this.page.url = "https:\/\/kbroman.org\/blog" + location.pathname;
  };
  
  (function() {
   var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//kbroman-blog.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="https://creativecommons.org/licenses/by/4.0/legalcode"><img src="https://kbroman.org/blog/images/cc-by.svg" height="28" style="vertical-align:middle;"></a>
          </li>
        </ul>
      </footer>

    </div>
    

    

    
  </body>
</html>

